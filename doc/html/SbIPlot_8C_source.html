<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SteelBreeze Reference Manual: SbIPlot.C Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SteelBreeze Reference Manual
   &#160;<span id="projectnumber">2.0.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_070a9b14bd5bd1b0373ba78839806e3d.html">src</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">SbIPlot.C</div>  </div>
</div>
<div class="contents">
<a href="SbIPlot_8C.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * This file is part of SteelBreeze.</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * SteelBreeze, the geodetic VLBI data analysing software.</span>
<a name="l00006"></a>00006 <span class="comment"> * Copyright (C) 1998-2003 Sergei Bolotin, MAO NASU, Kiev, Ukraine.</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * SteelBreeze is free software; you can redistribute it and/or modify</span>
<a name="l00009"></a>00009 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
<a name="l00010"></a>00010 <span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span>
<a name="l00011"></a>00011 <span class="comment"> * (at your option) any later version.</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> * SteelBreeze is distributed in the hope that it will be useful,</span>
<a name="l00014"></a>00014 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00015"></a>00015 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00016"></a>00016 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00019"></a>00019 <span class="comment"> * along with SteelBreeze; if not, write to the Free Software Foundation,</span>
<a name="l00020"></a>00020 <span class="comment"> * Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</span>
<a name="l00021"></a>00021 <span class="comment"> *</span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;qbuttongroup.h&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;qcombobox.h&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;qcheckbox.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;qfile.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;qgroupbox.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;qlabel.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;qlayout.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;qlistbox.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;qpaintdevicemetrics.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;qprinter.h&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;qpushbutton.h&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;qslider.h&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;qtextstream.h&gt;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="SbIPlot_8H.html">SbIPlot.H</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="SbSetup_8H.html">SbSetup.H</a>&quot;</span>
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="comment">/*==============================================================================================*/</span>
<a name="l00046"></a>00046 <span class="comment">/*                                                                                              */</span>
<a name="l00047"></a>00047 <span class="comment">/* SBPlotBranch                                                                                 */</span>
<a name="l00048"></a>00048 <span class="comment">/*                                                                                              */</span>
<a name="l00049"></a>00049 <span class="comment">/*==============================================================================================*/</span>
<a name="l00050"></a><a class="code" href="classSBPlotBranch.html#ab41fd242a25cb201bb22cfbca51a4fb9">00050</a> <a class="code" href="classSBPlotBranch.html#ab41fd242a25cb201bb22cfbca51a4fb9">SBPlotBranch::SBPlotBranch</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NR_, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NCV_, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NCE_, <span class="keyword">const</span> QString&amp; Name_)
<a name="l00051"></a>00051   : <a class="code" href="classSBNamed.html">SBNamed</a>(Name_)
<a name="l00052"></a>00052 {
<a name="l00053"></a>00053   <a class="code" href="classSBPlotBranch.html#a35e28be94fba6a238dcb9432163a5b39">NR</a>  = NR_;
<a name="l00054"></a>00054   <a class="code" href="classSBPlotBranch.html#a1faee91e6d496cc82fac1a01cbdb1204">Data</a> = <span class="keyword">new</span> <a class="code" href="classSBMatrix.html">SBMatrix</a>(<a class="code" href="classSBPlotBranch.html#a35e28be94fba6a238dcb9432163a5b39">NR</a>, NCV_ + NCE_ + 1, <span class="stringliteral">&quot;Plotting data for &quot;</span> + Name_);
<a name="l00055"></a>00055   <a class="code" href="classSBPlotBranch.html#a77ad87116ab68a90c7301a0bbcacdb5a">IsBrowsable</a> = TRUE;
<a name="l00056"></a>00056   <a class="code" href="classSBPlotBranch.html#a633f96a92e257ea581e9400f552b3d03">Idx</a> = 0;
<a name="l00057"></a>00057 };
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="classSBPlotBranch.html#ae495cff7597371b5025537b553f64d2e">00059</a> <a class="code" href="classSBPlotBranch.html#ae495cff7597371b5025537b553f64d2e">SBPlotBranch::~SBPlotBranch</a>()
<a name="l00060"></a>00060 {
<a name="l00061"></a>00061   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotBranch.html#a1faee91e6d496cc82fac1a01cbdb1204">Data</a>)
<a name="l00062"></a>00062     {
<a name="l00063"></a>00063       <span class="keyword">delete</span> <a class="code" href="classSBPlotBranch.html#a1faee91e6d496cc82fac1a01cbdb1204">Data</a>;
<a name="l00064"></a>00064       <a class="code" href="classSBPlotBranch.html#a1faee91e6d496cc82fac1a01cbdb1204">Data</a> = NULL;
<a name="l00065"></a>00065     };
<a name="l00066"></a>00066 };
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="classSBPlotBranch.html#a9d514469e6207c0d7a6e64a9d4c9c44b">00068</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotBranch.html#a9d514469e6207c0d7a6e64a9d4c9c44b">SBPlotBranch::setDataAttr</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Attr_)
<a name="l00069"></a>00069 {
<a name="l00070"></a>00070   <a class="code" href="classSBPlotBranch.html#a1faee91e6d496cc82fac1a01cbdb1204">Data</a>-&gt;<a class="code" href="classSBMatrix.html#a90dd8cbd4aaced88d1f61ed28dc1ba79">set</a>(i, <a class="code" href="classSBPlotBranch.html#a1faee91e6d496cc82fac1a01cbdb1204">Data</a>-&gt;<a class="code" href="classSBMatrix.html#a78d8f2da9bc472f330da68a00dd2c87f">nCol</a>()-1, (double) Attr_);
<a name="l00071"></a>00071 };
<a name="l00072"></a>00072 
<a name="l00073"></a><a class="code" href="classSBPlotBranch.html#a3b9ccfc268a6f92a2fa7f13a86ce7976">00073</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classSBPlotBranch.html#a3b9ccfc268a6f92a2fa7f13a86ce7976">SBPlotBranch::dataAttr</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00074"></a>00074 <span class="keyword"></span>{
<a name="l00075"></a>00075   <span class="keywordflow">return</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>) <a class="code" href="classSBPlotBranch.html#a1faee91e6d496cc82fac1a01cbdb1204">Data</a>-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotBranch.html#a1faee91e6d496cc82fac1a01cbdb1204">Data</a>-&gt;<a class="code" href="classSBMatrix.html#a78d8f2da9bc472f330da68a00dd2c87f">nCol</a>()-1);
<a name="l00076"></a>00076 };
<a name="l00077"></a>00077 <span class="comment">/*==============================================================================================*/</span>
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="comment">/*==============================================================================================*/</span>
<a name="l00082"></a>00082 <span class="comment">/*                                                                                              */</span>
<a name="l00083"></a>00083 <span class="comment">/* SBPlotCarrier                                                                                */</span>
<a name="l00084"></a>00084 <span class="comment">/*                                                                                              */</span>
<a name="l00085"></a>00085 <span class="comment">/*==============================================================================================*/</span>
<a name="l00086"></a><a class="code" href="classSBPlotCarrier.html#a13dfb45e31dfa8e76e92a15228f1d645">00086</a> <a class="code" href="classSBPlotCarrier.html#a13dfb45e31dfa8e76e92a15228f1d645">SBPlotCarrier::SBPlotCarrier</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NCV_, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NCE_, <span class="keyword">const</span> QString&amp; Name_)
<a name="l00087"></a>00087   : <a class="code" href="classSBNamed.html">SBNamed</a>(Name_)
<a name="l00088"></a>00088 {
<a name="l00089"></a>00089   <a class="code" href="classSBPlotCarrier.html#a4ceecac172ee03e0075e6fecd51fd4be">NCV</a> = NCV_;
<a name="l00090"></a>00090   <a class="code" href="classSBPlotCarrier.html#a30472391a32b4bf939e931f1eda5e043">NCE</a> = NCE_;
<a name="l00091"></a>00091 
<a name="l00092"></a>00092   <a class="code" href="classSBPlotCarrier.html#a0b10ef9e8f0a2212cc1bb741458f03ae">DatTypes</a>      = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="classSBPlotCarrier.html#a4ceecac172ee03e0075e6fecd51fd4be">NCV</a>];
<a name="l00093"></a>00093   <a class="code" href="classSBPlotCarrier.html#a33113660d8db8586684db498247ef764">DatStdVarIdx</a>  = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[<a class="code" href="classSBPlotCarrier.html#a4ceecac172ee03e0075e6fecd51fd4be">NCV</a>];
<a name="l00094"></a>00094   <a class="code" href="classSBPlotCarrier.html#aa2190fffdac1f9777172cce228646770">DatAttr</a>       = <span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>[<a class="code" href="classSBPlotCarrier.html#a4ceecac172ee03e0075e6fecd51fd4be">NCV</a>];
<a name="l00095"></a>00095   <span class="comment">//set default values:</span>
<a name="l00096"></a>00096   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classSBPlotCarrier.html#a4ceecac172ee03e0075e6fecd51fd4be">NCV</a>; i++)
<a name="l00097"></a>00097     {
<a name="l00098"></a>00098       *(<a class="code" href="classSBPlotCarrier.html#a0b10ef9e8f0a2212cc1bb741458f03ae">DatTypes</a>+i) = <a class="code" href="classSBPlotCarrier.html#a0f5e36b94b3b02533fd66705c3bbadd5af2a60af1d48945b3169775c77ccbb155">AT_DATA</a>;
<a name="l00099"></a>00099       *(<a class="code" href="classSBPlotCarrier.html#a33113660d8db8586684db498247ef764">DatStdVarIdx</a>+i) = 0;
<a name="l00100"></a>00100       *(<a class="code" href="classSBPlotCarrier.html#aa2190fffdac1f9777172cce228646770">DatAttr</a>+i) = 0;
<a name="l00101"></a>00101     };
<a name="l00102"></a>00102 
<a name="l00103"></a>00103   <a class="code" href="classSBPlotCarrier.html#a1435f266b6769405b932e5b497b152eb">ColumnNames</a>   = <span class="keyword">new</span> <a class="code" href="classQList.html">QList&lt;QString&gt;</a>;
<a name="l00104"></a>00104   <a class="code" href="classSBPlotCarrier.html#a1435f266b6769405b932e5b497b152eb">ColumnNames</a>-&gt;setAutoDelete(TRUE);
<a name="l00105"></a>00105   <a class="code" href="classSBPlotCarrier.html#a30087f31f5b7ae7dce69ba107246a81a">Branches</a>.setAutoDelete(TRUE);
<a name="l00106"></a>00106   <a class="code" href="classSBPlotCarrier.html#a00cdf0647ffc2a96dc43c5bbbe45f25f">IsOK</a> = FALSE;
<a name="l00107"></a>00107   <a class="code" href="classSBPlotCarrier.html#ae53a50da3b2144ff3f344d167db206de">File4SaveBaseName</a> = <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a4555ed8611ed8ab9fd711719e8d9844f">path2Output</a>() + <span class="stringliteral">&quot;unnamed&quot;</span>;
<a name="l00108"></a>00108 };
<a name="l00109"></a>00109 
<a name="l00110"></a><a class="code" href="classSBPlotCarrier.html#a30cddf82431f4d5c407ffc8b5806ad65">00110</a> <a class="code" href="classSBPlotCarrier.html#a30cddf82431f4d5c407ffc8b5806ad65">SBPlotCarrier::~SBPlotCarrier</a>()
<a name="l00111"></a>00111 {
<a name="l00112"></a>00112   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotCarrier.html#a0b10ef9e8f0a2212cc1bb741458f03ae">DatTypes</a>)
<a name="l00113"></a>00113     {
<a name="l00114"></a>00114       <span class="keyword">delete</span>[] <a class="code" href="classSBPlotCarrier.html#a0b10ef9e8f0a2212cc1bb741458f03ae">DatTypes</a>;
<a name="l00115"></a>00115       <a class="code" href="classSBPlotCarrier.html#a0b10ef9e8f0a2212cc1bb741458f03ae">DatTypes</a> = NULL;
<a name="l00116"></a>00116     };
<a name="l00117"></a>00117   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotCarrier.html#a33113660d8db8586684db498247ef764">DatStdVarIdx</a>)
<a name="l00118"></a>00118     {
<a name="l00119"></a>00119       <span class="keyword">delete</span>[] <a class="code" href="classSBPlotCarrier.html#a33113660d8db8586684db498247ef764">DatStdVarIdx</a>;
<a name="l00120"></a>00120       <a class="code" href="classSBPlotCarrier.html#a33113660d8db8586684db498247ef764">DatStdVarIdx</a> = NULL;
<a name="l00121"></a>00121     };
<a name="l00122"></a>00122   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotCarrier.html#aa2190fffdac1f9777172cce228646770">DatAttr</a>)
<a name="l00123"></a>00123     {
<a name="l00124"></a>00124       <span class="keyword">delete</span>[] <a class="code" href="classSBPlotCarrier.html#aa2190fffdac1f9777172cce228646770">DatAttr</a>;
<a name="l00125"></a>00125       <a class="code" href="classSBPlotCarrier.html#aa2190fffdac1f9777172cce228646770">DatAttr</a> = NULL;
<a name="l00126"></a>00126     };
<a name="l00127"></a>00127   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotCarrier.html#a1435f266b6769405b932e5b497b152eb">ColumnNames</a>)
<a name="l00128"></a>00128     {
<a name="l00129"></a>00129       <span class="keyword">delete</span> <a class="code" href="classSBPlotCarrier.html#a1435f266b6769405b932e5b497b152eb">ColumnNames</a>;
<a name="l00130"></a>00130       <a class="code" href="classSBPlotCarrier.html#a1435f266b6769405b932e5b497b152eb">ColumnNames</a> = NULL;
<a name="l00131"></a>00131     };
<a name="l00132"></a>00132 };
<a name="l00133"></a>00133 
<a name="l00134"></a><a class="code" href="classSBPlotCarrier.html#a0ddcfc18d09404a260c6acdc6f207b37">00134</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotCarrier.html#a0ddcfc18d09404a260c6acdc6f207b37">SBPlotCarrier::createBranch</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> NR_, <span class="keyword">const</span> QString&amp; BranchName)
<a name="l00135"></a>00135 {
<a name="l00136"></a>00136   <a class="code" href="classSBPlotBranch.html">SBPlotBranch</a> *pb = <span class="keyword">new</span> <a class="code" href="classSBPlotBranch.html">SBPlotBranch</a>(NR_, <a class="code" href="classSBPlotCarrier.html#a4ceecac172ee03e0075e6fecd51fd4be">NCV</a>, <a class="code" href="classSBPlotCarrier.html#a30472391a32b4bf939e931f1eda5e043">NCE</a>, BranchName);
<a name="l00137"></a>00137   <a class="code" href="classSBPlotCarrier.html#a30087f31f5b7ae7dce69ba107246a81a">Branches</a>.inSort(pb);
<a name="l00138"></a>00138 };
<a name="l00139"></a>00139 
<a name="l00140"></a><a class="code" href="classSBPlotCarrier.html#afc5b690cac8c38caa8fcd9211e7e16c0">00140</a> <span class="keywordtype">bool</span> <a class="code" href="classSBPlotCarrier.html#afc5b690cac8c38caa8fcd9211e7e16c0">SBPlotCarrier::selfCheck</a>()
<a name="l00141"></a>00141 {
<a name="l00142"></a>00142   <a class="code" href="classSBPlotCarrier.html#a00cdf0647ffc2a96dc43c5bbbe45f25f">IsOK</a> = FALSE;
<a name="l00143"></a>00143   <span class="keywordflow">if</span> (!<a class="code" href="classSBPlotCarrier.html#a30087f31f5b7ae7dce69ba107246a81a">Branches</a>.count())
<a name="l00144"></a>00144   {
<a name="l00145"></a>00145     <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBNamed.html#a906ddbff078f4fbca948314b4628f61f">ClassName</a>() + <span class="stringliteral">&quot;: SelfCheck: there is no branches, count()==0; nothing to plot&quot;</span>);
<a name="l00146"></a>00146     <span class="keywordflow">return</span> <a class="code" href="classSBPlotCarrier.html#a00cdf0647ffc2a96dc43c5bbbe45f25f">IsOK</a>; <span class="comment">// nothing to plot</span>
<a name="l00147"></a>00147   };
<a name="l00148"></a>00148   <span class="keywordflow">for</span> (<a class="code" href="classSBPlotBranch.html">SBPlotBranch</a> *pb=<a class="code" href="classSBPlotCarrier.html#a30087f31f5b7ae7dce69ba107246a81a">Branches</a>.first(); pb; pb=<a class="code" href="classSBPlotCarrier.html#a30087f31f5b7ae7dce69ba107246a81a">Branches</a>.next())
<a name="l00149"></a>00149     <span class="keywordflow">if</span> (!pb-&gt;data()-&gt;nRow()) <span class="keywordflow">return</span> <a class="code" href="classSBPlotCarrier.html#a00cdf0647ffc2a96dc43c5bbbe45f25f">IsOK</a>;
<a name="l00150"></a>00150   <span class="keywordflow">return</span> (<a class="code" href="classSBPlotCarrier.html#a00cdf0647ffc2a96dc43c5bbbe45f25f">IsOK</a>=TRUE);
<a name="l00151"></a>00151 };
<a name="l00152"></a>00152 
<a name="l00153"></a><a class="code" href="classSBPlotCarrier.html#af4af60a868a3da64391992a6cf05f831">00153</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotCarrier.html#af4af60a868a3da64391992a6cf05f831">SBPlotCarrier::setFile4SaveBaseName</a>(<span class="keyword">const</span> QString&amp; File4SaveBaseName_)
<a name="l00154"></a>00154 {
<a name="l00155"></a>00155   <a class="code" href="classSBPlotCarrier.html#ae53a50da3b2144ff3f344d167db206de">File4SaveBaseName</a> = <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a4555ed8611ed8ab9fd711719e8d9844f">path2Output</a>() + File4SaveBaseName_;
<a name="l00156"></a>00156 };
<a name="l00157"></a>00157 
<a name="l00158"></a><a class="code" href="classSBPlotCarrier.html#ae52ddd6365204d34e0b2ffac574f7826">00158</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotCarrier.html#ae52ddd6365204d34e0b2ffac574f7826">SBPlotCarrier::setAbsFile4SaveBaseName</a>(<span class="keyword">const</span> QString&amp; AbsFile4SaveBaseName_)
<a name="l00159"></a>00159 {
<a name="l00160"></a>00160   <a class="code" href="classSBPlotCarrier.html#ae53a50da3b2144ff3f344d167db206de">File4SaveBaseName</a> = AbsFile4SaveBaseName_;
<a name="l00161"></a>00161 };
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="comment">/*==============================================================================================*/</span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 
<a name="l00167"></a>00167 <span class="comment">/*==============================================================================================*/</span>
<a name="l00168"></a>00168 <span class="comment">/*                                                                                              */</span>
<a name="l00169"></a>00169 <span class="comment">/* SBPlotArea                                                                                   */</span>
<a name="l00170"></a>00170 <span class="comment">/*                                                                                              */</span>
<a name="l00171"></a>00171 <span class="comment">/*==============================================================================================*/</span>
<a name="l00172"></a>00172 QString <a class="code" href="classSBPlotArea.html#ae2c4766964b9a9b8a32d91197af11ff3">SBPlotArea::XLabel4Unknown</a>(<span class="stringliteral">&quot;Unnamed X axis&quot;</span>);
<a name="l00173"></a>00173 QString <a class="code" href="classSBPlotArea.html#aa91a81de1713c26cc99db706ecdb96bc">SBPlotArea::YLabel4Unknown</a>(<span class="stringliteral">&quot;Unnamed Y axis&quot;</span>);
<a name="l00174"></a><a class="code" href="classSBPlotArea.html#aab9be50e2eb3175a914840d9b4b7e5cb">00174</a> <a class="code" href="classSBPlotArea.html#aab9be50e2eb3175a914840d9b4b7e5cb">SBPlotArea::SBPlotArea</a>(<a class="code" href="classSBPlotCarrier.html">SBPlotCarrier</a>* PlotCarrier_, <a class="code" href="classQWidget.html">QWidget</a>* parent, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, WFlags f)
<a name="l00175"></a>00175   : <a class="code" href="classQWidget.html">QWidget</a>(parent, name, f)
<a name="l00176"></a>00176 {
<a name="l00177"></a>00177   <a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a> = PlotCarrier_;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179   <a class="code" href="classSBPlotArea.html#a5acde1952d7491401732330527328c14">Width</a> =980;
<a name="l00180"></a>00180   <a class="code" href="classSBPlotArea.html#a118c4780a66e3594778605a3c7f7168a">Height</a>=510;
<a name="l00181"></a>00181 
<a name="l00182"></a>00182   <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>=<a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>=0;
<a name="l00183"></a>00183   <a class="code" href="classSBPlotArea.html#ac7240c0a490e438bd36ab9881fc471f0">isXTicsMJD</a>  = FALSE;
<a name="l00184"></a>00184   <a class="code" href="classSBPlotArea.html#ad6af1bcfcdc3ec2a2582f77e8fe09b5c">IsPlotPoints</a>= TRUE;
<a name="l00185"></a>00185   <a class="code" href="classSBPlotArea.html#ae6f021be7aabd151df546715a7278640">IsPlotLines</a> = FALSE;
<a name="l00186"></a>00186   <a class="code" href="classSBPlotArea.html#a2ad1bb717bf4b2483d98b0b15fac9c69">IsPlotErrBars</a>= FALSE;
<a name="l00187"></a>00187   <a class="code" href="classSBPlotArea.html#aa52163f21f53a55e7c2b01e54c1538a1">IsPlotImpulses</a>= FALSE;
<a name="l00188"></a>00188   <a class="code" href="classSBPlotArea.html#a8423452cc11db5d63a7002fd9b694922">IsHasHaveZero</a> = FALSE;
<a name="l00189"></a>00189 
<a name="l00190"></a>00190   <a class="code" href="classSBPlotArea.html#a8d8235d772e146bb550831524d9abc1f">IsLimitsOnVisible</a>= FALSE;
<a name="l00191"></a>00191   <a class="code" href="classSBPlotArea.html#a3bf0ceebcf44a06bc6d6e672333b89f4">IsAllData</a>        = FALSE;
<a name="l00192"></a>00192   <a class="code" href="classSBPlotArea.html#ae8e62aa6b3d8db12d2511febedec6c58">IsStdVar</a>         = TRUE;
<a name="l00193"></a>00193 
<a name="l00194"></a>00194   <a class="code" href="classSBPlotArea.html#aa733be9fa13e5ff74ea6ab92df65cf3e">XLabel</a>=&amp;<a class="code" href="classSBPlotArea.html#ae2c4766964b9a9b8a32d91197af11ff3">XLabel4Unknown</a>;
<a name="l00195"></a>00195   <a class="code" href="classSBPlotArea.html#a9422f3fe1c08b01a83bfcc9220bffae4">YLabel</a>=&amp;<a class="code" href="classSBPlotArea.html#aa91a81de1713c26cc99db706ecdb96bc">YLabel4Unknown</a>;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197   <a class="code" href="classSBPlotArea.html#a252508e1d5254c22b07beff8dee16661">setXCol</a>(0);
<a name="l00198"></a>00198   <a class="code" href="classSBPlotArea.html#a649b943fd27be8f40c6f809f84c48639">setYCol</a>(1);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200   resize(<a class="code" href="classSBPlotArea.html#a5acde1952d7491401732330527328c14">Width</a>, <a class="code" href="classSBPlotArea.html#a118c4780a66e3594778605a3c7f7168a">Height</a>);
<a name="l00201"></a>00201   setBackgroundMode(PaletteBase);
<a name="l00202"></a>00202   <a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a> = <span class="keyword">new</span> QPen(QColor(0,0,0), 1);
<a name="l00203"></a>00203   <a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>  = <span class="keyword">new</span> QPen(QColor(200,200,200), 1);
<a name="l00204"></a>00204   <a class="code" href="classSBPlotArea.html#ad5442f2dae19c34578898b6542d849ae">BarPen</a>  = <span class="keyword">new</span> QPen(QColor(180,0,0), 1);
<a name="l00205"></a>00205 
<a name="l00206"></a>00206   <a class="code" href="classSBPlotArea.html#ac5d7abb2e295f9593113eac6b971d97e">BPSaturation</a>  = 255;
<a name="l00207"></a>00207   <a class="code" href="classSBPlotArea.html#a57f2a1b9e2e16d9a983c8a6227d89afa">BPValue</a>       = 240;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209   <a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a> = NULL;
<a name="l00210"></a>00210   <a class="code" href="classSBPlotArea.html#aafe5c37cd436f9603c5271f082cbec5f">initBranchPens</a>();
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 
<a name="l00213"></a>00213   <a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a> = 20.0;
<a name="l00214"></a>00214   <a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a> = 20.0;
<a name="l00215"></a>00215   <a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a> =-20.0;
<a name="l00216"></a>00216   <a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a> =-20.0;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218   <span class="comment">//</span>
<a name="l00219"></a>00219   <a class="code" href="classSBPlotArea.html#a2ea4d152c38974560d4d0046b54410e8">UpMarg</a> = 10;
<a name="l00220"></a>00220   <a class="code" href="classSBPlotArea.html#a9c8e0e16f601aea6a493707f5bdd7f6c">RtMarg</a> = 10;
<a name="l00221"></a>00221 
<a name="l00222"></a>00222   <a class="code" href="classSBPlotArea.html#a6323c63331ad93361fb0dcd9a7ffe582">XLabelWidth</a> = 0;
<a name="l00223"></a>00223   <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>= 0;
<a name="l00224"></a>00224   <a class="code" href="classSBPlotArea.html#a67627176893e2f56f79ccd89e01c8c9f">YLabelWidth</a> = 0;
<a name="l00225"></a>00225   <a class="code" href="classSBPlotArea.html#a9f07882f4283748acbf00b3e47876fdc">YLabelHeight</a>= 0;
<a name="l00226"></a>00226   <a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a>  = 0;
<a name="l00227"></a>00227   <a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a>  = 0;
<a name="l00228"></a>00228 
<a name="l00229"></a>00229   <a class="code" href="classSBPlotArea.html#a4c10bb32dbd9e15016fe1ada0b8f867e">TitleWidth</a>  = 0;
<a name="l00230"></a>00230   <span class="comment">// XTics:</span>
<a name="l00231"></a>00231   <a class="code" href="classSBPlotArea.html#aa65535c4db522221d60cda5e3efb4819">NumOfXTics</a>  = 0;
<a name="l00232"></a>00232   <a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>      = 0;
<a name="l00233"></a>00233   <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>   = 0.0;
<a name="l00234"></a>00234   <a class="code" href="classSBPlotArea.html#afb14b448b4cc0146b0cd0b68e1c6ee79">XTicsBias</a>   = 0.0;
<a name="l00235"></a>00235   <a class="code" href="classSBPlotArea.html#ad3c8b5a8f1b5aa3cdf4cad2d3a5cf402">isXTicsBiased</a>= FALSE;
<a name="l00236"></a>00236 
<a name="l00237"></a>00237   <span class="comment">// YTics:</span>
<a name="l00238"></a>00238   <a class="code" href="classSBPlotArea.html#afa2c3d70507b631af8ca363ca20a81b1">NumOfYTics</a>  = 0;
<a name="l00239"></a>00239   <a class="code" href="classSBPlotArea.html#ae8747d91b8e747b8c2eb5e340ec904be">YStepP</a>      = 0;
<a name="l00240"></a>00240   <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>   = 0.0;
<a name="l00241"></a>00241   <a class="code" href="classSBPlotArea.html#a916b92ed87600c05734fd3a935e7642b">YTicsBias</a>   = 0.0;
<a name="l00242"></a>00242   <a class="code" href="classSBPlotArea.html#ac5e98807eee9891a543a3125b617d93b">isYTicsBiased</a>= FALSE;
<a name="l00243"></a>00243 
<a name="l00244"></a>00244   <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a> = 0;
<a name="l00245"></a>00245   <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>   = 0;
<a name="l00246"></a>00246   <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a> = 0;
<a name="l00247"></a>00247   <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>   = 0;
<a name="l00248"></a>00248 
<a name="l00249"></a>00249   <a class="code" href="classSBPlotArea.html#a62aa82cc4b7225fee7741a9e93b23553">XDataBegin</a>  = 0;
<a name="l00250"></a>00250   <a class="code" href="classSBPlotArea.html#ad2fca68761501bf3c2badd8fe525d587">XDataEnd</a>    = 0;
<a name="l00251"></a>00251   <a class="code" href="classSBPlotArea.html#a96cd15469b3b5bb4ead3cc7c3adcb939">YDataBegin</a>  = 0;
<a name="l00252"></a>00252   <a class="code" href="classSBPlotArea.html#a94cdabd7ad3dcbd4ef8e4585e0a620cf">YDataEnd</a>    = 0;
<a name="l00253"></a>00253 
<a name="l00254"></a>00254   <a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a> = <a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a> = <a class="code" href="classSBPlotArea.html#a17a7c29031643df1cda05f65b7e6c5b8">f_Ay</a> = <a class="code" href="classSBPlotArea.html#a46d923ef58aecebf6622cc488e7f48fa">f_By</a> = 0.0;
<a name="l00255"></a>00255 
<a name="l00256"></a>00256   <a class="code" href="classSBPlotArea.html#ab7de024f310025b4a1469ecb172d75d1">XTicsMJD</a>    = 0;
<a name="l00257"></a>00257 };
<a name="l00258"></a>00258 
<a name="l00259"></a><a class="code" href="classSBPlotArea.html#a16e55aa2e35847bd516ed153837d0fb2">00259</a> <a class="code" href="classSBPlotArea.html#a16e55aa2e35847bd516ed153837d0fb2">SBPlotArea::~SBPlotArea</a>()
<a name="l00260"></a>00260 {
<a name="l00261"></a>00261   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>) 
<a name="l00262"></a>00262     {
<a name="l00263"></a>00263       <span class="keyword">delete</span> <a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>;
<a name="l00264"></a>00264       <a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a> = NULL;
<a name="l00265"></a>00265     };
<a name="l00266"></a>00266   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>) 
<a name="l00267"></a>00267     {
<a name="l00268"></a>00268       <span class="keyword">delete</span> <a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>;
<a name="l00269"></a>00269       <a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a> = NULL;
<a name="l00270"></a>00270     };
<a name="l00271"></a>00271   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ad5442f2dae19c34578898b6542d849ae">BarPen</a>) 
<a name="l00272"></a>00272     {
<a name="l00273"></a>00273       <span class="keyword">delete</span> <a class="code" href="classSBPlotArea.html#ad5442f2dae19c34578898b6542d849ae">BarPen</a>;
<a name="l00274"></a>00274       <a class="code" href="classSBPlotArea.html#ad5442f2dae19c34578898b6542d849ae">BarPen</a> = NULL;
<a name="l00275"></a>00275     };
<a name="l00276"></a>00276   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a>)
<a name="l00277"></a>00277     {
<a name="l00278"></a>00278       <span class="keyword">delete</span>[] <a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a>;
<a name="l00279"></a>00279       <a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a> = NULL;
<a name="l00280"></a>00280     };
<a name="l00281"></a>00281 };
<a name="l00282"></a>00282 
<a name="l00283"></a><a class="code" href="classSBPlotArea.html#aafe5c37cd436f9603c5271f082cbec5f">00283</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#aafe5c37cd436f9603c5271f082cbec5f">SBPlotArea::initBranchPens</a>()
<a name="l00284"></a>00284 {
<a name="l00285"></a>00285   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a>)
<a name="l00286"></a>00286     {
<a name="l00287"></a>00287       <span class="keyword">delete</span>[] <a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a>;
<a name="l00288"></a>00288       <a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a> = NULL;
<a name="l00289"></a>00289     };
<a name="l00290"></a>00290 
<a name="l00291"></a>00291   <span class="keywordtype">int</span> nb=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;count();
<a name="l00292"></a>00292 <span class="comment">//  BranchPens = new QPen[nb](QColor(0,0,0), 1);</span>
<a name="l00293"></a>00293   <a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a> = <span class="keyword">new</span> QPen[nb];
<a name="l00294"></a>00294   <a class="code" href="classSBPlotArea.html#a8e4dd6760b1f9d45488899212fe7171a">setBranchColors</a>();
<a name="l00295"></a>00295 };
<a name="l00296"></a>00296 
<a name="l00297"></a><a class="code" href="classSBPlotArea.html#a9ee03295a602d5839a2ae4e1d560d0eb">00297</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a9ee03295a602d5839a2ae4e1d560d0eb">SBPlotArea::setBPSaturation</a>(<span class="keywordtype">int</span> Sat_) 
<a name="l00298"></a>00298 {
<a name="l00299"></a>00299   <a class="code" href="classSBPlotArea.html#ac5d7abb2e295f9593113eac6b971d97e">BPSaturation</a> = Sat_;
<a name="l00300"></a>00300   <a class="code" href="classSBPlotArea.html#a8e4dd6760b1f9d45488899212fe7171a">setBranchColors</a>();
<a name="l00301"></a>00301   repaint(FALSE); <span class="comment">// to avoid flicker</span>
<a name="l00302"></a>00302 };
<a name="l00303"></a>00303 
<a name="l00304"></a><a class="code" href="classSBPlotArea.html#abe3d9b3a573529b03e6cf66c8c9ceb93">00304</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#abe3d9b3a573529b03e6cf66c8c9ceb93">SBPlotArea::setBPValue</a>(<span class="keywordtype">int</span> Val_)
<a name="l00305"></a>00305 {
<a name="l00306"></a>00306   <a class="code" href="classSBPlotArea.html#a57f2a1b9e2e16d9a983c8a6227d89afa">BPValue</a>      = Val_;
<a name="l00307"></a>00307   <a class="code" href="classSBPlotArea.html#a8e4dd6760b1f9d45488899212fe7171a">setBranchColors</a>();
<a name="l00308"></a>00308   repaint(FALSE); <span class="comment">// to avoid flicker</span>
<a name="l00309"></a>00309 };
<a name="l00310"></a>00310 
<a name="l00311"></a><a class="code" href="classSBPlotArea.html#a8e4dd6760b1f9d45488899212fe7171a">00311</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a8e4dd6760b1f9d45488899212fe7171a">SBPlotArea::setBranchColors</a>()
<a name="l00312"></a>00312 {
<a name="l00313"></a>00313   <span class="keywordtype">int</span>   nb=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;count();
<a name="l00314"></a>00314   QPen  *pen=<a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a>;
<a name="l00315"></a>00315   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb; i++, pen++)
<a name="l00316"></a>00316     {
<a name="l00317"></a>00317         pen-&gt;setColor( QColor( (<span class="keywordtype">int</span>)(360*i/nb), <a class="code" href="classSBPlotArea.html#ac5d7abb2e295f9593113eac6b971d97e">BPSaturation</a>, <a class="code" href="classSBPlotArea.html#a57f2a1b9e2e16d9a983c8a6227d89afa">BPValue</a>, QColor::Hsv) );
<a name="l00318"></a>00318         pen-&gt;setWidth(0);
<a name="l00319"></a>00319     };
<a name="l00320"></a>00320 };
<a name="l00321"></a>00321 
<a name="l00322"></a><a class="code" href="classSBPlotArea.html#a252508e1d5254c22b07beff8dee16661">00322</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a252508e1d5254c22b07beff8dee16661">SBPlotArea::setXCol</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> X_)
<a name="l00323"></a>00323 {
<a name="l00324"></a>00324   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a414a57540d34445c3ee2a95db9a19771">isOK</a>() &amp;&amp; X_ &lt; <a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7708b3e437757cd6cbea6d86b497d6ee">numOfCols</a>())
<a name="l00325"></a>00325     {
<a name="l00326"></a>00326       <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a> = X_;
<a name="l00327"></a>00327       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a4443b9651ee09a411436925b1e82b437">type</a>(<a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>) == <a class="code" href="classSBPlotCarrier.html#a0f5e36b94b3b02533fd66705c3bbadd5a10b0482379445aea1ba1061df2a6ff89">SBPlotCarrier::AT_MJD</a>) 
<a name="l00328"></a>00328         <a class="code" href="classSBPlotArea.html#ac7240c0a490e438bd36ab9881fc471f0">isXTicsMJD</a> = TRUE;
<a name="l00329"></a>00329       <span class="keywordflow">else</span> 
<a name="l00330"></a>00330         <a class="code" href="classSBPlotArea.html#ac7240c0a490e438bd36ab9881fc471f0">isXTicsMJD</a> = FALSE;
<a name="l00331"></a>00331       <span class="keywordflow">if</span> (Xcol &lt; PlotCarrier-&gt;columnNames()-&gt;count())
<a name="l00332"></a>00332         <a class="code" href="classSBPlotArea.html#aa733be9fa13e5ff74ea6ab92df65cf3e">XLabel</a>=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7e38981996eb135d7905b5abde614b6f">columnNames</a>()-&gt;at(<a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>);
<a name="l00333"></a>00333       <span class="keywordflow">else</span> 
<a name="l00334"></a>00334         <a class="code" href="classSBPlotArea.html#aa733be9fa13e5ff74ea6ab92df65cf3e">XLabel</a>=&amp;<a class="code" href="classSBPlotArea.html#ae2c4766964b9a9b8a32d91197af11ff3">XLabel4Unknown</a>;
<a name="l00335"></a>00335     };
<a name="l00336"></a>00336 };
<a name="l00337"></a>00337 
<a name="l00338"></a><a class="code" href="classSBPlotArea.html#a649b943fd27be8f40c6f809f84c48639">00338</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a649b943fd27be8f40c6f809f84c48639">SBPlotArea::setYCol</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Y_)
<a name="l00339"></a>00339 {
<a name="l00340"></a>00340   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a414a57540d34445c3ee2a95db9a19771">isOK</a>() &amp;&amp; Y_ &lt; <a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7708b3e437757cd6cbea6d86b497d6ee">numOfCols</a>())
<a name="l00341"></a>00341     {
<a name="l00342"></a>00342       <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a> = Y_;
<a name="l00343"></a>00343       <span class="keywordflow">if</span> (Ycol &lt; PlotCarrier-&gt;columnNames()-&gt;count())
<a name="l00344"></a>00344         <a class="code" href="classSBPlotArea.html#a9422f3fe1c08b01a83bfcc9220bffae4">YLabel</a>=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7e38981996eb135d7905b5abde614b6f">columnNames</a>()-&gt;at(<a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>);
<a name="l00345"></a>00345       <span class="keywordflow">else</span> 
<a name="l00346"></a>00346         <a class="code" href="classSBPlotArea.html#a9422f3fe1c08b01a83bfcc9220bffae4">YLabel</a>=&amp;<a class="code" href="classSBPlotArea.html#aa91a81de1713c26cc99db706ecdb96bc">YLabel4Unknown</a>;
<a name="l00347"></a>00347     };
<a name="l00348"></a>00348 };
<a name="l00349"></a>00349 
<a name="l00350"></a><a class="code" href="classSBPlotArea.html#a73cbed3b132e1b2550749e9a2745cc32">00350</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a73cbed3b132e1b2550749e9a2745cc32">SBPlotArea::getLimits</a>()
<a name="l00351"></a>00351 {
<a name="l00352"></a>00352   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a414a57540d34445c3ee2a95db9a19771">isOK</a>())
<a name="l00353"></a>00353     {
<a name="l00354"></a>00354       <a class="code" href="classSBPlotBranch.html">SBPlotBranch</a>* pb=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;first();
<a name="l00355"></a>00355       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ei = <a class="code" href="classSBPlotArea.html#ae8e62aa6b3d8db12d2511febedec6c58">IsStdVar</a>?<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a2db89022813fec30ab8238275256fd2a">stdVarIdx</a>(<a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>):0;
<a name="l00356"></a>00356       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;
<a name="l00357"></a>00357 
<a name="l00358"></a>00358       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a8d8235d772e146bb550831524d9abc1f">IsLimitsOnVisible</a>)
<a name="l00359"></a>00359         {
<a name="l00360"></a>00360           <span class="keywordflow">while</span> (pb &amp;&amp; !pb-&gt;<a class="code" href="classSBPlotBranch.html#abd911a793fe14015bf7a5fc90c193a96">isBrowsable</a>())
<a name="l00361"></a>00361             pb = <a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;next();
<a name="l00362"></a>00362           <span class="keywordflow">if</span> (!pb) <span class="comment">// all dead</span>
<a name="l00363"></a>00363             pb=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;first();
<a name="l00364"></a>00364         };
<a name="l00365"></a>00365 
<a name="l00366"></a>00366       <span class="keywordflow">if</span> (!<a class="code" href="classSBPlotArea.html#a3bf0ceebcf44a06bc6d6e672333b89f4">IsAllData</a>)
<a name="l00367"></a>00367         {
<a name="l00368"></a>00368           <span class="keywordflow">while</span> (i&lt;pb-&gt;data()-&gt;nRow() &amp;&amp; (pb-&gt;<a class="code" href="classSBPlotBranch.html#a3b9ccfc268a6f92a2fa7f13a86ce7976">dataAttr</a>(i) &amp; <a class="code" href="classSBPlotCarrier.html#a1f96c107ede004683ceca6f1e3353279a57a4e0b3a617189a95c2b6ece5571c10">SBPlotCarrier::DA_IGN</a>))
<a name="l00369"></a>00369             i++;
<a name="l00370"></a>00370           <span class="keywordflow">if</span> (i==pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#adabbf027360c2551930b2d50a3af3ef3">nRow</a>()) <span class="comment">// all dead</span>
<a name="l00371"></a>00371             i=0;
<a name="l00372"></a>00372         };
<a name="l00373"></a>00373 
<a name="l00374"></a>00374       <a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a> = pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>);
<a name="l00375"></a>00375       <a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a> = ei?pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>)+pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, ei):pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>);
<a name="l00376"></a>00376       <a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a> = pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>);
<a name="l00377"></a>00377       <a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a> = ei?pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>)-pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, ei):pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>);
<a name="l00378"></a>00378       
<a name="l00379"></a>00379       <span class="keywordflow">for</span> (pb=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;first(); pb; pb=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;next())
<a name="l00380"></a>00380         <span class="keywordflow">if</span> (pb-&gt;<a class="code" href="classSBPlotBranch.html#abd911a793fe14015bf7a5fc90c193a96">isBrowsable</a>() || !<a class="code" href="classSBPlotArea.html#a8d8235d772e146bb550831524d9abc1f">IsLimitsOnVisible</a>)
<a name="l00381"></a>00381           <span class="keywordflow">for</span> (i=0; i&lt;pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#adabbf027360c2551930b2d50a3af3ef3">nRow</a>(); i++)
<a name="l00382"></a>00382             {
<a name="l00383"></a>00383               <span class="keywordflow">if</span> (!(pb-&gt;<a class="code" href="classSBPlotBranch.html#a3b9ccfc268a6f92a2fa7f13a86ce7976">dataAttr</a>(i) &amp; <a class="code" href="classSBPlotCarrier.html#a1f96c107ede004683ceca6f1e3353279a57a4e0b3a617189a95c2b6ece5571c10">SBPlotCarrier::DA_IGN</a>) || <a class="code" href="classSBPlotArea.html#a3bf0ceebcf44a06bc6d6e672333b89f4">IsAllData</a>)
<a name="l00384"></a>00384                 {
<a name="l00385"></a>00385                   <a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a> = std::min(<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>, pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>));
<a name="l00386"></a>00386                   <a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a> = std::max(MaxX, pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>));
<a name="l00387"></a>00387                   <a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a> = std::min(MinY, (ei?pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>)-pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, ei):pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>)));
<a name="l00388"></a>00388                   <a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a> = std::max(<a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a>, (ei?pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>)+pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, ei):pb-&gt;<a class="code" href="classSBPlotBranch.html#abf63b2138ebefae0a356cad90dae8b69">data</a>()-&gt;<a class="code" href="classSBMatrix.html#a0de9a88e58ec059e05e048d25b76f0e0">at</a>(i, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>)));
<a name="l00389"></a>00389                 };
<a name="l00390"></a>00390             };
<a name="l00391"></a>00391       
<a name="l00392"></a>00392       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a> == <a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>)
<a name="l00393"></a>00393         {
<a name="l00394"></a>00394           <a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a> -= 0.5;
<a name="l00395"></a>00395           <a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a> += 0.5;
<a name="l00396"></a>00396           <span class="comment">//      pb=PlotCarrier-&gt;branches()-&gt;first();</span>
<a name="l00397"></a>00397           <span class="comment">//      MinX = pb-&gt;data()-&gt;at(0, Xcol) - 1.0;</span>
<a name="l00398"></a>00398           <span class="comment">//      MaxX = pb-&gt;data()-&gt;at(0, Xcol) + 1.0;</span>
<a name="l00399"></a>00399         };
<a name="l00400"></a>00400       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a> == <a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>)
<a name="l00401"></a>00401         {
<a name="l00402"></a>00402           <a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a> -= 0.5;
<a name="l00403"></a>00403           <a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a> += 0.5;
<a name="l00404"></a>00404           <span class="comment">//      pb=PlotCarrier-&gt;branches()-&gt;first();</span>
<a name="l00405"></a>00405           <span class="comment">//      MinY = pb-&gt;data()-&gt;at(0, Ycol) - 1.0;</span>
<a name="l00406"></a>00406           <span class="comment">//      MaxY = pb-&gt;data()-&gt;at(0, Ycol) + 1.0;</span>
<a name="l00407"></a>00407         };
<a name="l00408"></a>00408 
<a name="l00409"></a>00409       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a8423452cc11db5d63a7002fd9b694922">IsHasHaveZero</a>)
<a name="l00410"></a>00410         {
<a name="l00411"></a>00411           <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a>*<a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a> &gt; 0.0 &amp;&amp; <a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a4443b9651ee09a411436925b1e82b437">type</a>(<a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>) != <a class="code" href="classSBPlotCarrier.html#a0f5e36b94b3b02533fd66705c3bbadd5a10b0482379445aea1ba1061df2a6ff89">SBPlotCarrier::AT_MJD</a>)
<a name="l00412"></a>00412             {
<a name="l00413"></a>00413               <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>&gt;0.0) <a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>=0.0;
<a name="l00414"></a>00414               <span class="keywordflow">else</span> <a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a> = 0.0;
<a name="l00415"></a>00415             };
<a name="l00416"></a>00416           <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a>*<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a> &gt; 0.0 &amp;&amp; <a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a4443b9651ee09a411436925b1e82b437">type</a>(<a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>) != <a class="code" href="classSBPlotCarrier.html#a0f5e36b94b3b02533fd66705c3bbadd5a10b0482379445aea1ba1061df2a6ff89">SBPlotCarrier::AT_MJD</a>)
<a name="l00417"></a>00417             {
<a name="l00418"></a>00418               <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>&gt;0.0) <a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>=0.0;
<a name="l00419"></a>00419               <span class="keywordflow">else</span> <a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a> = 0.0;
<a name="l00420"></a>00420             };
<a name="l00421"></a>00421         };
<a name="l00422"></a>00422     };
<a name="l00423"></a>00423 };
<a name="l00424"></a>00424 
<a name="l00425"></a><a class="code" href="classSBPlotArea.html#a9d13b9e228c34f6652abd0553f4099a1">00425</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a9d13b9e228c34f6652abd0553f4099a1">SBPlotArea::calcTransforms</a>()
<a name="l00426"></a>00426 {
<a name="l00427"></a>00427   <a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a> = (<a class="code" href="classSBPlotArea.html#ad2fca68761501bf3c2badd8fe525d587">XDataEnd</a> - <a class="code" href="classSBPlotArea.html#a62aa82cc4b7225fee7741a9e93b23553">XDataBegin</a>)/(<a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a> - <a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>);
<a name="l00428"></a>00428   <a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a> = <a class="code" href="classSBPlotArea.html#ad2fca68761501bf3c2badd8fe525d587">XDataEnd</a> - <a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>*<a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a>;
<a name="l00429"></a>00429 
<a name="l00430"></a>00430   <a class="code" href="classSBPlotArea.html#a46d923ef58aecebf6622cc488e7f48fa">f_By</a> = (<a class="code" href="classSBPlotArea.html#a94cdabd7ad3dcbd4ef8e4585e0a620cf">YDataEnd</a> - <a class="code" href="classSBPlotArea.html#a96cd15469b3b5bb4ead3cc7c3adcb939">YDataBegin</a>)/(<a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a> - <a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a>);
<a name="l00431"></a>00431   <a class="code" href="classSBPlotArea.html#a17a7c29031643df1cda05f65b7e6c5b8">f_Ay</a> = <a class="code" href="classSBPlotArea.html#a96cd15469b3b5bb4ead3cc7c3adcb939">YDataBegin</a> - <a class="code" href="classSBPlotArea.html#a46d923ef58aecebf6622cc488e7f48fa">f_By</a>*<a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a>;
<a name="l00432"></a>00432 };
<a name="l00433"></a>00433 
<a name="l00434"></a><a class="code" href="classSBPlotArea.html#a25e60174e0feb0c26e56dd00b802dea9">00434</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a25e60174e0feb0c26e56dd00b802dea9">SBPlotArea::defineAreas</a>(QPainter* P)
<a name="l00435"></a>00435 {
<a name="l00436"></a>00436   <span class="keywordtype">double</span> dy=0.0;
<a name="l00437"></a>00437   <a class="code" href="classSBPlotArea.html#ad3c8b5a8f1b5aa3cdf4cad2d3a5cf402">isXTicsBiased</a>= FALSE;
<a name="l00438"></a>00438   <a class="code" href="classSBPlotArea.html#ac5e98807eee9891a543a3125b617d93b">isYTicsBiased</a>= FALSE;
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 
<a name="l00441"></a>00441   QFontMetrics  fm(P-&gt;fontMetrics());
<a name="l00442"></a>00442   <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a> = fm.height();
<a name="l00443"></a>00443 
<a name="l00444"></a>00444   <a class="code" href="classSBPlotArea.html#a6323c63331ad93361fb0dcd9a7ffe582">XLabelWidth</a>  = fm.width(*<a class="code" href="classSBPlotArea.html#aa733be9fa13e5ff74ea6ab92df65cf3e">XLabel</a>);
<a name="l00445"></a>00445   <a class="code" href="classSBPlotArea.html#a67627176893e2f56f79ccd89e01c8c9f">YLabelWidth</a>  = fm.width(*<a class="code" href="classSBPlotArea.html#a9422f3fe1c08b01a83bfcc9220bffae4">YLabel</a>);
<a name="l00446"></a>00446   <a class="code" href="classSBPlotArea.html#a9f07882f4283748acbf00b3e47876fdc">YLabelHeight</a> = fm.height();
<a name="l00447"></a>00447   <a class="code" href="classSBPlotArea.html#a4c10bb32dbd9e15016fe1ada0b8f867e">TitleWidth</a>   = fm.width(<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>());
<a name="l00448"></a>00448 
<a name="l00449"></a>00449   <span class="comment">// should be smarter a bit</span>
<a name="l00450"></a>00450   <a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a> = fm.width(<span class="stringliteral">&quot;800000000&quot;</span>);
<a name="l00451"></a>00451   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ac7240c0a490e438bd36ab9881fc471f0">isXTicsMJD</a>)
<a name="l00452"></a>00452     <a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a> = fm.width(<span class="stringliteral">&quot; &quot;</span> + <a class="code" href="classSBMJD.html">SBMJD</a>(<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>).toString(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>) + <span class="stringliteral">&quot; &quot;</span>);
<a name="l00453"></a>00453 
<a name="l00454"></a>00454   <a class="code" href="classSBPlotArea.html#a2ea4d152c38974560d4d0046b54410e8">UpMarg</a>      = 3*LabelsHeight/2;
<a name="l00455"></a>00455   <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a> = <a class="code" href="classSBPlotArea.html#a2ea4d152c38974560d4d0046b54410e8">UpMarg</a>;
<a name="l00456"></a>00456   <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>   = <a class="code" href="classSBPlotArea.html#a118c4780a66e3594778605a3c7f7168a">Height</a> - 7*LabelsHeight/2;
<a name="l00457"></a>00457   <span class="comment">// Define Width of Y Tics:</span>
<a name="l00458"></a>00458   <a class="code" href="classSBPlotArea.html#afa2c3d70507b631af8ca363ca20a81b1">NumOfYTics</a>=(<a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a> - <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>)/(5*LabelsHeight);
<a name="l00459"></a>00459   <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a> = (<a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a>-<a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>)/<a class="code" href="classSBPlotArea.html#afa2c3d70507b631af8ca363ca20a81b1">NumOfYTics</a>;
<a name="l00460"></a>00460   <a class="code" href="classSBPlotArea.html#ae8747d91b8e747b8c2eb5e340ec904be">YStepP</a> = (int)floor(log10(<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>));
<a name="l00461"></a>00461 
<a name="l00462"></a>00462 
<a name="l00463"></a>00463   <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a> = trunc( <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>/exp10(<a class="code" href="classSBPlotArea.html#ae8747d91b8e747b8c2eb5e340ec904be">YStepP</a>) );
<a name="l00464"></a>00464   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>==3)
<a name="l00465"></a>00465     <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>=2;
<a name="l00466"></a>00466   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>==3)
<a name="l00467"></a>00467     <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>=4;
<a name="l00468"></a>00468   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>==6)
<a name="l00469"></a>00469     <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>=5;
<a name="l00470"></a>00470   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>==7)
<a name="l00471"></a>00471     <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>=5;
<a name="l00472"></a>00472   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>==8 || <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>==9)
<a name="l00473"></a>00473     <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>=10;
<a name="l00474"></a>00474   <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a> = <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>*exp10(<a class="code" href="classSBPlotArea.html#ae8747d91b8e747b8c2eb5e340ec904be">YStepP</a>);
<a name="l00475"></a>00475   <a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a> = 10;
<a name="l00476"></a>00476   <span class="comment">//  if (MaxY*MinY&lt;0.0) // here the &quot;0&quot; is the origin</span>
<a name="l00477"></a>00477   <span class="keywordflow">if</span> ((<a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a>+<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>/3.0)*(<a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>-<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>/3.0)&lt;0.0) <span class="comment">// here the &quot;0&quot; is the origin</span>
<a name="l00478"></a>00478     {
<a name="l00479"></a>00479       dy=0.0;
<a name="l00480"></a>00480       <span class="keywordflow">while</span> (dy&lt;=<a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a>+<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>/3.0)
<a name="l00481"></a>00481         {
<a name="l00482"></a>00482           <a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a> = std::max(<a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a>, fm.width(QString().sprintf(<span class="stringliteral">&quot;%.8g&quot;</span>, dy)));
<a name="l00483"></a>00483           dy+=<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>;
<a name="l00484"></a>00484         };
<a name="l00485"></a>00485       dy=0.0;
<a name="l00486"></a>00486       <span class="keywordflow">while</span> (dy&gt;=<a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>-<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>/3.0)
<a name="l00487"></a>00487         {
<a name="l00488"></a>00488           <a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a> = std::max(<a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a>, fm.width(QString().sprintf(<span class="stringliteral">&quot;%.8g&quot;</span>, dy)));
<a name="l00489"></a>00489           dy-=<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>;
<a name="l00490"></a>00490         };
<a name="l00491"></a>00491     }
<a name="l00492"></a>00492   <span class="keywordflow">else</span>
<a name="l00493"></a>00493     {
<a name="l00494"></a>00494       <span class="keywordflow">if</span> (log10(fabs(<a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>)) - <a class="code" href="classSBPlotArea.html#ae8747d91b8e747b8c2eb5e340ec904be">YStepP</a> &gt; 7.0) <span class="comment">// need a bias</span>
<a name="l00495"></a>00495         {
<a name="l00496"></a>00496           <a class="code" href="classSBPlotArea.html#ac5e98807eee9891a543a3125b617d93b">isYTicsBiased</a> = TRUE;
<a name="l00497"></a>00497           <a class="code" href="classSBPlotArea.html#a916b92ed87600c05734fd3a935e7642b">YTicsBias</a> = trunc( <a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>/exp10(<a class="code" href="classSBPlotArea.html#ae8747d91b8e747b8c2eb5e340ec904be">YStepP</a>+1.0) )*exp10(<a class="code" href="classSBPlotArea.html#ae8747d91b8e747b8c2eb5e340ec904be">YStepP</a>+1.0);
<a name="l00498"></a>00498           <a class="code" href="classSBPlotArea.html#a67627176893e2f56f79ccd89e01c8c9f">YLabelWidth</a>+=fm.width(QString().sprintf(<span class="stringliteral">&quot;, %.16g +&quot;</span>, <a class="code" href="classSBPlotArea.html#a916b92ed87600c05734fd3a935e7642b">YTicsBias</a>));
<a name="l00499"></a>00499         }
<a name="l00500"></a>00500       <span class="keywordflow">else</span>
<a name="l00501"></a>00501         {
<a name="l00502"></a>00502           <a class="code" href="classSBPlotArea.html#a916b92ed87600c05734fd3a935e7642b">YTicsBias</a> = 0.0;
<a name="l00503"></a>00503           <a class="code" href="classSBPlotArea.html#ac5e98807eee9891a543a3125b617d93b">isYTicsBiased</a> = FALSE;
<a name="l00504"></a>00504         };
<a name="l00505"></a>00505       <span class="comment">// define the origin:</span>
<a name="l00506"></a>00506       dy = <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>*floor(<a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a>/<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>);
<a name="l00507"></a>00507       <span class="keywordflow">while</span> (dy&gt;<a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>) <span class="comment">// down from the origin:</span>
<a name="l00508"></a>00508         {
<a name="l00509"></a>00509           <a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a> = std::max(<a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a>, fm.width(QString().sprintf(<span class="stringliteral">&quot;%.8g&quot;</span>, <a class="code" href="classSBPlotArea.html#ac5e98807eee9891a543a3125b617d93b">isYTicsBiased</a>?dy-<a class="code" href="classSBPlotArea.html#a916b92ed87600c05734fd3a935e7642b">YTicsBias</a>:dy)));
<a name="l00510"></a>00510           dy-=<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>;
<a name="l00511"></a>00511         };
<a name="l00512"></a>00512     };
<a name="l00513"></a>00513   <span class="comment">// end of YTics calculations</span>
<a name="l00514"></a>00514   
<a name="l00515"></a>00515   <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a> = <a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a> + 5*<a class="code" href="classSBPlotArea.html#a9f07882f4283748acbf00b3e47876fdc">YLabelHeight</a>/2 + 10;
<a name="l00516"></a>00516   <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>   = <a class="code" href="classSBPlotArea.html#a5acde1952d7491401732330527328c14">Width</a> - <a class="code" href="classSBPlotArea.html#a9c8e0e16f601aea6a493707f5bdd7f6c">RtMarg</a>;
<a name="l00517"></a>00517 
<a name="l00518"></a>00518   <span class="comment">// Define X Tics parameters:</span>
<a name="l00519"></a>00519   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ac7240c0a490e438bd36ab9881fc471f0">isXTicsMJD</a>)
<a name="l00520"></a>00520     {
<a name="l00521"></a>00521       <a class="code" href="classSBPlotArea.html#aa65535c4db522221d60cda5e3efb4819">NumOfXTics</a>=(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a> - <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>)/(7*<a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a>/4);
<a name="l00522"></a>00522       <span class="comment">//      NumOfXTics=(XFrameEnd - XFrameBegin)/(2*XTicsWidth);</span>
<a name="l00523"></a>00523       <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> = 86400.0*(<a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a>-<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>)/<a class="code" href="classSBPlotArea.html#aa65535c4db522221d60cda5e3efb4819">NumOfXTics</a>; <span class="comment">// here XTicsStep in sec</span>
<a name="l00524"></a>00524       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&lt;=60.0) <span class="comment">// sec.s</span>
<a name="l00525"></a>00525         {
<a name="l00526"></a>00526           <a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a> = (int)floor(log10(<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>));
<a name="l00527"></a>00527           <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> = trunc( <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>) )*exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>);
<a name="l00528"></a>00528           <a class="code" href="classSBPlotArea.html#ab7de024f310025b4a1469ecb172d75d1">XTicsMJD</a> = 0;
<a name="l00529"></a>00529         }
<a name="l00530"></a>00530       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/60.0&lt;=45.0) <span class="comment">// min.s</span>
<a name="l00531"></a>00531         {
<a name="l00532"></a>00532           <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/=60.0;
<a name="l00533"></a>00533           <a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a> = (int)floor(log10(<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>));
<a name="l00534"></a>00534           <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> = trunc( <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>) )*exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>);
<a name="l00535"></a>00535           <span class="keywordflow">if</span> (10.0&gt;<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> &amp;&amp; <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&gt;=8.0)
<a name="l00536"></a>00536             <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=10.0;
<a name="l00537"></a>00537           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (8.0&gt;<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> &amp;&amp; <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&gt;=5.0)
<a name="l00538"></a>00538             <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=5.0;
<a name="l00539"></a>00539           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (5.0&gt;<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> &amp;&amp; <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&gt;=2.0)
<a name="l00540"></a>00540             <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=2.0;
<a name="l00541"></a>00541           <a class="code" href="classSBPlotArea.html#ab7de024f310025b4a1469ecb172d75d1">XTicsMJD</a> = 1;
<a name="l00542"></a>00542         }
<a name="l00543"></a>00543       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/3600.0&lt;=18.0) <span class="comment">// hrs</span>
<a name="l00544"></a>00544         {
<a name="l00545"></a>00545           <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/=3600.0;
<a name="l00546"></a>00546           <a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a> = (int)floor(log10(<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>));
<a name="l00547"></a>00547           <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> = trunc( <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>) )*exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>);
<a name="l00548"></a>00548           <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&gt;=10.0) 
<a name="l00549"></a>00549             <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=12.0;
<a name="l00550"></a>00550           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&gt;=8.0) 
<a name="l00551"></a>00551             <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=8.0;
<a name="l00552"></a>00552           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&gt;=6.0) 
<a name="l00553"></a>00553             <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=6.0;
<a name="l00554"></a>00554           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&gt;=4.0) 
<a name="l00555"></a>00555             <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=4.0;
<a name="l00556"></a>00556           <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&lt;1.0) 
<a name="l00557"></a>00557             <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=1.0;
<a name="l00558"></a>00558           <a class="code" href="classSBPlotArea.html#ab7de024f310025b4a1469ecb172d75d1">XTicsMJD</a> = 2;
<a name="l00559"></a>00559         }
<a name="l00560"></a>00560       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/86400.0&lt;=20.0) <span class="comment">// days</span>
<a name="l00561"></a>00561         {
<a name="l00562"></a>00562           <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/=86400.0;
<a name="l00563"></a>00563           <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&lt;1.0) <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=0.5;
<a name="l00564"></a>00564           <a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a> = (int)floor(log10(<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>));
<a name="l00565"></a>00565           <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> = trunc( <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>) )*exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>);
<a name="l00566"></a>00566           <a class="code" href="classSBPlotArea.html#ab7de024f310025b4a1469ecb172d75d1">XTicsMJD</a> = 3; <span class="comment">//days</span>
<a name="l00567"></a>00567         }
<a name="l00568"></a>00568       <span class="keywordflow">else</span>
<a name="l00569"></a>00569         {
<a name="l00570"></a>00570           <a class="code" href="classSBPlotArea.html#aa65535c4db522221d60cda5e3efb4819">NumOfXTics</a>=(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a> - <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>)/(2*<a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a>);
<a name="l00571"></a>00571           <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> = 86400.0*(<a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a>-<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>)/<a class="code" href="classSBPlotArea.html#aa65535c4db522221d60cda5e3efb4819">NumOfXTics</a>;
<a name="l00572"></a>00572 
<a name="l00573"></a>00573           <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/=86400.0;
<a name="l00574"></a>00574           <a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a> = (int)floor(log10(<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>));
<a name="l00575"></a>00575           <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> = trunc( <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>) )*exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>);
<a name="l00576"></a>00576           <a class="code" href="classSBPlotArea.html#ab7de024f310025b4a1469ecb172d75d1">XTicsMJD</a> = 4; <span class="comment">//days and more</span>
<a name="l00577"></a>00577         };
<a name="l00578"></a>00578     }
<a name="l00579"></a>00579   <span class="keywordflow">else</span>
<a name="l00580"></a>00580     {
<a name="l00581"></a>00581       <a class="code" href="classSBPlotArea.html#aa65535c4db522221d60cda5e3efb4819">NumOfXTics</a>=(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a> - <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>)/(2*<a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a>);
<a name="l00582"></a>00582       <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> = (<a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a>-<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>)/<a class="code" href="classSBPlotArea.html#aa65535c4db522221d60cda5e3efb4819">NumOfXTics</a>;
<a name="l00583"></a>00583       <a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a> = (int)floor(log10(<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>));
<a name="l00584"></a>00584       <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> = trunc( <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>) );
<a name="l00585"></a>00585       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>==3)
<a name="l00586"></a>00586         <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=2;
<a name="l00587"></a>00587       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>==3)
<a name="l00588"></a>00588         <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=4;
<a name="l00589"></a>00589       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>==6)
<a name="l00590"></a>00590         <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=5;
<a name="l00591"></a>00591       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>==7)
<a name="l00592"></a>00592         <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=5;
<a name="l00593"></a>00593       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>==8 || <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>==9)
<a name="l00594"></a>00594         <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>=10;
<a name="l00595"></a>00595       <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a> = <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>*exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>);
<a name="l00596"></a>00596       <span class="keywordflow">if</span> (!<a class="code" href="classSBPlotArea.html#ac7240c0a490e438bd36ab9881fc471f0">isXTicsMJD</a> &amp;&amp; log10(fabs(<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>)) - <a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a> &gt; 7.0) <span class="comment">// need a bias</span>
<a name="l00597"></a>00597         {
<a name="l00598"></a>00598           <a class="code" href="classSBPlotArea.html#ad3c8b5a8f1b5aa3cdf4cad2d3a5cf402">isXTicsBiased</a> = TRUE;
<a name="l00599"></a>00599           <a class="code" href="classSBPlotArea.html#afb14b448b4cc0146b0cd0b68e1c6ee79">XTicsBias</a> = trunc( <a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>/exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>+1.0) )*exp10(<a class="code" href="classSBPlotArea.html#ae8c5fcbc1ce9bca9f9f53d61804a4169">XStepP</a>+1.0);
<a name="l00600"></a>00600           <a class="code" href="classSBPlotArea.html#a6323c63331ad93361fb0dcd9a7ffe582">XLabelWidth</a>+=fm.width(QString().sprintf(<span class="stringliteral">&quot;, %.16g +&quot;</span>, <a class="code" href="classSBPlotArea.html#afb14b448b4cc0146b0cd0b68e1c6ee79">XTicsBias</a>));
<a name="l00601"></a>00601         }
<a name="l00602"></a>00602       <span class="keywordflow">else</span>
<a name="l00603"></a>00603         {
<a name="l00604"></a>00604           <a class="code" href="classSBPlotArea.html#afb14b448b4cc0146b0cd0b68e1c6ee79">XTicsBias</a> = 0.0;
<a name="l00605"></a>00605           <a class="code" href="classSBPlotArea.html#ad3c8b5a8f1b5aa3cdf4cad2d3a5cf402">isXTicsBiased</a> = FALSE;
<a name="l00606"></a>00606         };
<a name="l00607"></a>00607     };
<a name="l00608"></a>00608   <span class="comment">// end of XTics calculations</span>
<a name="l00609"></a>00609   
<a name="l00610"></a>00610   <a class="code" href="classSBPlotArea.html#a62aa82cc4b7225fee7741a9e93b23553">XDataBegin</a> = <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a> + 20;
<a name="l00611"></a>00611   <a class="code" href="classSBPlotArea.html#ad2fca68761501bf3c2badd8fe525d587">XDataEnd</a>   = <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>   - 20;
<a name="l00612"></a>00612 
<a name="l00613"></a>00613   <a class="code" href="classSBPlotArea.html#a96cd15469b3b5bb4ead3cc7c3adcb939">YDataBegin</a> = <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a> + 20;
<a name="l00614"></a>00614   <a class="code" href="classSBPlotArea.html#a94cdabd7ad3dcbd4ef8e4585e0a620cf">YDataEnd</a>   = <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>   - 20;
<a name="l00615"></a>00615 };
<a name="l00616"></a>00616 
<a name="l00617"></a><a class="code" href="classSBPlotArea.html#a78c5e36706fbfa3302aba1a4ba453a0c">00617</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a78c5e36706fbfa3302aba1a4ba453a0c">SBPlotArea::resizeEvent</a>(QResizeEvent* ev)
<a name="l00618"></a>00618 {
<a name="l00619"></a>00619   <a class="code" href="classSBPlotArea.html#a78c5e36706fbfa3302aba1a4ba453a0c">QWidget::resizeEvent</a>(ev);
<a name="l00620"></a>00620   <a class="code" href="classSBPlotArea.html#a118c4780a66e3594778605a3c7f7168a">Height</a>=ev-&gt;size().height();
<a name="l00621"></a>00621   <a class="code" href="classSBPlotArea.html#a5acde1952d7491401732330527328c14">Width</a> =ev-&gt;size().width();
<a name="l00622"></a>00622 };
<a name="l00623"></a>00623 
<a name="l00624"></a><a class="code" href="classSBPlotArea.html#a735dda2068c2eb6cf1a3b403c67f06da">00624</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a735dda2068c2eb6cf1a3b403c67f06da">SBPlotArea::paintEvent</a>(QPaintEvent *)
<a name="l00625"></a>00625 {
<a name="l00626"></a>00626   QPainter paint(<span class="keyword">this</span>);
<a name="l00627"></a>00627   <a class="code" href="classSBPlotArea.html#ac62526f78976ab4417745be433f474ff">showData</a>(&amp;paint);
<a name="l00628"></a>00628 };
<a name="l00629"></a>00629 
<a name="l00630"></a><a class="code" href="classSBPlotArea.html#adb4c91e37a2a0f0dd79099503971913b">00630</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#adb4c91e37a2a0f0dd79099503971913b">SBPlotArea::output4Print</a>(QPainter* P, <span class="keywordtype">int</span> Width_, <span class="keywordtype">int</span> Height_)
<a name="l00631"></a>00631 {
<a name="l00632"></a>00632   <span class="keywordtype">int</span>   WidthSaved = <a class="code" href="classSBPlotArea.html#a5acde1952d7491401732330527328c14">Width</a>;
<a name="l00633"></a>00633   <span class="keywordtype">int</span>   HeightSaved= <a class="code" href="classSBPlotArea.html#a118c4780a66e3594778605a3c7f7168a">Height</a>;
<a name="l00634"></a>00634 
<a name="l00635"></a>00635   <a class="code" href="classSBPlotArea.html#a5acde1952d7491401732330527328c14">Width</a> = Width_;
<a name="l00636"></a>00636   <a class="code" href="classSBPlotArea.html#a118c4780a66e3594778605a3c7f7168a">Height</a>= Height_;
<a name="l00637"></a>00637 
<a name="l00638"></a>00638   <a class="code" href="classSBPlotArea.html#ac62526f78976ab4417745be433f474ff">showData</a>(P);
<a name="l00639"></a>00639 
<a name="l00640"></a>00640   <a class="code" href="classSBPlotArea.html#a5acde1952d7491401732330527328c14">Width</a> = WidthSaved;
<a name="l00641"></a>00641   <a class="code" href="classSBPlotArea.html#a118c4780a66e3594778605a3c7f7168a">Height</a>= HeightSaved;
<a name="l00642"></a>00642 };
<a name="l00643"></a>00643 
<a name="l00644"></a><a class="code" href="classSBPlotArea.html#ac62526f78976ab4417745be433f474ff">00644</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#ac62526f78976ab4417745be433f474ff">SBPlotArea::showData</a>(QPainter* P)
<a name="l00645"></a>00645 {
<a name="l00646"></a>00646   <a class="code" href="classSBPlotArea.html#a73cbed3b132e1b2550749e9a2745cc32">getLimits</a>();
<a name="l00647"></a>00647   <a class="code" href="classSBPlotArea.html#a25e60174e0feb0c26e56dd00b802dea9">defineAreas</a>(P);
<a name="l00648"></a>00648   <a class="code" href="classSBPlotArea.html#a9d13b9e228c34f6652abd0553f4099a1">calcTransforms</a>();
<a name="l00649"></a>00649   <a class="code" href="classSBPlotArea.html#aef67e8547f6b39d06bd8115fab935fde">drawFrames</a>(P);
<a name="l00650"></a>00650   <a class="code" href="classSBPlotArea.html#a5794449e023c806445404ca999c7f7a7">drawYTics</a>(P);
<a name="l00651"></a>00651 
<a name="l00652"></a>00652   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ac7240c0a490e438bd36ab9881fc471f0">isXTicsMJD</a>)
<a name="l00653"></a>00653     <a class="code" href="classSBPlotArea.html#ad2214b34b4f1aada4679772a733925b6">drawXmjdTics</a>(P);
<a name="l00654"></a>00654   <span class="keywordflow">else</span>
<a name="l00655"></a>00655     <a class="code" href="classSBPlotArea.html#a8ffa8309e011c1bbfa3fcf3e20369319">drawXTics</a>(P);
<a name="l00656"></a>00656   
<a name="l00657"></a>00657   <a class="code" href="classSBPlotArea.html#a8ab6199ba77b6ee0aa7b990ff31456a1">drawData</a>(P);
<a name="l00658"></a>00658 };
<a name="l00659"></a>00659 
<a name="l00660"></a><a class="code" href="classSBPlotArea.html#aef67e8547f6b39d06bd8115fab935fde">00660</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#aef67e8547f6b39d06bd8115fab935fde">SBPlotArea::drawFrames</a>(QPainter* P)
<a name="l00661"></a>00661 {
<a name="l00662"></a>00662   <span class="comment">// Title:</span>
<a name="l00663"></a>00663   P-&gt;drawText((<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a> + <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a> - <a class="code" href="classSBPlotArea.html#a4c10bb32dbd9e15016fe1ada0b8f867e">TitleWidth</a>)/2, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, <a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>());
<a name="l00664"></a>00664 
<a name="l00665"></a>00665   <span class="comment">// Labels:</span>
<a name="l00666"></a>00666   <span class="comment">// X Label:</span>
<a name="l00667"></a>00667   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ac7240c0a490e438bd36ab9881fc471f0">isXTicsMJD</a>)
<a name="l00668"></a>00668     P-&gt;drawText((<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a> + <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a> - <a class="code" href="classSBPlotArea.html#a6323c63331ad93361fb0dcd9a7ffe582">XLabelWidth</a>)/2, <a class="code" href="classSBPlotArea.html#a118c4780a66e3594778605a3c7f7168a">Height</a>-<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, 
<a name="l00669"></a>00669                 (<a class="code" href="classSBPlotArea.html#ab7de024f310025b4a1469ecb172d75d1">XTicsMJD</a>&lt;=2 &amp;&amp; <a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a>-<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>&lt;1.0)?
<a name="l00670"></a>00670                 (*<a class="code" href="classSBPlotArea.html#aa733be9fa13e5ff74ea6ab92df65cf3e">XLabel</a> + <span class="stringliteral">&quot;; &quot;</span> + <a class="code" href="classSBMJD.html">SBMJD</a>((<span class="keywordtype">int</span>)trunc(<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>), 0.0).toString(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>))
<a name="l00671"></a>00671                 :*<a class="code" href="classSBPlotArea.html#aa733be9fa13e5ff74ea6ab92df65cf3e">XLabel</a>);
<a name="l00672"></a>00672   <span class="keywordflow">else</span>
<a name="l00673"></a>00673     P-&gt;drawText((<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a> + <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a> - <a class="code" href="classSBPlotArea.html#a6323c63331ad93361fb0dcd9a7ffe582">XLabelWidth</a>)/2, <a class="code" href="classSBPlotArea.html#a118c4780a66e3594778605a3c7f7168a">Height</a>-<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, 
<a name="l00674"></a>00674                 <a class="code" href="classSBPlotArea.html#ad3c8b5a8f1b5aa3cdf4cad2d3a5cf402">isXTicsBiased</a>?(*XLabel + QString().sprintf(<span class="stringliteral">&quot;, %.16g +&quot;</span>, <a class="code" href="classSBPlotArea.html#afb14b448b4cc0146b0cd0b68e1c6ee79">XTicsBias</a>)):*XLabel);
<a name="l00675"></a>00675   <span class="comment">// Y Label:</span>
<a name="l00676"></a>00676   P-&gt;save();
<a name="l00677"></a>00677   P-&gt;rotate(270);
<a name="l00678"></a>00678   P-&gt;drawText(-(<a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+<a class="code" href="classSBPlotArea.html#a67627176893e2f56f79ccd89e01c8c9f">YLabelWidth</a>)/2, 3*<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, 
<a name="l00679"></a>00679               <a class="code" href="classSBPlotArea.html#ac5e98807eee9891a543a3125b617d93b">isYTicsBiased</a>?(*<a class="code" href="classSBPlotArea.html#a9422f3fe1c08b01a83bfcc9220bffae4">YLabel</a> + QString().sprintf(<span class="stringliteral">&quot;, %.16g +&quot;</span>, <a class="code" href="classSBPlotArea.html#a916b92ed87600c05734fd3a935e7642b">YTicsBias</a>)):*<a class="code" href="classSBPlotArea.html#a9422f3fe1c08b01a83bfcc9220bffae4">YLabel</a>);
<a name="l00680"></a>00680   P-&gt;restore();
<a name="l00681"></a>00681 
<a name="l00682"></a>00682   <span class="comment">// frames:</span>
<a name="l00683"></a>00683   P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l00684"></a>00684   P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>);
<a name="l00685"></a>00685   P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>);
<a name="l00686"></a>00686   P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>);
<a name="l00687"></a>00687   P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>);
<a name="l00688"></a>00688 };
<a name="l00689"></a>00689 
<a name="l00690"></a><a class="code" href="classSBPlotArea.html#a5794449e023c806445404ca999c7f7a7">00690</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a5794449e023c806445404ca999c7f7a7">SBPlotArea::drawYTics</a>(QPainter* P)
<a name="l00691"></a>00691 {
<a name="l00692"></a>00692   QString       YTic;
<a name="l00693"></a>00693   <span class="keywordtype">int</span>           TicAlignFlag = (<a class="code" href="classSBPlotArea.html#ae8747d91b8e747b8c2eb5e340ec904be">YStepP</a>&lt;0)?Qt::AlignLeft:Qt::AlignRight;
<a name="l00694"></a>00694   <span class="keywordtype">double</span>        dy=0.0;
<a name="l00695"></a>00695   <span class="keywordtype">int</span>           ytic=0, i;
<a name="l00696"></a>00696   
<a name="l00697"></a>00697   <span class="comment">//if (MaxY*MinY&lt;0.0) // there is &quot;0&quot;:</span>
<a name="l00698"></a>00698   <span class="keywordflow">if</span> ((<a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a>+<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>/3.0)*(<a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>-<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>/3.0)&lt;0.0) <span class="comment">// there is &quot;0&quot;:</span>
<a name="l00699"></a>00699     {
<a name="l00700"></a>00700       P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l00701"></a>00701       dy=0.0;
<a name="l00702"></a>00702       ytic=<a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(dy);
<a name="l00703"></a>00703       P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+1, ytic, <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-1, ytic);
<a name="l00704"></a>00704       P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l00705"></a>00705       <span class="keywordflow">while</span> (dy&lt;=<a class="code" href="classSBPlotArea.html#af5ae5ebba4c91ea48985de0361ba2da9">MaxY</a>)
<a name="l00706"></a>00706         {
<a name="l00707"></a>00707           <span class="keywordflow">if</span> ((ytic=<a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(dy))&gt;<a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+3 &amp;&amp; ytic&lt;<a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-3)
<a name="l00708"></a>00708             {
<a name="l00709"></a>00709               YTic.sprintf(<span class="stringliteral">&quot;%.8g&quot;</span>, dy);
<a name="l00710"></a>00710               P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   ytic, <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-10,   ytic);
<a name="l00711"></a>00711               P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, ytic, <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+10, ytic);
<a name="l00712"></a>00712               P-&gt;drawText(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>-<a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a>-10, ytic-<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, <a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a>, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l00713"></a>00713                           TicAlignFlag, YTic);
<a name="l00714"></a>00714             };
<a name="l00715"></a>00715           <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
<a name="l00716"></a>00716             <span class="keywordflow">if</span> ((ytic = <a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(dy + <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>*(i+1)/10.0))&gt;<a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+3 &amp;&amp; ytic&lt;<a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-3)
<a name="l00717"></a>00717               {
<a name="l00718"></a>00718                 P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   ytic, <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>  - ((i!=4)?3:6), ytic);
<a name="l00719"></a>00719                 P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, ytic, <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+ ((i!=4)?4:7), ytic);
<a name="l00720"></a>00720               };
<a name="l00721"></a>00721           dy+=<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>;
<a name="l00722"></a>00722         };
<a name="l00723"></a>00723       <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
<a name="l00724"></a>00724         <span class="keywordflow">if</span> ((ytic = <a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(-<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>*(i+1)/10.0))&lt;<a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-3 &amp;&amp; ytic&gt;<a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+3)
<a name="l00725"></a>00725           {
<a name="l00726"></a>00726             P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   ytic, <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>  - ((i!=4)?3:6), ytic);
<a name="l00727"></a>00727             P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, ytic, <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+ ((i!=4)?4:7), ytic);
<a name="l00728"></a>00728           };
<a name="l00729"></a>00729       dy=-<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>;
<a name="l00730"></a>00730       <span class="keywordflow">while</span> (dy&gt;=<a class="code" href="classSBPlotArea.html#ac0580a5420958df4dd93b6bf22e7fed6">MinY</a>)
<a name="l00731"></a>00731         {
<a name="l00732"></a>00732           <span class="keywordflow">if</span> ((ytic = <a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(dy))&lt;<a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-3 &amp;&amp; ytic&gt;<a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+3)
<a name="l00733"></a>00733             {
<a name="l00734"></a>00734               YTic.sprintf(<span class="stringliteral">&quot;%.8g&quot;</span>, dy);
<a name="l00735"></a>00735               P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   ytic, <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-10,   ytic);
<a name="l00736"></a>00736               P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, ytic, <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+10, ytic);
<a name="l00737"></a>00737               P-&gt;drawText(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>-<a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a>-10, ytic-<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, <a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a>, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l00738"></a>00738                           TicAlignFlag, YTic);
<a name="l00739"></a>00739             };
<a name="l00740"></a>00740           <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
<a name="l00741"></a>00741             <span class="keywordflow">if</span> ((ytic = <a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(dy - <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>*(i+1)/10.0))&lt;<a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-3 &amp;&amp; ytic&gt;<a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+3)
<a name="l00742"></a>00742               {
<a name="l00743"></a>00743                 P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   ytic, <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>  - ((i!=4)?3:6), ytic);
<a name="l00744"></a>00744                 P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, ytic, <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+ ((i!=4)?4:7), ytic);
<a name="l00745"></a>00745               };
<a name="l00746"></a>00746           dy-=<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>;
<a name="l00747"></a>00747         };
<a name="l00748"></a>00748     }
<a name="l00749"></a>00749   <span class="keywordflow">else</span>
<a name="l00750"></a>00750     {
<a name="l00751"></a>00751       <span class="comment">// define the origin:</span>
<a name="l00752"></a>00752       <span class="keywordtype">double</span>    y_0=<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>*floor((<a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+3-<a class="code" href="classSBPlotArea.html#a17a7c29031643df1cda05f65b7e6c5b8">f_Ay</a>)/<a class="code" href="classSBPlotArea.html#a46d923ef58aecebf6622cc488e7f48fa">f_By</a>/<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>);
<a name="l00753"></a>00753       dy = y_0;
<a name="l00754"></a>00754       <span class="keywordflow">while</span> (dy&gt;(<a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-3 -<a class="code" href="classSBPlotArea.html#a17a7c29031643df1cda05f65b7e6c5b8">f_Ay</a>)/<a class="code" href="classSBPlotArea.html#a46d923ef58aecebf6622cc488e7f48fa">f_By</a>) <span class="comment">// down from the origin:</span>
<a name="l00755"></a>00755         {
<a name="l00756"></a>00756           ytic = <a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(dy);
<a name="l00757"></a>00757           YTic.sprintf(<span class="stringliteral">&quot;%.8g&quot;</span>, <a class="code" href="classSBPlotArea.html#ac5e98807eee9891a543a3125b617d93b">isYTicsBiased</a>?dy-<a class="code" href="classSBPlotArea.html#a916b92ed87600c05734fd3a935e7642b">YTicsBias</a>:dy);
<a name="l00758"></a>00758           P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   ytic, <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-10,   ytic);
<a name="l00759"></a>00759           P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, ytic, <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+10, ytic);
<a name="l00760"></a>00760           P-&gt;drawText(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>-<a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a>-10, ytic-<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, <a class="code" href="classSBPlotArea.html#a3a49976e2a4930f1cd328f3c592b48a9">YTicsWidth</a>, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l00761"></a>00761                       TicAlignFlag, YTic);
<a name="l00762"></a>00762           
<a name="l00763"></a>00763           <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
<a name="l00764"></a>00764             {
<a name="l00765"></a>00765               <span class="keywordflow">if</span> ((ytic = <a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(dy - <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>*(i+1)/10.0))&lt;<a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-3)
<a name="l00766"></a>00766                 {
<a name="l00767"></a>00767                   P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   ytic, <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>  - ((i!=4)?3:6), ytic);
<a name="l00768"></a>00768                   P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, ytic, <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+ ((i!=4)?4:7), ytic);
<a name="l00769"></a>00769                 };
<a name="l00770"></a>00770             };
<a name="l00771"></a>00771           dy-=<a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>;
<a name="l00772"></a>00772         };
<a name="l00773"></a>00773       <span class="keywordflow">for</span> (i=0; i&lt;9; i++) <span class="comment">// draw upward from the origin:</span>
<a name="l00774"></a>00774         <span class="keywordflow">if</span> ((ytic = <a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(y_0 + <a class="code" href="classSBPlotArea.html#a9034e674f4b8b7b70fac97941eb76c5e">YTicsStep</a>*(i+1)/10.0))&gt;<a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+3)
<a name="l00775"></a>00775           {
<a name="l00776"></a>00776             P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>,   ytic, <a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>  - ((i!=4)?3:6), ytic);
<a name="l00777"></a>00777             P-&gt;drawLine(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>, ytic, <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+ ((i!=4)?4:7), ytic);
<a name="l00778"></a>00778           };
<a name="l00779"></a>00779     };
<a name="l00780"></a>00780 };
<a name="l00781"></a>00781 
<a name="l00782"></a><a class="code" href="classSBPlotArea.html#a8ffa8309e011c1bbfa3fcf3e20369319">00782</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a8ffa8309e011c1bbfa3fcf3e20369319">SBPlotArea::drawXTics</a>(QPainter* P)
<a name="l00783"></a>00783 {
<a name="l00784"></a>00784   QString       XTic;
<a name="l00785"></a>00785   <span class="keywordtype">double</span>        dx=0.0;
<a name="l00786"></a>00786   <span class="keywordtype">int</span>           xtic=0, i;
<a name="l00787"></a>00787   <span class="keywordtype">int</span>           TicAlignFlag = Qt::AlignCenter;
<a name="l00788"></a>00788   <span class="comment">//  TicAlignFlag = (XStepP&lt;0)?Qt::AlignLeft:Qt::AlignRight;</span>
<a name="l00789"></a>00789 
<a name="l00790"></a>00790   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a>*<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>&lt;0.0) <span class="comment">// there is &quot;0&quot;:</span>
<a name="l00791"></a>00791     {
<a name="l00792"></a>00792       dx=0.0;
<a name="l00793"></a>00793       P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l00794"></a>00794       xtic=<a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dx);
<a name="l00795"></a>00795       P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+1, xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-1);
<a name="l00796"></a>00796       P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l00797"></a>00797       <span class="keywordflow">while</span> (dx&lt;=<a class="code" href="classSBPlotArea.html#a8c22c6d2b00871df1486879df76fb7e0">MaxX</a>)
<a name="l00798"></a>00798         {
<a name="l00799"></a>00799           xtic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dx);
<a name="l00800"></a>00800           XTic.sprintf(<span class="stringliteral">&quot;%.8g&quot;</span>, dx);
<a name="l00801"></a>00801           P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l00802"></a>00802           P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l00803"></a>00803           P-&gt;drawText(xtic-<a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a>/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, <a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a>, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l00804"></a>00804                       TicAlignFlag, XTic);
<a name="l00805"></a>00805           
<a name="l00806"></a>00806           <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
<a name="l00807"></a>00807             <span class="keywordflow">if</span> ((xtic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dx + <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>*(i+1)/10.0))&lt;<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3)
<a name="l00808"></a>00808               {
<a name="l00809"></a>00809                 P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - ((i!=4)?3:6));
<a name="l00810"></a>00810                 P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ ((i!=4)?4:7));
<a name="l00811"></a>00811               };
<a name="l00812"></a>00812           dx+=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>;
<a name="l00813"></a>00813         };
<a name="l00814"></a>00814       <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
<a name="l00815"></a>00815         <span class="keywordflow">if</span> ((xtic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(-<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>*(i+1)/10.0))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l00816"></a>00816           {
<a name="l00817"></a>00817             P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - ((i!=4)?3:6));
<a name="l00818"></a>00818             P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ ((i!=4)?4:7));
<a name="l00819"></a>00819           };
<a name="l00820"></a>00820       dx=-<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>;
<a name="l00821"></a>00821       <span class="keywordflow">while</span> (dx&gt;=<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>)
<a name="l00822"></a>00822         {
<a name="l00823"></a>00823           xtic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dx);
<a name="l00824"></a>00824           XTic.sprintf(<span class="stringliteral">&quot;%.8g&quot;</span>, dx);
<a name="l00825"></a>00825           P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l00826"></a>00826           P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l00827"></a>00827           P-&gt;drawText(xtic-<a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a>/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, <a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a>, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l00828"></a>00828                       TicAlignFlag, XTic);
<a name="l00829"></a>00829           
<a name="l00830"></a>00830           <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
<a name="l00831"></a>00831             <span class="keywordflow">if</span> ((xtic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dx - <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>*(i+1)/10.0))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l00832"></a>00832               {
<a name="l00833"></a>00833                 P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - ((i!=4)?3:6));
<a name="l00834"></a>00834                 P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ ((i!=4)?4:7));
<a name="l00835"></a>00835               };
<a name="l00836"></a>00836           dx-=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>;
<a name="l00837"></a>00837         };
<a name="l00838"></a>00838     }
<a name="l00839"></a>00839   <span class="keywordflow">else</span>
<a name="l00840"></a>00840     {
<a name="l00841"></a>00841       <span class="comment">// define the origin:</span>
<a name="l00842"></a>00842       <span class="keywordtype">double</span>    x_0=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>*floor((<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3-<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>/<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>);
<a name="l00843"></a>00843       dx =x_0;
<a name="l00844"></a>00844       <span class="keywordflow">while</span> (dx&gt;(<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>-<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) <span class="comment">// down from the origin:</span>
<a name="l00845"></a>00845         {
<a name="l00846"></a>00846           xtic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dx);
<a name="l00847"></a>00847           XTic.sprintf(<span class="stringliteral">&quot;%.8g&quot;</span>, <a class="code" href="classSBPlotArea.html#ad3c8b5a8f1b5aa3cdf4cad2d3a5cf402">isXTicsBiased</a>?dx-<a class="code" href="classSBPlotArea.html#afb14b448b4cc0146b0cd0b68e1c6ee79">XTicsBias</a>:dx);
<a name="l00848"></a>00848           P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l00849"></a>00849           P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l00850"></a>00850           P-&gt;drawText(xtic-<a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a>/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, <a class="code" href="classSBPlotArea.html#a6fdfda80f6bb1332d7ff6a0fc204cbca">XTicsWidth</a>, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l00851"></a>00851                       TicAlignFlag, XTic);
<a name="l00852"></a>00852           
<a name="l00853"></a>00853           <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
<a name="l00854"></a>00854             {
<a name="l00855"></a>00855               <span class="keywordflow">if</span> ((xtic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dx - <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>*(i+1)/10.0))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l00856"></a>00856                 {
<a name="l00857"></a>00857                   P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - ((i!=4)?3:6));
<a name="l00858"></a>00858                   P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ ((i!=4)?4:7));
<a name="l00859"></a>00859                 };
<a name="l00860"></a>00860             };
<a name="l00861"></a>00861           dx-=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>;
<a name="l00862"></a>00862         };
<a name="l00863"></a>00863       <span class="keywordflow">for</span> (i=0; i&lt;9; i++) <span class="comment">// draw upward from the origin:</span>
<a name="l00864"></a>00864         <span class="keywordflow">if</span> ((xtic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(x_0 + <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>*(i+1)/10.0))&lt;<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3)
<a name="l00865"></a>00865           {
<a name="l00866"></a>00866             P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   xtic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - ((i!=4)?3:6));
<a name="l00867"></a>00867             P-&gt;drawLine(xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, xtic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ ((i!=4)?4:7));
<a name="l00868"></a>00868           };
<a name="l00869"></a>00869     };
<a name="l00870"></a>00870 };
<a name="l00871"></a>00871 
<a name="l00872"></a><a class="code" href="classSBPlotArea.html#ad2214b34b4f1aada4679772a733925b6">00872</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#ad2214b34b4f1aada4679772a733925b6">SBPlotArea::drawXmjdTics</a>(QPainter* P)
<a name="l00873"></a>00873 {
<a name="l00874"></a>00874   QString       TTic;
<a name="l00875"></a>00875   <a class="code" href="classSBMJD.html">SBMJD</a>         dt;
<a name="l00876"></a>00876   <a class="code" href="classSBMJD.html">SBMJD</a>         D0((<span class="keywordtype">int</span>)trunc(<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>)+1, 0.0); <span class="comment">// here is the next midnight of the epoch of the MinX</span>
<a name="l00877"></a>00877   QFontMetrics  fm(P-&gt;fontMetrics());
<a name="l00878"></a>00878   <span class="keywordtype">double</span>        tmp;
<a name="l00879"></a>00879   <span class="keywordtype">int</span>           ttic=0, i;
<a name="l00880"></a>00880   <span class="keywordtype">int</span>           ss=2, tw=0;
<a name="l00881"></a>00881   <span class="keywordtype">int</span>           TicAlignFlag = Qt::AlignCenter;
<a name="l00882"></a>00882   <span class="comment">//  TicAlignFlag = (XStepP&lt;0)?Qt::AlignLeft:Qt::AlignRight;</span>
<a name="l00883"></a>00883   <span class="keywordtype">int</span>           N4SubTic;
<a name="l00884"></a>00884 
<a name="l00885"></a>00885   <span class="comment">//std::cout &lt;&lt; &quot;XTicsStep: &quot; + QString().setNum(XTicsStep) + &quot;; Mode: &quot; + QString().setNum(XTicsMJD)+&quot;\n&quot;;</span>
<a name="l00886"></a>00886 
<a name="l00887"></a>00887   <span class="keywordflow">switch</span> (<a class="code" href="classSBPlotArea.html#ab7de024f310025b4a1469ecb172d75d1">XTicsMJD</a>)
<a name="l00888"></a>00888     {
<a name="l00889"></a>00889     <span class="keywordflow">case</span> 0: <span class="comment">// XTicsStep in seconds:</span>
<a name="l00890"></a>00890       D0 = <a class="code" href="classSBMJD.html">SBMJD</a>((<span class="keywordtype">int</span>)trunc(<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>), 0.0);
<a name="l00891"></a>00891       D0+= <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/86400.0*trunc((<a class="code" href="classSBMJD.html">SBMJD</a>((<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) - D0)/(<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/86400.0));
<a name="l00892"></a>00892 
<a name="l00893"></a>00893       dt = D0;
<a name="l00894"></a>00894       ss = 5;
<a name="l00895"></a>00895       N4SubTic = 20;
<a name="l00896"></a>00896       <span class="keywordflow">while</span> ((<span class="keywordtype">double</span>)dt &lt; (<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) <span class="comment">// upward from the origin:</span>
<a name="l00897"></a>00897         {
<a name="l00898"></a>00898           ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt);
<a name="l00899"></a>00899           <span class="keywordflow">if</span> ( modf(dt, &amp;tmp)*24.0 &lt; 0.1)
<a name="l00900"></a>00900             {
<a name="l00901"></a>00901               TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>);
<a name="l00902"></a>00902               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l00903"></a>00903               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+1, ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-1);
<a name="l00904"></a>00904               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l00905"></a>00905             }
<a name="l00906"></a>00906           <span class="keywordflow">else</span>
<a name="l00907"></a>00907             TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba64d69740b3d1f804d604d2001abcb056">SBMJD::F_TimeShort</a>);
<a name="l00908"></a>00908 
<a name="l00909"></a>00909           <span class="keywordflow">if</span> (ttic &gt; <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l00910"></a>00910             {
<a name="l00911"></a>00911               tw = fm.width(TTic);
<a name="l00912"></a>00912               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l00913"></a>00913               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l00914"></a>00914               P-&gt;drawText(ttic-tw/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, tw, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l00915"></a>00915                           TicAlignFlag, TTic);
<a name="l00916"></a>00916             };
<a name="l00917"></a>00917           <span class="keywordflow">for</span> (i=0; i&lt;N4SubTic-1; i++)
<a name="l00918"></a>00918             <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt + <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/86400.0*(i+1)/N4SubTic))&lt;<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3 &amp;&amp; ttic&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l00919"></a>00919               {
<a name="l00920"></a>00920                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l00921"></a>00921                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l00922"></a>00922               };
<a name="l00923"></a>00923           dt+=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/86400.0;
<a name="l00924"></a>00924         };
<a name="l00925"></a>00925       <span class="keywordflow">for</span> (i=0; i&lt;N4SubTic-1; i++)
<a name="l00926"></a>00926         <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(D0 - <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/86400.0*(i+1)/N4SubTic))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3  &amp;&amp; 
<a name="l00927"></a>00927             ttic&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l00928"></a>00928           {
<a name="l00929"></a>00929             P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l00930"></a>00930             P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l00931"></a>00931           };
<a name="l00932"></a>00932       dt = D0 - <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/86400.0;
<a name="l00933"></a>00933       <span class="keywordflow">while</span> ((<span class="keywordtype">double</span>)dt &gt; (<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) <span class="comment">// downward from the origin:</span>
<a name="l00934"></a>00934         {
<a name="l00935"></a>00935           ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt);
<a name="l00936"></a>00936           <span class="keywordflow">if</span> ( modf(dt, &amp;tmp)*86400.0 &lt; 0.1)
<a name="l00937"></a>00937             {
<a name="l00938"></a>00938               TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>);
<a name="l00939"></a>00939               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l00940"></a>00940               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+1, ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-1);
<a name="l00941"></a>00941               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l00942"></a>00942             }
<a name="l00943"></a>00943           <span class="keywordflow">else</span>
<a name="l00944"></a>00944             TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba64d69740b3d1f804d604d2001abcb056">SBMJD::F_TimeShort</a>);
<a name="l00945"></a>00945           
<a name="l00946"></a>00946           tw = fm.width(TTic);
<a name="l00947"></a>00947           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l00948"></a>00948           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l00949"></a>00949           P-&gt;drawText(ttic-tw/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, tw, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l00950"></a>00950                       TicAlignFlag, TTic);
<a name="l00951"></a>00951           <span class="keywordflow">for</span> (i=0; i&lt;N4SubTic-1; i++)
<a name="l00952"></a>00952             <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt - <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/86400.0*(i+1)/N4SubTic))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3 
<a name="l00953"></a>00953                 &amp;&amp; ttic&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l00954"></a>00954               {
<a name="l00955"></a>00955                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l00956"></a>00956                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l00957"></a>00957               };
<a name="l00958"></a>00958           dt-=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/86400.0;
<a name="l00959"></a>00959         };
<a name="l00960"></a>00960       <span class="keywordflow">break</span>;
<a name="l00961"></a>00961       
<a name="l00962"></a>00962     <span class="keywordflow">case</span> 1: <span class="comment">// XTicsStep in minutes:</span>
<a name="l00963"></a>00963       D0 = <a class="code" href="classSBMJD.html">SBMJD</a>((<span class="keywordtype">int</span>)trunc(<a class="code" href="classSBPlotArea.html#a307d1b53ba8db9723c142605f6df7a87">MinX</a>), 0.0);
<a name="l00964"></a>00964       D0+= <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/1440.0*trunc((<a class="code" href="classSBMJD.html">SBMJD</a>((<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) - D0)/(<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/1440.0));
<a name="l00965"></a>00965 
<a name="l00966"></a>00966       dt = D0;
<a name="l00967"></a>00967       ss = 1;
<a name="l00968"></a>00968       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&gt;=50) 
<a name="l00969"></a>00969         {
<a name="l00970"></a>00970           N4SubTic = 10;
<a name="l00971"></a>00971           ss = 5;
<a name="l00972"></a>00972         }
<a name="l00973"></a>00973       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&gt;=30)
<a name="l00974"></a>00974         {
<a name="l00975"></a>00975           N4SubTic = 20;
<a name="l00976"></a>00976           ss=10;
<a name="l00977"></a>00977         }
<a name="l00978"></a>00978       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>==20) 
<a name="l00979"></a>00979         {
<a name="l00980"></a>00980           N4SubTic = 20;
<a name="l00981"></a>00981           ss=5;
<a name="l00982"></a>00982         }
<a name="l00983"></a>00983       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>==10) 
<a name="l00984"></a>00984         {
<a name="l00985"></a>00985           N4SubTic = 10;
<a name="l00986"></a>00986           ss=5;
<a name="l00987"></a>00987         }
<a name="l00988"></a>00988       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&gt;=8) 
<a name="l00989"></a>00989         {
<a name="l00990"></a>00990           ss = 2;
<a name="l00991"></a>00991           N4SubTic = (int)(ss*<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>);
<a name="l00992"></a>00992         }
<a name="l00993"></a>00993       <span class="keywordflow">else</span>
<a name="l00994"></a>00994         {
<a name="l00995"></a>00995           ss = 5;
<a name="l00996"></a>00996           N4SubTic = (int)(ss*<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>);
<a name="l00997"></a>00997         };
<a name="l00998"></a>00998 
<a name="l00999"></a>00999       <span class="keywordflow">while</span> ((<span class="keywordtype">double</span>)dt &lt; (<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) <span class="comment">// upward from the origin:</span>
<a name="l01000"></a>01000         {
<a name="l01001"></a>01001           ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt);
<a name="l01002"></a>01002           <span class="keywordflow">if</span> ( modf(dt, &amp;tmp)*24.0 &lt; 0.1)
<a name="l01003"></a>01003             {
<a name="l01004"></a>01004               TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>);
<a name="l01005"></a>01005               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l01006"></a>01006               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+1, ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-1);
<a name="l01007"></a>01007               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l01008"></a>01008             }
<a name="l01009"></a>01009           <span class="keywordflow">else</span>
<a name="l01010"></a>01010             TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba8fd49326dd2aeeacaae4ffb66f18eb2c">SBMJD::F_TimeVShort</a>);
<a name="l01011"></a>01011 
<a name="l01012"></a>01012           <span class="keywordflow">if</span> (ttic &gt; <a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l01013"></a>01013             {
<a name="l01014"></a>01014               tw = fm.width(TTic);
<a name="l01015"></a>01015               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l01016"></a>01016               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l01017"></a>01017               P-&gt;drawText(ttic-tw/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, tw, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l01018"></a>01018                           TicAlignFlag, TTic);
<a name="l01019"></a>01019             };
<a name="l01020"></a>01020           <span class="keywordflow">for</span> (i=0; i&lt;N4SubTic-1; i++)
<a name="l01021"></a>01021             <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt + <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/1440.0*(i+1)/N4SubTic))&lt;<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3 &amp;&amp; ttic&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l01022"></a>01022               {
<a name="l01023"></a>01023                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l01024"></a>01024                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l01025"></a>01025               };
<a name="l01026"></a>01026           dt+=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/1440.0;
<a name="l01027"></a>01027         };
<a name="l01028"></a>01028       <span class="keywordflow">for</span> (i=0; i&lt;N4SubTic-1; i++)
<a name="l01029"></a>01029         <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(D0 - <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/1440.0*(i+1)/N4SubTic))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3  &amp;&amp; 
<a name="l01030"></a>01030             ttic&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l01031"></a>01031           {
<a name="l01032"></a>01032             P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l01033"></a>01033             P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l01034"></a>01034           };
<a name="l01035"></a>01035       dt = D0 - <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/1440.0;
<a name="l01036"></a>01036       <span class="keywordflow">while</span> ((<span class="keywordtype">double</span>)dt &gt; (<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) <span class="comment">// downward from the origin:</span>
<a name="l01037"></a>01037         {
<a name="l01038"></a>01038           ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt);
<a name="l01039"></a>01039           <span class="keywordflow">if</span> ( modf(dt, &amp;tmp)*1440.0 &lt; 0.1)
<a name="l01040"></a>01040             {
<a name="l01041"></a>01041               TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>);
<a name="l01042"></a>01042               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l01043"></a>01043               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+1, ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-1);
<a name="l01044"></a>01044               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l01045"></a>01045             }
<a name="l01046"></a>01046           <span class="keywordflow">else</span>
<a name="l01047"></a>01047             TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba8fd49326dd2aeeacaae4ffb66f18eb2c">SBMJD::F_TimeVShort</a>);
<a name="l01048"></a>01048           
<a name="l01049"></a>01049           tw = fm.width(TTic);
<a name="l01050"></a>01050           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l01051"></a>01051           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l01052"></a>01052           P-&gt;drawText(ttic-tw/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, tw, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l01053"></a>01053                       TicAlignFlag, TTic);
<a name="l01054"></a>01054           <span class="keywordflow">for</span> (i=0; i&lt;N4SubTic-1; i++)
<a name="l01055"></a>01055             <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt - <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/1440.0*(i+1)/N4SubTic))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3 
<a name="l01056"></a>01056                 &amp;&amp; ttic&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l01057"></a>01057               {
<a name="l01058"></a>01058                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l01059"></a>01059                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l01060"></a>01060               };
<a name="l01061"></a>01061           dt-=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>/1440.0;
<a name="l01062"></a>01062         };
<a name="l01063"></a>01063       <span class="keywordflow">break</span>;
<a name="l01064"></a>01064       
<a name="l01065"></a>01065     <span class="keywordflow">case</span> 2: <span class="comment">// XTicsStep in hours:</span>
<a name="l01066"></a>01066       dt = D0;
<a name="l01067"></a>01067       ss = 2;
<a name="l01068"></a>01068       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&lt;4) ss=3;
<a name="l01069"></a>01069       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&lt;3) ss=4;
<a name="l01070"></a>01070       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>&lt;2) ss=6;
<a name="l01071"></a>01071       <span class="keywordflow">while</span> ((<span class="keywordtype">double</span>)dt &lt; (<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) <span class="comment">// upward from the origin:</span>
<a name="l01072"></a>01072         {
<a name="l01073"></a>01073           ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt);
<a name="l01074"></a>01074           <span class="keywordflow">if</span> ( modf(dt, &amp;tmp)*24.0 &lt; 0.1)
<a name="l01075"></a>01075             {
<a name="l01076"></a>01076               TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>);
<a name="l01077"></a>01077               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l01078"></a>01078               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+1, ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-1);
<a name="l01079"></a>01079               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l01080"></a>01080             }
<a name="l01081"></a>01081           <span class="keywordflow">else</span>
<a name="l01082"></a>01082             TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba8fd49326dd2aeeacaae4ffb66f18eb2c">SBMJD::F_TimeVShort</a>);
<a name="l01083"></a>01083           
<a name="l01084"></a>01084           tw = fm.width(TTic);
<a name="l01085"></a>01085           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l01086"></a>01086           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l01087"></a>01087           P-&gt;drawText(ttic-tw/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, tw, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l01088"></a>01088                       TicAlignFlag, TTic);
<a name="l01089"></a>01089           <span class="keywordflow">for</span> (i=0; i&lt;ss*<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>-1; i++)
<a name="l01090"></a>01090             <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt + XTicsStep/24.0*(i+1)/(ss*XTicsStep)))&lt;<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3)
<a name="l01091"></a>01091               {
<a name="l01092"></a>01092                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l01093"></a>01093                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l01094"></a>01094               };
<a name="l01095"></a>01095           dt+=XTicsStep/24.0;
<a name="l01096"></a>01096         };
<a name="l01097"></a>01097       <span class="keywordflow">for</span> (i=0; i&lt;ss*<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>-1; i++)
<a name="l01098"></a>01098         <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(D0 - XTicsStep/24.0*(i+1)/(ss*XTicsStep)))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3  &amp;&amp; ttic&lt;<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3)
<a name="l01099"></a>01099           {
<a name="l01100"></a>01100             P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l01101"></a>01101             P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l01102"></a>01102           };
<a name="l01103"></a>01103       dt = D0 - XTicsStep/24.0;
<a name="l01104"></a>01104       <span class="keywordflow">while</span> ((<span class="keywordtype">double</span>)dt &gt; (<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) <span class="comment">// downward from the origin:</span>
<a name="l01105"></a>01105         {
<a name="l01106"></a>01106           ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt);
<a name="l01107"></a>01107           <span class="keywordflow">if</span> ( modf(dt, &amp;tmp)*24.0 &lt; 0.1)
<a name="l01108"></a>01108             {
<a name="l01109"></a>01109               TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>);
<a name="l01110"></a>01110               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l01111"></a>01111               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+1, ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-1);
<a name="l01112"></a>01112               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l01113"></a>01113             }
<a name="l01114"></a>01114           <span class="keywordflow">else</span>
<a name="l01115"></a>01115             TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba8fd49326dd2aeeacaae4ffb66f18eb2c">SBMJD::F_TimeVShort</a>);
<a name="l01116"></a>01116 
<a name="l01117"></a>01117           tw = fm.width(TTic);
<a name="l01118"></a>01118           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l01119"></a>01119           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l01120"></a>01120           P-&gt;drawText(ttic-tw/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, tw, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l01121"></a>01121                       TicAlignFlag, TTic);
<a name="l01122"></a>01122           <span class="keywordflow">for</span> (i=0; i&lt;ss*XTicsStep-1; i++)
<a name="l01123"></a>01123             <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt - XTicsStep/24.0*(i+1)/(ss*XTicsStep)))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3 &amp;&amp; ttic&lt;<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3)
<a name="l01124"></a>01124               {
<a name="l01125"></a>01125                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l01126"></a>01126                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l01127"></a>01127               };
<a name="l01128"></a>01128           dt-=XTicsStep/24.0;
<a name="l01129"></a>01129         };
<a name="l01130"></a>01130       <span class="keywordflow">break</span>;
<a name="l01131"></a>01131 
<a name="l01132"></a>01132     <span class="keywordflow">case</span> 3: <span class="comment">// XTicsStep in days:</span>
<a name="l01133"></a>01133       dt = D0;
<a name="l01134"></a>01134       ss = 6;
<a name="l01135"></a>01135       <span class="keywordflow">if</span> (XTicsStep&lt;1.0) ss=24;
<a name="l01136"></a>01136       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (XTicsStep&lt;2) ss=12;
<a name="l01137"></a>01137       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (XTicsStep&lt;4) ss=6;
<a name="l01138"></a>01138       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (XTicsStep&lt;6) ss=4;
<a name="l01139"></a>01139       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (XTicsStep&lt;12) ss=2;
<a name="l01140"></a>01140       <span class="keywordflow">else</span> ss=1;
<a name="l01141"></a>01141       <span class="keywordflow">while</span> ((<span class="keywordtype">double</span>)dt &lt; (<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) <span class="comment">// upward from the origin:</span>
<a name="l01142"></a>01142         {
<a name="l01143"></a>01143           ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt);
<a name="l01144"></a>01144           <span class="keywordflow">if</span> (modf(dt, &amp;tmp)*24.0 &lt; 0.1)
<a name="l01145"></a>01145             {
<a name="l01146"></a>01146               TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>);
<a name="l01147"></a>01147               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l01148"></a>01148               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+1, ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-1);
<a name="l01149"></a>01149               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l01150"></a>01150             }
<a name="l01151"></a>01151           <span class="keywordflow">else</span>
<a name="l01152"></a>01152             TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba8fd49326dd2aeeacaae4ffb66f18eb2c">SBMJD::F_TimeVShort</a>);
<a name="l01153"></a>01153           
<a name="l01154"></a>01154           tw = fm.width(TTic);
<a name="l01155"></a>01155           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l01156"></a>01156           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l01157"></a>01157           P-&gt;drawText(ttic-tw/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, tw, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l01158"></a>01158                       TicAlignFlag, TTic);
<a name="l01159"></a>01159           <span class="keywordflow">for</span> (i=0; i&lt;ss*XTicsStep-1; i++)
<a name="l01160"></a>01160             <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt + XTicsStep*(i+1)/(ss*XTicsStep)))&lt;<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3)
<a name="l01161"></a>01161               {
<a name="l01162"></a>01162                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l01163"></a>01163                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l01164"></a>01164               };
<a name="l01165"></a>01165           dt+=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>;
<a name="l01166"></a>01166         };
<a name="l01167"></a>01167       <span class="keywordflow">for</span> (i=0; i&lt;ss*XTicsStep-1; i++)
<a name="l01168"></a>01168         <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(D0 - XTicsStep*(i+1)/(ss*XTicsStep)))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l01169"></a>01169           {
<a name="l01170"></a>01170             P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l01171"></a>01171             P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l01172"></a>01172           };
<a name="l01173"></a>01173       dt = D0 - <a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>;
<a name="l01174"></a>01174       <span class="keywordflow">while</span> ((<span class="keywordtype">double</span>)dt &gt; (<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) <span class="comment">// downward from the origin:</span>
<a name="l01175"></a>01175         {
<a name="l01176"></a>01176           ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt);
<a name="l01177"></a>01177           <span class="keywordflow">if</span> ( modf(dt, &amp;tmp)*24.0 &lt; 0.1)
<a name="l01178"></a>01178             {
<a name="l01179"></a>01179               TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>);
<a name="l01180"></a>01180               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l01181"></a>01181               P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+1, ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-1);
<a name="l01182"></a>01182               P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l01183"></a>01183             }
<a name="l01184"></a>01184           <span class="keywordflow">else</span>
<a name="l01185"></a>01185             TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba8fd49326dd2aeeacaae4ffb66f18eb2c">SBMJD::F_TimeVShort</a>);
<a name="l01186"></a>01186           
<a name="l01187"></a>01187           tw = fm.width(TTic);
<a name="l01188"></a>01188           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l01189"></a>01189           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l01190"></a>01190           P-&gt;drawText(ttic-tw/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, tw, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l01191"></a>01191                       TicAlignFlag, TTic);
<a name="l01192"></a>01192           <span class="keywordflow">for</span> (i=0; i&lt;ss*XTicsStep-1; i++)
<a name="l01193"></a>01193             <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt - XTicsStep*(i+1)/(ss*XTicsStep)))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l01194"></a>01194               {
<a name="l01195"></a>01195                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%ss)?3:6));
<a name="l01196"></a>01196                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%ss)?4:7));
<a name="l01197"></a>01197               };
<a name="l01198"></a>01198           dt-=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>;
<a name="l01199"></a>01199         };
<a name="l01200"></a>01200       <span class="keywordflow">break</span>;
<a name="l01201"></a>01201 
<a name="l01202"></a>01202     <span class="keywordflow">case</span> 4: <span class="comment">// XTicsStep in days:</span>
<a name="l01203"></a>01203       dt = D0;
<a name="l01204"></a>01204       <span class="keywordflow">while</span> ((<span class="keywordtype">double</span>)dt &lt; (<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3 -<a class="code" href="classSBPlotArea.html#a7e0a1d945e8a065e002ea7969b90ed7c">f_Ax</a>)/<a class="code" href="classSBPlotArea.html#a8cc4f2a35e91cff892f17bedff050174">f_Bx</a>) <span class="comment">// upward from the origin:</span>
<a name="l01205"></a>01205         {
<a name="l01206"></a>01206           ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt);
<a name="l01207"></a>01207           TTic = <a class="code" href="classSBMJD.html">SBMJD</a>(dt).<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba7f988a1e16003c22bb2eab8279ba5252">SBMJD::F_DateShort</a>);
<a name="l01208"></a>01208           P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ac7d3f50624a9a24d2ec11d647a921096">ZeroPen</a>);
<a name="l01209"></a>01209           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+1, ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>-1);
<a name="l01210"></a>01210           P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#afcd1c45fdb5f39a21563dd8a0aa3bddc">FramePen</a>);
<a name="l01211"></a>01211           
<a name="l01212"></a>01212           tw = fm.width(TTic);
<a name="l01213"></a>01213           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  -10);
<a name="l01214"></a>01214           P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+10);
<a name="l01215"></a>01215           P-&gt;drawText(ttic-tw/2, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>+<a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>/2, tw, <a class="code" href="classSBPlotArea.html#aa3fee8a803e750bd3c342aa2417df697">LabelsHeight</a>, 
<a name="l01216"></a>01216                       TicAlignFlag, TTic);
<a name="l01217"></a>01217           <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
<a name="l01218"></a>01218             <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(dt + XTicsStep*(i+1)/(10)))&lt;<a class="code" href="classSBPlotArea.html#a8e483f42df2ee3c2b4712cf47d030f02">XFrameEnd</a>-3)
<a name="l01219"></a>01219               {
<a name="l01220"></a>01220                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%5)?3:6));
<a name="l01221"></a>01221                 P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%5)?4:7));
<a name="l01222"></a>01222               };
<a name="l01223"></a>01223           dt+=<a class="code" href="classSBPlotArea.html#a49643a688fe8a9974c7057490aa1ceef">XTicsStep</a>;
<a name="l01224"></a>01224         };
<a name="l01225"></a>01225       <span class="keywordflow">for</span> (i=0; i&lt;9; i++)
<a name="l01226"></a>01226         <span class="keywordflow">if</span> ((ttic = <a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(D0 - XTicsStep*(i+1)/10))&gt;<a class="code" href="classSBPlotArea.html#a241b7cb6677c005289d65704626d8ba6">XFrameBegin</a>+3)
<a name="l01227"></a>01227           {
<a name="l01228"></a>01228             P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>,   ttic, <a class="code" href="classSBPlotArea.html#a91aacbb5783f49f4d56cd862ea7a50ab">YFrameEnd</a>  - (((i+1)%5)?3:6));
<a name="l01229"></a>01229             P-&gt;drawLine(ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>, ttic, <a class="code" href="classSBPlotArea.html#a103517279b7af8bd6326bfa367d2211c">YFrameBegin</a>+ (((i+1)%5)?4:7));
<a name="l01230"></a>01230           };
<a name="l01231"></a>01231       <span class="keywordflow">break</span>;
<a name="l01232"></a>01232     }; <span class="comment">// end of cases</span>
<a name="l01233"></a>01233 
<a name="l01234"></a>01234 };
<a name="l01235"></a>01235 
<a name="l01236"></a><a class="code" href="classSBPlotArea.html#a8ab6199ba77b6ee0aa7b990ff31456a1">01236</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a8ab6199ba77b6ee0aa7b990ff31456a1">SBPlotArea::drawData</a>(QPainter* P)
<a name="l01237"></a>01237 {
<a name="l01238"></a>01238   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a414a57540d34445c3ee2a95db9a19771">isOK</a>())
<a name="l01239"></a>01239     {
<a name="l01240"></a>01240       <span class="keywordtype">int</span>               i;
<a name="l01241"></a>01241       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>      ei;
<a name="l01242"></a>01242       <a class="code" href="classSBPlotBranch.html">SBPlotBranch</a>      *pb;
<a name="l01243"></a>01243       <span class="keywordtype">bool</span>              IsTMP;
<a name="l01244"></a>01244       
<a name="l01245"></a>01245       <span class="keywordflow">for</span> (i=0, pb=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;first(); pb; i++, pb=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;next())
<a name="l01246"></a>01246         <span class="keywordflow">if</span> (pb-&gt;isBrowsable())
<a name="l01247"></a>01247           {
<a name="l01248"></a>01248             IsTMP=FALSE;
<a name="l01249"></a>01249             P-&gt;setPen(*(<a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a>+i));
<a name="l01250"></a>01250             <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ae6f021be7aabd151df546715a7278640">IsPlotLines</a> &amp;&amp; pb-&gt;dataAttr(0) &amp;&amp; (!(pb-&gt;dataAttr(0) &amp; <a class="code" href="classSBPlotCarrier.html#a1f96c107ede004683ceca6f1e3353279a57a4e0b3a617189a95c2b6ece5571c10">SBPlotCarrier::DA_IGN</a>) || <a class="code" href="classSBPlotArea.html#a3bf0ceebcf44a06bc6d6e672333b89f4">IsAllData</a>))
<a name="l01251"></a>01251               {
<a name="l01252"></a>01252                 P-&gt;moveTo(<a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(pb-&gt;data()-&gt;at(0, <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>)), <a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(pb-&gt;data()-&gt;at(0, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>)));
<a name="l01253"></a>01253                 IsTMP=TRUE;
<a name="l01254"></a>01254               };
<a name="l01255"></a>01255             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;pb-&gt;data()-&gt;nRow(); j++)
<a name="l01256"></a>01256               <span class="keywordflow">if</span> (!(pb-&gt;dataAttr(j) &amp; <a class="code" href="classSBPlotCarrier.html#a1f96c107ede004683ceca6f1e3353279a57a4e0b3a617189a95c2b6ece5571c10">SBPlotCarrier::DA_IGN</a>) || <a class="code" href="classSBPlotArea.html#a3bf0ceebcf44a06bc6d6e672333b89f4">IsAllData</a>)
<a name="l01257"></a>01257                 {
<a name="l01258"></a>01258                   <span class="keywordtype">int</span> y_u=0;
<a name="l01259"></a>01259                   <span class="keywordtype">int</span> y_d=0;
<a name="l01260"></a>01260                   <span class="keywordtype">int</span> x=<a class="code" href="classSBPlotArea.html#a2daf985e3cd5bfe51286242d96b3236e">calcX</a>(pb-&gt;data()-&gt;at(j, <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>)), y=<a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(pb-&gt;data()-&gt;at(j, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>));
<a name="l01261"></a>01261                   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ae6f021be7aabd151df546715a7278640">IsPlotLines</a>)
<a name="l01262"></a>01262                     {
<a name="l01263"></a>01263                       <span class="keywordflow">if</span> (!IsTMP)
<a name="l01264"></a>01264                         {
<a name="l01265"></a>01265                           P-&gt;moveTo(x, y);
<a name="l01266"></a>01266                           IsTMP=TRUE;
<a name="l01267"></a>01267                         }
<a name="l01268"></a>01268                       <span class="keywordflow">else</span>
<a name="l01269"></a>01269                         P-&gt;lineTo(x, y);
<a name="l01270"></a>01270                     };
<a name="l01271"></a>01271                   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ad6af1bcfcdc3ec2a2582f77e8fe09b5c">IsPlotPoints</a>)
<a name="l01272"></a>01272                     {
<a name="l01273"></a>01273                       P-&gt;drawPoint(x-1, y);
<a name="l01274"></a>01274                       P-&gt;drawPoint(x  , y);
<a name="l01275"></a>01275                       P-&gt;drawPoint(x+1, y);
<a name="l01276"></a>01276                       P-&gt;drawPoint(x, y-1);
<a name="l01277"></a>01277                       P-&gt;drawPoint(x, y+1);
<a name="l01278"></a>01278                     };
<a name="l01279"></a>01279                   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#a2ad1bb717bf4b2483d98b0b15fac9c69">IsPlotErrBars</a> &amp;&amp; (ei=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a2db89022813fec30ab8238275256fd2a">stdVarIdx</a>(<a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>)))
<a name="l01280"></a>01280                     {
<a name="l01281"></a>01281                       y_u = std::max(<a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(pb-&gt;data()-&gt;at(j, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>) + pb-&gt;data()-&gt;at(j, ei)), <a class="code" href="classSBPlotArea.html#a96cd15469b3b5bb4ead3cc7c3adcb939">YDataBegin</a>);
<a name="l01282"></a>01282                       y_d = std::min(<a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(pb-&gt;data()-&gt;at(j, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>) - pb-&gt;data()-&gt;at(j, ei)), <a class="code" href="classSBPlotArea.html#a94cdabd7ad3dcbd4ef8e4585e0a620cf">YDataEnd</a>);
<a name="l01283"></a>01283 
<a name="l01284"></a>01284                       P-&gt;drawLine(x, y_u, x, y_d);
<a name="l01285"></a>01285                       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ae6f021be7aabd151df546715a7278640">IsPlotLines</a>)
<a name="l01286"></a>01286                         P-&gt;moveTo(x, y);
<a name="l01287"></a>01287                     };
<a name="l01288"></a>01288                   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#aa52163f21f53a55e7c2b01e54c1538a1">IsPlotImpulses</a>)
<a name="l01289"></a>01289                     {
<a name="l01290"></a>01290                       <span class="keywordflow">if</span> (pb-&gt;data()-&gt;at(j, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>)&gt;0.0)
<a name="l01291"></a>01291                         {
<a name="l01292"></a>01292                           y_u = <a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(pb-&gt;data()-&gt;at(j, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>));
<a name="l01293"></a>01293                           y_d = std::min(<a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(0.0), <a class="code" href="classSBPlotArea.html#a94cdabd7ad3dcbd4ef8e4585e0a620cf">YDataEnd</a>);
<a name="l01294"></a>01294                         }
<a name="l01295"></a>01295                       <span class="keywordflow">else</span>
<a name="l01296"></a>01296                         {
<a name="l01297"></a>01297                           y_u = std::max(<a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(0.0), <a class="code" href="classSBPlotArea.html#a96cd15469b3b5bb4ead3cc7c3adcb939">YDataBegin</a>);
<a name="l01298"></a>01298                           y_d = <a class="code" href="classSBPlotArea.html#a63f6703ea69d78cde2ae183029ba9866">calcY</a>(pb-&gt;data()-&gt;at(j, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>));
<a name="l01299"></a>01299                         };
<a name="l01300"></a>01300 
<a name="l01301"></a>01301                       P-&gt;drawLine(x, y_u, x, y_d);
<a name="l01302"></a>01302                       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ae6f021be7aabd151df546715a7278640">IsPlotLines</a>)
<a name="l01303"></a>01303                         P-&gt;moveTo(x, y);
<a name="l01304"></a>01304                     };
<a name="l01305"></a>01305 
<a name="l01306"></a>01306                   <span class="comment">// draw bars:</span>
<a name="l01307"></a>01307                   <span class="keywordflow">if</span> (pb-&gt;dataAttr(j) &amp; <a class="code" href="classSBPlotCarrier.html#a1f96c107ede004683ceca6f1e3353279a69d8f28353efc21095d6749c6f698d57">SBPlotCarrier::DA_BAR</a>)
<a name="l01308"></a>01308                     {
<a name="l01309"></a>01309                       P-&gt;setPen(*<a class="code" href="classSBPlotArea.html#ad5442f2dae19c34578898b6542d849ae">BarPen</a>);
<a name="l01310"></a>01310                       P-&gt;drawLine(x, <a class="code" href="classSBPlotArea.html#a96cd15469b3b5bb4ead3cc7c3adcb939">YDataBegin</a>, x, <a class="code" href="classSBPlotArea.html#a94cdabd7ad3dcbd4ef8e4585e0a620cf">YDataEnd</a>);
<a name="l01311"></a>01311                       P-&gt;setPen(*(<a class="code" href="classSBPlotArea.html#a4621e93952add3c08bede8eda57acfcf">BranchPens</a>+i));
<a name="l01312"></a>01312                       <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ae6f021be7aabd151df546715a7278640">IsPlotLines</a>)
<a name="l01313"></a>01313                         P-&gt;moveTo(x, y);
<a name="l01314"></a>01314                     };
<a name="l01315"></a>01315                 };
<a name="l01316"></a>01316           };
<a name="l01317"></a>01317     };
<a name="l01318"></a>01318 };
<a name="l01319"></a>01319 
<a name="l01320"></a><a class="code" href="classSBPlotArea.html#a7324aa486cc39c4fbc05364df67ab85c">01320</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotArea.html#a7324aa486cc39c4fbc05364df67ab85c">SBPlotArea::output4Files</a>()
<a name="l01321"></a>01321 {
<a name="l01322"></a>01322   QString       FileName = <a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7aa3d398e57eadca9151c0bc780facd1">file4SaveBaseName</a>() + QString().sprintf(<span class="stringliteral">&quot;[%u:%u]&quot;</span>, <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>);
<a name="l01323"></a>01323   QString       buff;
<a name="l01324"></a>01324   QFile         f;
<a name="l01325"></a>01325   <a class="code" href="classQTextStream.html">QTextStream</a>   s;
<a name="l01326"></a>01326 
<a name="l01327"></a>01327   <span class="keywordtype">int</span>           i;
<a name="l01328"></a>01328   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  ei;
<a name="l01329"></a>01329   <a class="code" href="classSBPlotBranch.html">SBPlotBranch</a>  *pb;
<a name="l01330"></a>01330   <span class="keywordflow">for</span> (i=0, pb=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;first(); pb; i++, pb=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;next())
<a name="l01331"></a>01331     <span class="keywordflow">if</span> (pb-&gt;isBrowsable())
<a name="l01332"></a>01332       {
<a name="l01333"></a>01333         f.<a class="code" href="classSBNamed.html#ac0ae44b814576bbbc35fa16ed2e082f1">setName</a>(FileName + QString().sprintf(<span class="stringliteral">&quot;_%03d.dat&quot;</span>, i));
<a name="l01334"></a>01334         <span class="keywordflow">if</span> (f.open(IO_WriteOnly))
<a name="l01335"></a>01335           {      
<a name="l01336"></a>01336             s.setDevice(&amp;f);
<a name="l01337"></a>01337             s &lt;&lt; <span class="stringliteral">&quot;# &quot;</span> &lt;&lt; pb-&gt;name() &lt;&lt;  <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l01338"></a>01338             s &lt;&lt; <span class="stringliteral">&quot;# X: [&quot;</span> &lt;&lt; *<a class="code" href="classSBPlotArea.html#aa733be9fa13e5ff74ea6ab92df65cf3e">XLabel</a> &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;
<a name="l01339"></a>01339             s &lt;&lt; <span class="stringliteral">&quot;# Y: [&quot;</span> &lt;&lt; *<a class="code" href="classSBPlotArea.html#a9422f3fe1c08b01a83bfcc9220bffae4">YLabel</a> &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;
<a name="l01340"></a>01340 
<a name="l01341"></a>01341             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;pb-&gt;data()-&gt;nRow(); j++)
<a name="l01342"></a>01342               <span class="keywordflow">if</span> (!(pb-&gt;dataAttr(j) &amp; <a class="code" href="classSBPlotCarrier.html#a1f96c107ede004683ceca6f1e3353279a57a4e0b3a617189a95c2b6ece5571c10">SBPlotCarrier::DA_IGN</a>) || <a class="code" href="classSBPlotArea.html#a3bf0ceebcf44a06bc6d6e672333b89f4">IsAllData</a>)
<a name="l01343"></a>01343                 {
<a name="l01344"></a>01344                   s &lt;&lt; QString().sprintf(<span class="stringliteral">&quot;%20.8f  %20.8f &quot;</span>, 
<a name="l01345"></a>01345                                          pb-&gt;data()-&gt;at(j, <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>), pb-&gt;data()-&gt;at(j, <a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>));
<a name="l01346"></a>01346                   <span class="keywordflow">if</span> ((ei=<a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a2db89022813fec30ab8238275256fd2a">stdVarIdx</a>(<a class="code" href="classSBPlotArea.html#a4dec9737255b440f0850fe47deb4f9fa">Ycol</a>)))
<a name="l01347"></a>01347                     s &lt;&lt; QString().sprintf(<span class="stringliteral">&quot; %20.8f &quot;</span>, pb-&gt;data()-&gt;at(j, ei));
<a name="l01348"></a>01348                   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotArea.html#ac7240c0a490e438bd36ab9881fc471f0">isXTicsMJD</a>)
<a name="l01349"></a>01349                     s &lt;&lt; <a class="code" href="classSBMJD.html">SBMJD</a>((<span class="keywordtype">long</span> <span class="keywordtype">double</span>) pb-&gt;data()-&gt;at(j, <a class="code" href="classSBPlotArea.html#a49ca7975e67e598d3adb85e05a26e40d">Xcol</a>)).toString(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba5d5c755e9a9f8da9b50b7398b6614e29">SBMJD::F_YYYYMMDDHHMMSSSS</a>);
<a name="l01350"></a>01350                   s &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l01351"></a>01351                 };
<a name="l01352"></a>01352             <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBPlotArea.html#a21093372c8ad0ac0330e05d0a2ef9632">ClassName</a>() + <span class="stringliteral">&quot;: The data &#39;&quot;</span> + <a class="code" href="classSBPlotArea.html#a95828cccbfc91ae7e4dbb258ac97c2f6">PlotCarrier</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>() +
<a name="l01353"></a>01353                        <span class="stringliteral">&quot;&#39; has been saved to the file &quot;</span> + f.name());
<a name="l01354"></a>01354             f.close();
<a name="l01355"></a>01355             s.unsetDevice();
<a name="l01356"></a>01356           }
<a name="l01357"></a>01357         <span class="keywordflow">else</span>    
<a name="l01358"></a>01358           <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08ae392bcd014a917ef24fc1225292995b6">SBLog::ERR</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBPlotArea.html#a21093372c8ad0ac0330e05d0a2ef9632">ClassName</a>() + <span class="stringliteral">&quot;: could not write &quot;</span> + (QString)f.name());
<a name="l01359"></a>01359       };
<a name="l01360"></a>01360 };
<a name="l01361"></a>01361 <span class="comment">/*==============================================================================================*/</span>
<a name="l01362"></a>01362 
<a name="l01363"></a>01363 
<a name="l01364"></a>01364 
<a name="l01365"></a>01365 <span class="comment">/*==============================================================================================*/</span>
<a name="l01366"></a>01366 <span class="comment">/*                                                                                              */</span>
<a name="l01367"></a>01367 <span class="comment">/* SBPlot                                                                                       */</span>
<a name="l01368"></a>01368 <span class="comment">/*                                                                                              */</span>
<a name="l01369"></a>01369 <span class="comment">/*==============================================================================================*/</span>
<a name="l01370"></a>01370 <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">SBPlot::ScaleFactor</a> = M_2_SQRTPI;  <span class="comment">// it&#39;s a &quot;right&quot; scale factor: 2/sqrt(pi)</span>
<a name="l01371"></a><a class="code" href="classSBPlot.html#ab5a7563debc3be3b5f978779cd957454">01371</a> <a class="code" href="classSBPlot.html#ab5a7563debc3be3b5f978779cd957454">SBPlot::SBPlot</a>(<a class="code" href="classSBPlotCarrier.html">SBPlotCarrier</a>* PlotCarrier_, <a class="code" href="classQWidget.html">QWidget</a> *parent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Modes_, <span class="keyword">const</span> <span class="keywordtype">char</span> * name)
<a name="l01372"></a>01372   : <a class="code" href="classQWidget.html">QWidget</a>(parent, name)
<a name="l01373"></a>01373 {
<a name="l01374"></a>01374   <a class="code" href="classSBPlot.html#aaa007a28a56c9c425c842b52e742ba86">scaleX</a> = 1.0;
<a name="l01375"></a>01375   <a class="code" href="classSBPlot.html#a38316a8eaad80e9b694599935ec39c93">scaleY</a> = 1.0;
<a name="l01376"></a>01376   <a class="code" href="classSBPlot.html#ad6383c65e98eb5987d9f60824997d8f4">Modes</a>  = Modes_;
<a name="l01377"></a>01377   
<a name="l01378"></a>01378   <a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a> = PlotCarrier_;
<a name="l01379"></a>01379   <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#afc5b690cac8c38caa8fcd9211e7e16c0">selfCheck</a>())
<a name="l01380"></a>01380     <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBPlot.html#a32246639d99de1aa9aaa41b04c3ead79">ClassName</a>() + 
<a name="l01381"></a>01381                <span class="stringliteral">&quot;: SelfCheck for [&quot;</span> + <a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>() + <span class="stringliteral">&quot;] failed&quot;</span>);
<a name="l01382"></a>01382 
<a name="l01383"></a>01383   QBoxLayout    *Layout = <span class="keyword">new</span> QVBoxLayout(<span class="keyword">this</span>, 0, 10);
<a name="l01384"></a>01384 
<a name="l01385"></a>01385   <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a> = <span class="keyword">new</span> QScrollView(<span class="keyword">this</span>);
<a name="l01386"></a>01386   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>    = <span class="keyword">new</span> <a class="code" href="classSBPlotArea.html">SBPlotArea</a>(<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>, <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;viewport());
<a name="l01387"></a>01387   <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;addChild(<a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>);
<a name="l01388"></a>01388 
<a name="l01389"></a>01389   <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#ad6383c65e98eb5987d9f60824997d8f4">Modes</a> &amp; <a class="code" href="classSBPlot.html#aeb09dabfcbaf66c50bbf8292318d093ba3ef2256e89592b720541e9f31e74da2b">PM_HAS_HAVE_ZERO</a>)
<a name="l01390"></a>01390     <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a27824776345a23b49f46b8517f6f2070">setIsHasHaveZero</a>(TRUE);
<a name="l01391"></a>01391 
<a name="l01392"></a>01392   Layout-&gt;addWidget(<a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>, 5);
<a name="l01393"></a>01393   Layout-&gt;addWidget(<a class="code" href="classSBPlot.html#a2b71143e2ef7c2c77f56639a457250b3">control</a>());
<a name="l01394"></a>01394 
<a name="l01395"></a>01395   Layout-&gt;activate();
<a name="l01396"></a>01396 };
<a name="l01397"></a>01397 
<a name="l01398"></a><a class="code" href="classSBPlot.html#a2ab9ccbecf6615bade652c6d478b777e">01398</a> <a class="code" href="classSBPlot.html#a2ab9ccbecf6615bade652c6d478b777e">SBPlot::~SBPlot</a>()
<a name="l01399"></a>01399 {
<a name="l01400"></a>01400   <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>) 
<a name="l01401"></a>01401     {
<a name="l01402"></a>01402       <span class="keyword">delete</span> <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>;
<a name="l01403"></a>01403       <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a> = NULL;
<a name="l01404"></a>01404     };
<a name="l01405"></a>01405 };
<a name="l01406"></a>01406 
<a name="l01407"></a><a class="code" href="classSBPlot.html#ac99140cfcb1c2ff86be644aa3eb428c8">01407</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#ac99140cfcb1c2ff86be644aa3eb428c8">SBPlot::resizeEvent</a>(QResizeEvent* ev)
<a name="l01408"></a>01408 {
<a name="l01409"></a>01409   <a class="code" href="classSBPlot.html#ac99140cfcb1c2ff86be644aa3eb428c8">QWidget::resizeEvent</a>(ev);
<a name="l01410"></a>01410   QSize S=<a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;size();
<a name="l01411"></a>01411   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;resize((<span class="keywordtype">int</span>)(<a class="code" href="classSBPlot.html#aaa007a28a56c9c425c842b52e742ba86">scaleX</a>*(S.width()-4)), (int)(<a class="code" href="classSBPlot.html#a38316a8eaad80e9b694599935ec39c93">scaleY</a>*(S.height()-4)));
<a name="l01412"></a>01412 };
<a name="l01413"></a>01413 
<a name="l01414"></a><a class="code" href="classSBPlot.html#a2b71143e2ef7c2c77f56639a457250b3">01414</a> <a class="code" href="classQWidget.html">QWidget</a>* <a class="code" href="classSBPlot.html#a2b71143e2ef7c2c77f56639a457250b3">SBPlot::control</a>()
<a name="l01415"></a>01415 {
<a name="l01416"></a>01416   QGridLayout   *grid;
<a name="l01417"></a>01417   QLabel        *label;
<a name="l01418"></a>01418   QGroupBox     *gbox;
<a name="l01419"></a>01419   QBoxLayout    *Layout, *aLayout;
<a name="l01420"></a>01420   QPushButton   *button;
<a name="l01421"></a>01421   QSlider       *slider;
<a name="l01422"></a>01422   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  i;
<a name="l01423"></a>01423 
<a name="l01424"></a>01424 
<a name="l01425"></a>01425   <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a> = <span class="keyword">new</span> QFrame(<span class="keyword">this</span>);
<a name="l01426"></a>01426   Layout = <span class="keyword">new</span> QHBoxLayout(<a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>, 0, 15);
<a name="l01427"></a>01427 
<a name="l01428"></a>01428   <span class="comment">// axis selection:</span>
<a name="l01429"></a>01429   <span class="keywordflow">if</span> (! (<a class="code" href="classSBPlot.html#ad6383c65e98eb5987d9f60824997d8f4">Modes</a> &amp; <a class="code" href="classSBPlot.html#aeb09dabfcbaf66c50bbf8292318d093ba48fd6d7304e3ecdd392bcbf41a5cd6ef">PM_WO_AXIS_NAMES</a>) )
<a name="l01430"></a>01430     {
<a name="l01431"></a>01431       gbox = <span class="keyword">new</span> QGroupBox(<span class="stringliteral">&quot;Axis to plot&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01432"></a>01432       grid = <span class="keyword">new</span> QGridLayout(gbox, 2,2, 10,3);
<a name="l01433"></a>01433       
<a name="l01434"></a>01434       label      = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;X:&quot;</span>, gbox);
<a name="l01435"></a>01435       label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01436"></a>01436       grid  -&gt; addWidget(label, 0,0,  Qt::AlignLeft || Qt::AlignVCenter);
<a name="l01437"></a>01437       
<a name="l01438"></a>01438       label      = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Y:&quot;</span>, gbox);
<a name="l01439"></a>01439       label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01440"></a>01440       grid  -&gt; addWidget(label, 1,0,  Qt::AlignLeft || Qt::AlignVCenter);
<a name="l01441"></a>01441       
<a name="l01442"></a>01442       <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a> = <span class="keyword">new</span> QComboBox(FALSE, gbox);
<a name="l01443"></a>01443       <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;setInsertionPolicy(QComboBox::AtBottom);
<a name="l01444"></a>01444       <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a> = <span class="keyword">new</span> QComboBox(FALSE, gbox);
<a name="l01445"></a>01445       <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;setInsertionPolicy(QComboBox::AtBottom);
<a name="l01446"></a>01446   
<a name="l01447"></a>01447       <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>()+<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a4ca7bd93d7035acf56c5e0e18324662e">nCE</a>())
<a name="l01448"></a>01448         {
<a name="l01449"></a>01449           QString       *s;
<a name="l01450"></a>01450           <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>(); i++) <span class="comment">// columns of values:</span>
<a name="l01451"></a>01451             {
<a name="l01452"></a>01452               s = i&lt;<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7e38981996eb135d7905b5abde614b6f">columnNames</a>()-&gt;count()?<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7e38981996eb135d7905b5abde614b6f">columnNames</a>()-&gt;at(i):NULL;
<a name="l01453"></a>01453               <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;insertItem(s?*s:<span class="stringliteral">&quot;Undesribed data at column #&quot;</span> + QString().setNum(i));
<a name="l01454"></a>01454               <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;insertItem(s?*s:<span class="stringliteral">&quot;Undesribed data at column #&quot;</span> + QString().setNum(i));
<a name="l01455"></a>01455             };
<a name="l01456"></a>01456           <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a4ca7bd93d7035acf56c5e0e18324662e">nCE</a>(); i++) <span class="comment">// columns of values:</span>
<a name="l01457"></a>01457             {
<a name="l01458"></a>01458               s = (<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>()+i&lt;<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7e38981996eb135d7905b5abde614b6f">columnNames</a>()-&gt;count())?
<a name="l01459"></a>01459                 <a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7e38981996eb135d7905b5abde614b6f">columnNames</a>()-&gt;at(<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>()+i):NULL;
<a name="l01460"></a>01460               <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;insertItem(s?*s:<span class="stringliteral">&quot;Undesribed data at column #&quot;</span> + 
<a name="l01461"></a>01461                                   QString().setNum(<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>() + i));
<a name="l01462"></a>01462               <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;insertItem(s?*s:<span class="stringliteral">&quot;Undesribed data at column #&quot;</span> + 
<a name="l01463"></a>01463                                   QString().setNum(<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>() + i));
<a name="l01464"></a>01464             };
<a name="l01465"></a>01465           <span class="comment">// set defaults:</span>
<a name="l01466"></a>01466           <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;setCurrentItem(0);
<a name="l01467"></a>01467           <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;setCurrentItem(<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>()+<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a4ca7bd93d7035acf56c5e0e18324662e">nCE</a>()&gt;1?1:0);
<a name="l01468"></a>01468           connect(<a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>, SIGNAL(highlighted(<span class="keywordtype">int</span>)), SLOT(<a class="code" href="classSBPlot.html#a3955e0e951856ac1859b8198401b90fd">xAxisChanged</a>(<span class="keywordtype">int</span>)));
<a name="l01469"></a>01469           connect(<a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>, SIGNAL(highlighted(<span class="keywordtype">int</span>)), SLOT(<a class="code" href="classSBPlot.html#acb7775c1c9c2cb21cece3740280c76b9">yAxisChanged</a>(<span class="keywordtype">int</span>)));
<a name="l01470"></a>01470         }
<a name="l01471"></a>01471       <span class="keywordflow">else</span> 
<a name="l01472"></a>01472         {
<a name="l01473"></a>01473           <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;insertItem(<span class="stringliteral">&quot;N/A&quot;</span>);
<a name="l01474"></a>01474           <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;insertItem(<span class="stringliteral">&quot;N/A&quot;</span>);
<a name="l01475"></a>01475         };
<a name="l01476"></a>01476       
<a name="l01477"></a>01477       <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;sizeHint());
<a name="l01478"></a>01478       grid-&gt;addWidget(<a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>, 0,1);
<a name="l01479"></a>01479       <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;sizeHint());
<a name="l01480"></a>01480       grid-&gt;addWidget(<a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>, 1,1);
<a name="l01481"></a>01481       
<a name="l01482"></a>01482       grid-&gt;activate();
<a name="l01483"></a>01483       Layout-&gt;addWidget(gbox);
<a name="l01484"></a>01484     };
<a name="l01485"></a>01485   <span class="comment">//</span>
<a name="l01486"></a>01486   
<a name="l01487"></a>01487   
<a name="l01488"></a>01488   <span class="comment">// branches:</span>
<a name="l01489"></a>01489   <span class="keywordflow">if</span> (! (<a class="code" href="classSBPlot.html#ad6383c65e98eb5987d9f60824997d8f4">Modes</a> &amp; <a class="code" href="classSBPlot.html#aeb09dabfcbaf66c50bbf8292318d093ba714d91e3ca9600a4f45f5ff8ea0aadb3">PM_WO_BRANCH_NAMES</a>) )
<a name="l01490"></a>01490     {
<a name="l01491"></a>01491       <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a> = <span class="keyword">new</span> QListBox(<a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01492"></a>01492       <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;count())
<a name="l01493"></a>01493         {
<a name="l01494"></a>01494           <span class="keywordflow">for</span> (<a class="code" href="classSBPlotBranch.html">SBPlotBranch</a> *pb=<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;first(); pb; pb=<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;next())
<a name="l01495"></a>01495             <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;insertItem(pb-&gt;name());
<a name="l01496"></a>01496           connect(<a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>, SIGNAL(selectionChanged()), SLOT(<a class="code" href="classSBPlot.html#aafd22852fc2628dc7a7c449d23464f24">branchChanged</a>()));
<a name="l01497"></a>01497           <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;setSelectionMode(QListBox::Multi);
<a name="l01498"></a>01498           <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;selectAll(TRUE);
<a name="l01499"></a>01499         }
<a name="l01500"></a>01500       <span class="keywordflow">else</span>
<a name="l01501"></a>01501         <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;insertItem(<span class="stringliteral">&quot;N/A&quot;</span>);
<a name="l01502"></a>01502       <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;setMinimumWidth(20 + <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;maxItemWidth());
<a name="l01503"></a>01503       <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;setMaximumHeight(6*<a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;itemHeight());
<a name="l01504"></a>01504       Layout-&gt;addWidget(<a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>, 5);
<a name="l01505"></a>01505     };
<a name="l01506"></a>01506   <span class="comment">//</span>
<a name="l01507"></a>01507   
<a name="l01508"></a>01508   <span class="comment">// draw modes:</span>
<a name="l01509"></a>01509   QButtonGroup *bgr = <span class="keyword">new</span> QButtonGroup(<span class="stringliteral">&quot;Plot data as&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01510"></a>01510   aLayout = <span class="keyword">new</span> QVBoxLayout(bgr, 10,3);
<a name="l01511"></a>01511   
<a name="l01512"></a>01512   aLayout-&gt;addStretch(1);
<a name="l01513"></a>01513   <a class="code" href="classSBPlot.html#a5307564c0b886a6e1388cac29f76de7a">CBPoints</a> = <span class="keyword">new</span> QCheckBox(<span class="stringliteral">&quot;Points&quot;</span>, bgr);
<a name="l01514"></a>01514   <a class="code" href="classSBPlot.html#a5307564c0b886a6e1388cac29f76de7a">CBPoints</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#a5307564c0b886a6e1388cac29f76de7a">CBPoints</a>-&gt;sizeHint());
<a name="l01515"></a>01515   <span class="comment">// defaults:</span>
<a name="l01516"></a>01516   <a class="code" href="classSBPlot.html#a5307564c0b886a6e1388cac29f76de7a">CBPoints</a>-&gt;setChecked(TRUE);
<a name="l01517"></a>01517   connect(<a class="code" href="classSBPlot.html#a5307564c0b886a6e1388cac29f76de7a">CBPoints</a>, SIGNAL(toggled(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBPlot.html#a2c3bc24b03c20a616b2f7248d144689f">DMPointsChanged</a>(<span class="keywordtype">bool</span>)));
<a name="l01518"></a>01518   <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#ad6383c65e98eb5987d9f60824997d8f4">Modes</a> &amp; <a class="code" href="classSBPlot.html#aeb09dabfcbaf66c50bbf8292318d093ba8fe5fbf9b193240144fdfc67ae5731ff">PM_WO_DOTS</a>)
<a name="l01519"></a>01519     <a class="code" href="classSBPlot.html#a5307564c0b886a6e1388cac29f76de7a">CBPoints</a>-&gt;setChecked(FALSE);
<a name="l01520"></a>01520   aLayout-&gt;addWidget(<a class="code" href="classSBPlot.html#a5307564c0b886a6e1388cac29f76de7a">CBPoints</a>);
<a name="l01521"></a>01521 
<a name="l01522"></a>01522   <a class="code" href="classSBPlot.html#af124a868300d9c24d5871c0170eb199f">CBLines</a> = <span class="keyword">new</span> QCheckBox(<span class="stringliteral">&quot;Lines&quot;</span>, bgr);
<a name="l01523"></a>01523   <a class="code" href="classSBPlot.html#af124a868300d9c24d5871c0170eb199f">CBLines</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#af124a868300d9c24d5871c0170eb199f">CBLines</a>-&gt;sizeHint());
<a name="l01524"></a>01524   connect(<a class="code" href="classSBPlot.html#af124a868300d9c24d5871c0170eb199f">CBLines</a>, SIGNAL(toggled(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBPlot.html#a42686ef943a08464774724f8a53dfb40">DMLinesChanged</a>(<span class="keywordtype">bool</span>)));
<a name="l01525"></a>01525   <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#ad6383c65e98eb5987d9f60824997d8f4">Modes</a> &amp; <a class="code" href="classSBPlot.html#aeb09dabfcbaf66c50bbf8292318d093ba50bca88d17d71055ed9774d9ca71f03d">PM_LINES</a>)
<a name="l01526"></a>01526     <a class="code" href="classSBPlot.html#af124a868300d9c24d5871c0170eb199f">CBLines</a>-&gt;setChecked(TRUE);
<a name="l01527"></a>01527   aLayout-&gt;addWidget(<a class="code" href="classSBPlot.html#af124a868300d9c24d5871c0170eb199f">CBLines</a>);
<a name="l01528"></a>01528 
<a name="l01529"></a>01529   <a class="code" href="classSBPlot.html#afc434cc390fa030812bf31dcb58d852d">CBErrBars</a> = <span class="keyword">new</span> QCheckBox(<span class="stringliteral">&quot;Error bars&quot;</span>, bgr);
<a name="l01530"></a>01530   <a class="code" href="classSBPlot.html#afc434cc390fa030812bf31dcb58d852d">CBErrBars</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#afc434cc390fa030812bf31dcb58d852d">CBErrBars</a>-&gt;sizeHint());
<a name="l01531"></a>01531   connect(<a class="code" href="classSBPlot.html#afc434cc390fa030812bf31dcb58d852d">CBErrBars</a>, SIGNAL(toggled(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBPlot.html#a51ca3ddd884e78fb9c0db338d0c732e9">DMErrBarsChanged</a>(<span class="keywordtype">bool</span>)));
<a name="l01532"></a>01532   aLayout-&gt;addWidget(<a class="code" href="classSBPlot.html#afc434cc390fa030812bf31dcb58d852d">CBErrBars</a>);
<a name="l01533"></a>01533 
<a name="l01534"></a>01534   <a class="code" href="classSBPlot.html#aa91236c40bc3ee3a5bb5a1a4c8dee2f6">CBImpulses</a> = <span class="keyword">new</span> QCheckBox(<span class="stringliteral">&quot;Impulses&quot;</span>, bgr);
<a name="l01535"></a>01535   <a class="code" href="classSBPlot.html#aa91236c40bc3ee3a5bb5a1a4c8dee2f6">CBImpulses</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#aa91236c40bc3ee3a5bb5a1a4c8dee2f6">CBImpulses</a>-&gt;sizeHint());
<a name="l01536"></a>01536   connect(<a class="code" href="classSBPlot.html#aa91236c40bc3ee3a5bb5a1a4c8dee2f6">CBImpulses</a>, SIGNAL(toggled(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBPlot.html#a9eb554babff43b89010ac64b2d71deb0">DMImpulsesChanged</a>(<span class="keywordtype">bool</span>)));
<a name="l01537"></a>01537   aLayout-&gt;addWidget(<a class="code" href="classSBPlot.html#aa91236c40bc3ee3a5bb5a1a4c8dee2f6">CBImpulses</a>);
<a name="l01538"></a>01538   <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#ad6383c65e98eb5987d9f60824997d8f4">Modes</a> &amp; <a class="code" href="classSBPlot.html#aeb09dabfcbaf66c50bbf8292318d093baa20216a657aad9fed8e17b1591181d9d">PM_IMPULSE</a>)
<a name="l01539"></a>01539     <a class="code" href="classSBPlot.html#aa91236c40bc3ee3a5bb5a1a4c8dee2f6">CBImpulses</a>-&gt;setChecked(TRUE);
<a name="l01540"></a>01540   aLayout-&gt;addStretch(1);
<a name="l01541"></a>01541 
<a name="l01542"></a>01542   aLayout-&gt;activate();
<a name="l01543"></a>01543   Layout-&gt;addWidget(bgr);
<a name="l01544"></a>01544   <span class="comment">//</span>
<a name="l01545"></a>01545 
<a name="l01546"></a>01546   <span class="comment">// colors:</span>
<a name="l01547"></a>01547   gbox = <span class="keyword">new</span> QGroupBox(<span class="stringliteral">&quot;Colors (S,V)&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01548"></a>01548   grid = <span class="keyword">new</span> QGridLayout(gbox, 2,2,   12,5);
<a name="l01549"></a>01549 
<a name="l01550"></a>01550   grid-&gt;addRowSpacing(0, 10);
<a name="l01551"></a>01551 
<a name="l01552"></a>01552   slider = <span class="keyword">new</span> QSlider(0, 255, 50, 255, Qt::Vertical, gbox);
<a name="l01553"></a>01553   slider-&gt;setTickmarks(QSlider::Left);
<a name="l01554"></a>01554   slider-&gt;setMinimumSize(slider-&gt;sizeHint());
<a name="l01555"></a>01555   connect(slider, SIGNAL(valueChanged(<span class="keywordtype">int</span>)), SLOT(<a class="code" href="classSBPlot.html#a086fa19454983c9915b634c4aa37058b">colorSChanged</a>(<span class="keywordtype">int</span>)));
<a name="l01556"></a>01556   grid-&gt;addWidget(slider, 1,0);
<a name="l01557"></a>01557 
<a name="l01558"></a>01558   slider= <span class="keyword">new</span> QSlider(0, 255, 50, 200, Qt::Vertical, gbox);
<a name="l01559"></a>01559   slider-&gt;setTickmarks(QSlider::Right);
<a name="l01560"></a>01560   slider-&gt;setMinimumSize(slider-&gt;sizeHint());
<a name="l01561"></a>01561   connect(slider, SIGNAL(valueChanged(<span class="keywordtype">int</span>)), SLOT(<a class="code" href="classSBPlot.html#a756ad23db7e37819b6408c009d80af88">colorVChanged</a>(<span class="keywordtype">int</span>)));
<a name="l01562"></a>01562   grid-&gt;addWidget(slider, 1,1);
<a name="l01563"></a>01563 
<a name="l01564"></a>01564   grid-&gt;activate();
<a name="l01565"></a>01565   Layout-&gt;addWidget(gbox);
<a name="l01566"></a>01566   <span class="comment">//</span>
<a name="l01567"></a>01567 
<a name="l01568"></a>01568   <span class="comment">// options:</span>
<a name="l01569"></a>01569   bgr = <span class="keyword">new</span> QButtonGroup(<span class="stringliteral">&quot;Plot Ranges&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01570"></a>01570   aLayout = <span class="keyword">new</span> QVBoxLayout(bgr,  10,3);
<a name="l01571"></a>01571   
<a name="l01572"></a>01572   aLayout-&gt;addStretch(1);
<a name="l01573"></a>01573   <a class="code" href="classSBPlot.html#a38e706f00be52ad874328c10bac7f38b">CBAllData</a> = <span class="keyword">new</span> QCheckBox(<span class="stringliteral">&quot;All Data&quot;</span>, bgr);
<a name="l01574"></a>01574   <a class="code" href="classSBPlot.html#a38e706f00be52ad874328c10bac7f38b">CBAllData</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#a38e706f00be52ad874328c10bac7f38b">CBAllData</a>-&gt;sizeHint());
<a name="l01575"></a>01575   connect(<a class="code" href="classSBPlot.html#a38e706f00be52ad874328c10bac7f38b">CBAllData</a>, SIGNAL(toggled(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBPlot.html#af6442e5ec225b269912b0c1309ab81a3">ODataAllChanged</a>(<span class="keywordtype">bool</span>)));
<a name="l01576"></a>01576   aLayout-&gt;addWidget(<a class="code" href="classSBPlot.html#a38e706f00be52ad874328c10bac7f38b">CBAllData</a>);
<a name="l01577"></a>01577 
<a name="l01578"></a>01578   <a class="code" href="classSBPlot.html#afa0c59d8cfbc5e9bd6306f59bb602aba">CBRangeVisible</a> = <span class="keyword">new</span> QCheckBox(<span class="stringliteral">&quot;Relaxed&quot;</span>, bgr);
<a name="l01579"></a>01579   <a class="code" href="classSBPlot.html#afa0c59d8cfbc5e9bd6306f59bb602aba">CBRangeVisible</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#afa0c59d8cfbc5e9bd6306f59bb602aba">CBRangeVisible</a>-&gt;sizeHint());
<a name="l01580"></a>01580   connect(<a class="code" href="classSBPlot.html#afa0c59d8cfbc5e9bd6306f59bb602aba">CBRangeVisible</a>, SIGNAL(toggled(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBPlot.html#a74928cff709de7da23980760491f3580">OVisRang</a>(<span class="keywordtype">bool</span>)));
<a name="l01581"></a>01581   aLayout-&gt;addWidget(<a class="code" href="classSBPlot.html#afa0c59d8cfbc5e9bd6306f59bb602aba">CBRangeVisible</a>);
<a name="l01582"></a>01582 
<a name="l01583"></a>01583   <a class="code" href="classSBPlot.html#a3b1e0ac0406c3d86c48515150789a94a">CBWStdVar</a> = <span class="keyword">new</span> QCheckBox(<span class="stringliteral">&quot;w/ StdVar&quot;</span>, bgr);
<a name="l01584"></a>01584   <a class="code" href="classSBPlot.html#a3b1e0ac0406c3d86c48515150789a94a">CBWStdVar</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#a3b1e0ac0406c3d86c48515150789a94a">CBWStdVar</a>-&gt;sizeHint());
<a name="l01585"></a>01585   <a class="code" href="classSBPlot.html#a3b1e0ac0406c3d86c48515150789a94a">CBWStdVar</a>-&gt;setChecked(TRUE);
<a name="l01586"></a>01586   connect(<a class="code" href="classSBPlot.html#a3b1e0ac0406c3d86c48515150789a94a">CBWStdVar</a>, SIGNAL(toggled(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBPlot.html#a337d1fba26977ce1ee551acb4b52df11">OWStdVar</a>(<span class="keywordtype">bool</span>)));
<a name="l01587"></a>01587   aLayout-&gt;addWidget(<a class="code" href="classSBPlot.html#a3b1e0ac0406c3d86c48515150789a94a">CBWStdVar</a>);
<a name="l01588"></a>01588   aLayout-&gt;addStretch(1);
<a name="l01589"></a>01589 
<a name="l01590"></a>01590   aLayout-&gt;activate();
<a name="l01591"></a>01591   Layout-&gt;addWidget(bgr);
<a name="l01592"></a>01592 
<a name="l01593"></a>01593 
<a name="l01594"></a>01594   <span class="comment">// plot size:</span>
<a name="l01595"></a>01595   Layout-&gt;addStretch(1);
<a name="l01596"></a>01596   grid = <span class="keyword">new</span> QGridLayout(3,3, 1);
<a name="l01597"></a>01597   Layout-&gt;addLayout(grid, 0);
<a name="l01598"></a>01598 
<a name="l01599"></a>01599   button = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;&gt;file&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01600"></a>01600   button-&gt;setMinimumSize(3*button-&gt;sizeHint()/4);
<a name="l01601"></a>01601   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBPlot.html#a5310b9f88e56b1b1fb3c20c2c74c74be">save2File</a>()));
<a name="l01602"></a>01602   grid-&gt;addWidget(button, 0,0);
<a name="l01603"></a>01603 
<a name="l01604"></a>01604   button = <a class="code" href="classSBPlot.html#a933cbdd2f7bbd86301153830e105c155">PBZommXOut</a> = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Z&#39;X-&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01605"></a>01605   button-&gt;setMinimumSize(3*button-&gt;sizeHint()/4);
<a name="l01606"></a>01606   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBPlot.html#a5d341df0644117c55a981619bd5b3248">zoomXOut</a>()));
<a name="l01607"></a>01607   grid-&gt;addWidget(button, 1,0);
<a name="l01608"></a>01608 
<a name="l01609"></a>01609   button = <a class="code" href="classSBPlot.html#a86628b602d7507b924552a8d7fb7669d">PBZommOut</a> = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Z&#39;-&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01610"></a>01610   button-&gt;setMinimumSize(3*button-&gt;sizeHint()/4);
<a name="l01611"></a>01611   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBPlot.html#aa4a00e27bf3e344dd8a337f3393c05e2">zoomOut</a>()));
<a name="l01612"></a>01612   grid-&gt;addWidget(button, 2,0);
<a name="l01613"></a>01613 
<a name="l01614"></a>01614   button = <a class="code" href="classSBPlot.html#a6e55c6ed0f985160c62007383f0f0abb">PBZommYIn</a> = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Z&#39;Y+&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01615"></a>01615   button-&gt;setMinimumSize(3*button-&gt;sizeHint()/4);
<a name="l01616"></a>01616   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBPlot.html#a9e4494eda6bafb3f568d936987594fd8">zoomYIn</a>()));
<a name="l01617"></a>01617   grid-&gt;addWidget(button, 0,1);
<a name="l01618"></a>01618 
<a name="l01619"></a>01619   button = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;O&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01620"></a>01620   button-&gt;setMinimumSize(3*button-&gt;sizeHint()/4);
<a name="l01621"></a>01621   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBPlot.html#aa47f0cc9a26c98cbed2f04aacbc915a1">zoomNormalView</a>()));
<a name="l01622"></a>01622   grid-&gt;addWidget(button, 1,1);
<a name="l01623"></a>01623 
<a name="l01624"></a>01624   button = <a class="code" href="classSBPlot.html#afd5fe6c2e5341ccfd6f3c9daf120c739">PBZommYOut</a> = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Z&#39;Y-&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01625"></a>01625   button-&gt;setMinimumSize(3*button-&gt;sizeHint()/4);
<a name="l01626"></a>01626   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBPlot.html#ae7ecc7fb9130687244640b92bed60842">zoomYOut</a>()));
<a name="l01627"></a>01627   grid-&gt;addWidget(button, 2,1);
<a name="l01628"></a>01628 
<a name="l01629"></a>01629   button = <a class="code" href="classSBPlot.html#a85aea53f06a45b692dad607f5bc02f2f">PBZommIn</a> = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Z&#39;+&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01630"></a>01630   button-&gt;setMinimumSize(3*button-&gt;sizeHint()/4);
<a name="l01631"></a>01631   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBPlot.html#a33ef7847ed95181fa581aaa9816be58f">zoomIn</a>()));
<a name="l01632"></a>01632   grid-&gt;addWidget(button, 0,2);
<a name="l01633"></a>01633 
<a name="l01634"></a>01634   button = <a class="code" href="classSBPlot.html#aa46afe42b745d19fb3ea37b1e47696ec">PBZommXIn</a> = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Z&#39;X+&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01635"></a>01635   button-&gt;setMinimumSize(3*button-&gt;sizeHint()/4);
<a name="l01636"></a>01636   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBPlot.html#ad8917b247e95c3512dba7abc4f7c23f6">zoomXIn</a>()));
<a name="l01637"></a>01637   grid-&gt;addWidget(button, 1,2);
<a name="l01638"></a>01638 
<a name="l01639"></a>01639   button = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;&gt;PS&quot;</span>, <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>);
<a name="l01640"></a>01640   button-&gt;setMinimumSize(3*button-&gt;sizeHint()/4);
<a name="l01641"></a>01641   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBPlot.html#a2c1a19b8d589191323e722c9580ad9e3">save2PS</a>()));
<a name="l01642"></a>01642   grid-&gt;addWidget(button, 2,2);
<a name="l01643"></a>01643   <span class="comment">//</span>
<a name="l01644"></a>01644 
<a name="l01645"></a>01645 
<a name="l01646"></a>01646   Layout-&gt;activate();
<a name="l01647"></a>01647   <span class="keywordflow">return</span> <a class="code" href="classSBPlot.html#ae40191cf41717c8e31f2523681b45534">Controls</a>;
<a name="l01648"></a>01648 };
<a name="l01649"></a>01649 
<a name="l01650"></a><a class="code" href="classSBPlot.html#a9c5050355fcc92a95b63435f055531b1">01650</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a9c5050355fcc92a95b63435f055531b1">SBPlot::fillAxisNames</a>()
<a name="l01651"></a>01651 {
<a name="l01652"></a>01652   <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#ad6383c65e98eb5987d9f60824997d8f4">Modes</a> &amp; <a class="code" href="classSBPlot.html#aeb09dabfcbaf66c50bbf8292318d093ba48fd6d7304e3ecdd392bcbf41a5cd6ef">PM_WO_AXIS_NAMES</a>)
<a name="l01653"></a>01653     <span class="keywordflow">return</span>;
<a name="l01654"></a>01654 
<a name="l01655"></a>01655   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  i;
<a name="l01656"></a>01656   <span class="keywordtype">int</span>           CurrentX = <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;currentItem();
<a name="l01657"></a>01657   <span class="keywordtype">int</span>           CurrentY = <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;currentItem();
<a name="l01658"></a>01658   <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;clear();
<a name="l01659"></a>01659   <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;clear();
<a name="l01660"></a>01660   <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>()+<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a4ca7bd93d7035acf56c5e0e18324662e">nCE</a>())
<a name="l01661"></a>01661     {
<a name="l01662"></a>01662       QString   *s;
<a name="l01663"></a>01663       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>(); i++) <span class="comment">// columns of values:</span>
<a name="l01664"></a>01664         {
<a name="l01665"></a>01665           s = i&lt;<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7e38981996eb135d7905b5abde614b6f">columnNames</a>()-&gt;count()?<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7e38981996eb135d7905b5abde614b6f">columnNames</a>()-&gt;at(i):NULL;
<a name="l01666"></a>01666           <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;insertItem(s?*s:<span class="stringliteral">&quot;Undesribed data at column #&quot;</span> + QString().setNum(i));
<a name="l01667"></a>01667           <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;insertItem(s?*s:<span class="stringliteral">&quot;Undesribed data at column #&quot;</span> + QString().setNum(i));
<a name="l01668"></a>01668         };
<a name="l01669"></a>01669       <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a4ca7bd93d7035acf56c5e0e18324662e">nCE</a>(); i++) <span class="comment">// columns of errors:</span>
<a name="l01670"></a>01670         {
<a name="l01671"></a>01671           s = (<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>()+i&lt;<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7e38981996eb135d7905b5abde614b6f">columnNames</a>()-&gt;count())?
<a name="l01672"></a>01672             <a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7e38981996eb135d7905b5abde614b6f">columnNames</a>()-&gt;at(<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>()+i):NULL;
<a name="l01673"></a>01673           <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;insertItem(s?*s:<span class="stringliteral">&quot;Undesribed data at column #&quot;</span> + 
<a name="l01674"></a>01674                               QString().setNum(<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>() + i));
<a name="l01675"></a>01675           <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;insertItem(s?*s:<span class="stringliteral">&quot;Undesribed data at column #&quot;</span> + 
<a name="l01676"></a>01676                               QString().setNum(<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>() + i));
<a name="l01677"></a>01677         };
<a name="l01678"></a>01678       <span class="comment">// set defaults:</span>
<a name="l01679"></a>01679       <span class="comment">// ??? keep setings...</span>
<a name="l01680"></a>01680       <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;count()&gt;CurrentX)
<a name="l01681"></a>01681         <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;setCurrentItem(CurrentX);
<a name="l01682"></a>01682       <span class="keywordflow">else</span>
<a name="l01683"></a>01683         <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;setCurrentItem(0);
<a name="l01684"></a>01684       <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;count()&gt;CurrentY)
<a name="l01685"></a>01685         <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;setCurrentItem(CurrentY);
<a name="l01686"></a>01686       <span class="keywordflow">else</span>
<a name="l01687"></a>01687         <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;setCurrentItem(<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#ae6bcf160a208cd4e001195d6ee959da7">nCV</a>()+<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a4ca7bd93d7035acf56c5e0e18324662e">nCE</a>()&gt;1?1:0);
<a name="l01688"></a>01688       <span class="comment">//      connect(CBXAxis, SIGNAL(highlighted(int)), SLOT(xAxisChanged(int)));</span>
<a name="l01689"></a>01689       <span class="comment">//      connect(CBYAxis, SIGNAL(highlighted(int)), SLOT(yAxisChanged(int)));</span>
<a name="l01690"></a>01690     }
<a name="l01691"></a>01691   <span class="keywordflow">else</span> 
<a name="l01692"></a>01692     {
<a name="l01693"></a>01693       <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;insertItem(<span class="stringliteral">&quot;N/A&quot;</span>);
<a name="l01694"></a>01694       <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;insertItem(<span class="stringliteral">&quot;N/A&quot;</span>);
<a name="l01695"></a>01695     };
<a name="l01696"></a>01696   <a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#a0934d05789ff9bb0067a7ef2646c2457">CBXAxis</a>-&gt;sizeHint());
<a name="l01697"></a>01697   <a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;setMinimumSize(<a class="code" href="classSBPlot.html#a219edb48bbb3bf0123795fe1f96ef56f">CBYAxis</a>-&gt;sizeHint());
<a name="l01698"></a>01698 };
<a name="l01699"></a>01699 
<a name="l01700"></a><a class="code" href="classSBPlot.html#a5fc54c74e2aea5831207e054741c79ed">01700</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a5fc54c74e2aea5831207e054741c79ed">SBPlot::fillBranchesNames</a>()
<a name="l01701"></a>01701 {
<a name="l01702"></a>01702   <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#ad6383c65e98eb5987d9f60824997d8f4">Modes</a> &amp; <a class="code" href="classSBPlot.html#aeb09dabfcbaf66c50bbf8292318d093ba714d91e3ca9600a4f45f5ff8ea0aadb3">PM_WO_BRANCH_NAMES</a>)
<a name="l01703"></a>01703     <span class="keywordflow">return</span>;
<a name="l01704"></a>01704   
<a name="l01705"></a>01705   <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;clear();
<a name="l01706"></a>01706   <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;count())
<a name="l01707"></a>01707     {
<a name="l01708"></a>01708       <span class="keywordflow">for</span> (<a class="code" href="classSBPlotBranch.html">SBPlotBranch</a> *pb=<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;first(); pb; pb=<a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;next())
<a name="l01709"></a>01709         <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;insertItem(pb-&gt;name());
<a name="l01710"></a>01710       <span class="comment">//      connect(LBBranches, SIGNAL(selectionChanged()), SLOT(branchChanged()));</span>
<a name="l01711"></a>01711       <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;setSelectionMode(QListBox::Multi);
<a name="l01712"></a>01712       <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;selectAll(TRUE);
<a name="l01713"></a>01713     }
<a name="l01714"></a>01714   <span class="keywordflow">else</span>
<a name="l01715"></a>01715     <a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;insertItem(<span class="stringliteral">&quot;N/A&quot;</span>);
<a name="l01716"></a>01716   <span class="comment">//  LBBranches-&gt;setMinimumWidth(20+LBBranches-&gt;maxItemWidth());</span>
<a name="l01717"></a>01717   <span class="comment">//  ???????????????</span>
<a name="l01718"></a>01718   <span class="comment">//  LBBranches-&gt;setMinimumWidth(LBBranches-&gt;maxItemWidth());</span>
<a name="l01719"></a>01719   <span class="comment">//  LBBranches-&gt;setMaximumHeight(6*LBBranches-&gt;itemHeight());</span>
<a name="l01720"></a>01720 };
<a name="l01721"></a>01721 
<a name="l01722"></a><a class="code" href="classSBPlot.html#ada3de127c00a65054f7d8cf58c4d848f">01722</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#ada3de127c00a65054f7d8cf58c4d848f">SBPlot::dataChanged</a>() 
<a name="l01723"></a>01723 {
<a name="l01724"></a>01724   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#abdacb115102f563f23832a14296bde93">dataChanged</a>();
<a name="l01725"></a>01725   <a class="code" href="classSBPlot.html#a9c5050355fcc92a95b63435f055531b1">fillAxisNames</a>(); 
<a name="l01726"></a>01726   <a class="code" href="classSBPlot.html#a5fc54c74e2aea5831207e054741c79ed">fillBranchesNames</a>(); 
<a name="l01727"></a>01727   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01728"></a>01728 };
<a name="l01729"></a>01729 
<a name="l01730"></a><a class="code" href="classSBPlot.html#a3955e0e951856ac1859b8198401b90fd">01730</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a3955e0e951856ac1859b8198401b90fd">SBPlot::xAxisChanged</a>(<span class="keywordtype">int</span> n)
<a name="l01731"></a>01731 {
<a name="l01732"></a>01732   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a252508e1d5254c22b07beff8dee16661">setXCol</a>(n);
<a name="l01733"></a>01733   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01734"></a>01734 };
<a name="l01735"></a>01735 
<a name="l01736"></a><a class="code" href="classSBPlot.html#acb7775c1c9c2cb21cece3740280c76b9">01736</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#acb7775c1c9c2cb21cece3740280c76b9">SBPlot::yAxisChanged</a>(<span class="keywordtype">int</span> n)
<a name="l01737"></a>01737 {
<a name="l01738"></a>01738   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a649b943fd27be8f40c6f809f84c48639">setYCol</a>(n);
<a name="l01739"></a>01739   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01740"></a>01740 };
<a name="l01741"></a>01741 
<a name="l01742"></a><a class="code" href="classSBPlot.html#a086fa19454983c9915b634c4aa37058b">01742</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a086fa19454983c9915b634c4aa37058b">SBPlot::colorSChanged</a>(<span class="keywordtype">int</span> n)
<a name="l01743"></a>01743 {
<a name="l01744"></a>01744   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a9ee03295a602d5839a2ae4e1d560d0eb">setBPSaturation</a>(n);
<a name="l01745"></a>01745 };
<a name="l01746"></a>01746 
<a name="l01747"></a><a class="code" href="classSBPlot.html#a756ad23db7e37819b6408c009d80af88">01747</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a756ad23db7e37819b6408c009d80af88">SBPlot::colorVChanged</a>(<span class="keywordtype">int</span> n)
<a name="l01748"></a>01748 {
<a name="l01749"></a>01749   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#abe3d9b3a573529b03e6cf66c8c9ceb93">setBPValue</a>(n);
<a name="l01750"></a>01750 };
<a name="l01751"></a>01751 
<a name="l01752"></a><a class="code" href="classSBPlot.html#aafd22852fc2628dc7a7c449d23464f24">01752</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#aafd22852fc2628dc7a7c449d23464f24">SBPlot::branchChanged</a>()
<a name="l01753"></a>01753 {
<a name="l01754"></a>01754   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;count(); i++)
<a name="l01755"></a>01755     {
<a name="l01756"></a>01756       <span class="keywordflow">if</span> (<a class="code" href="classSBPlot.html#a0f13c454a7e9b5b5b7d3fd39e2ef6f65">LBBranches</a>-&gt;isSelected(i))
<a name="l01757"></a>01757         <a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;at(i)-&gt;setIsBrowsable(TRUE);
<a name="l01758"></a>01758       <span class="keywordflow">else</span>
<a name="l01759"></a>01759         <a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a912324f5ae7fdeca7a38b198cb559eac">branches</a>()-&gt;at(i)-&gt;setIsBrowsable(FALSE);
<a name="l01760"></a>01760     };
<a name="l01761"></a>01761   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01762"></a>01762 };
<a name="l01763"></a>01763 
<a name="l01764"></a><a class="code" href="classSBPlot.html#a2c3bc24b03c20a616b2f7248d144689f">01764</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a2c3bc24b03c20a616b2f7248d144689f">SBPlot::DMPointsChanged</a>(<span class="keywordtype">bool</span> Is)
<a name="l01765"></a>01765 {
<a name="l01766"></a>01766   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a848c9df95a13e52a5aba42a2c8d54c7a">setIsPlotPoints</a>(Is);
<a name="l01767"></a>01767   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01768"></a>01768 };
<a name="l01769"></a>01769 
<a name="l01770"></a><a class="code" href="classSBPlot.html#a42686ef943a08464774724f8a53dfb40">01770</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a42686ef943a08464774724f8a53dfb40">SBPlot::DMLinesChanged</a>(<span class="keywordtype">bool</span> Is)
<a name="l01771"></a>01771 {
<a name="l01772"></a>01772   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a6aab1ed5f6d69e505c0e6e2f851584a2">setIsPlotLines</a>(Is);
<a name="l01773"></a>01773   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01774"></a>01774 };
<a name="l01775"></a>01775 
<a name="l01776"></a><a class="code" href="classSBPlot.html#a51ca3ddd884e78fb9c0db338d0c732e9">01776</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a51ca3ddd884e78fb9c0db338d0c732e9">SBPlot::DMErrBarsChanged</a>(<span class="keywordtype">bool</span> Is)
<a name="l01777"></a>01777 {
<a name="l01778"></a>01778   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a2316e4ee1384aa503e17dff70878b4f7">setIsPlotErrBars</a>(Is);
<a name="l01779"></a>01779   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01780"></a>01780 };
<a name="l01781"></a>01781 
<a name="l01782"></a><a class="code" href="classSBPlot.html#a9eb554babff43b89010ac64b2d71deb0">01782</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a9eb554babff43b89010ac64b2d71deb0">SBPlot::DMImpulsesChanged</a>(<span class="keywordtype">bool</span> Is)
<a name="l01783"></a>01783 {
<a name="l01784"></a>01784   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#ac2675204ae6c140df33a50f3344ffb05">setIsPlotImpulses</a>(Is);
<a name="l01785"></a>01785   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01786"></a>01786 };
<a name="l01787"></a>01787 
<a name="l01788"></a><a class="code" href="classSBPlot.html#af6442e5ec225b269912b0c1309ab81a3">01788</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#af6442e5ec225b269912b0c1309ab81a3">SBPlot::ODataAllChanged</a>(<span class="keywordtype">bool</span> Is)
<a name="l01789"></a>01789 {
<a name="l01790"></a>01790   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a3c905acf34d0d44b3f7a13ba7b6d00ae">setIsAllData</a>(Is);
<a name="l01791"></a>01791   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01792"></a>01792 };
<a name="l01793"></a>01793 
<a name="l01794"></a><a class="code" href="classSBPlot.html#a74928cff709de7da23980760491f3580">01794</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a74928cff709de7da23980760491f3580">SBPlot::OVisRang</a>(<span class="keywordtype">bool</span> Is)
<a name="l01795"></a>01795 {
<a name="l01796"></a>01796   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#ae0368a1f52704f4388061f2cc2486929">setIsLimitsOnVisible</a>(Is);
<a name="l01797"></a>01797   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01798"></a>01798 };
<a name="l01799"></a>01799 
<a name="l01800"></a><a class="code" href="classSBPlot.html#a337d1fba26977ce1ee551acb4b52df11">01800</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a337d1fba26977ce1ee551acb4b52df11">SBPlot::OWStdVar</a>(<span class="keywordtype">bool</span> Is)
<a name="l01801"></a>01801 {
<a name="l01802"></a>01802   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a1685557c5f045ea69db8aa061d14da9a">setIsStdVar</a>(Is);
<a name="l01803"></a>01803   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;update();
<a name="l01804"></a>01804 };
<a name="l01805"></a>01805 
<a name="l01806"></a><a class="code" href="classSBPlot.html#aa47f0cc9a26c98cbed2f04aacbc915a1">01806</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#aa47f0cc9a26c98cbed2f04aacbc915a1">SBPlot::zoomNormalView</a>()
<a name="l01807"></a>01807 {
<a name="l01808"></a>01808   <a class="code" href="classSBPlot.html#aaa007a28a56c9c425c842b52e742ba86">scaleX</a> = <a class="code" href="classSBPlot.html#a38316a8eaad80e9b694599935ec39c93">scaleY</a> = 1.0;
<a name="l01809"></a>01809   QSize S=<a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;size();
<a name="l01810"></a>01810   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;resize((<span class="keywordtype">int</span>)(<a class="code" href="classSBPlot.html#aaa007a28a56c9c425c842b52e742ba86">scaleX</a>*(S.width()-4)), (int)(<a class="code" href="classSBPlot.html#a38316a8eaad80e9b694599935ec39c93">scaleY</a>*(S.height()-4)));
<a name="l01811"></a>01811 
<a name="l01812"></a>01812   <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#a86628b602d7507b924552a8d7fb7669d">PBZommOut</a>-&gt;isEnabled())
<a name="l01813"></a>01813     <a class="code" href="classSBPlot.html#a86628b602d7507b924552a8d7fb7669d">PBZommOut</a>-&gt;setEnabled(TRUE);
<a name="l01814"></a>01814   <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#a85aea53f06a45b692dad607f5bc02f2f">PBZommIn</a>-&gt;isEnabled())
<a name="l01815"></a>01815     <a class="code" href="classSBPlot.html#a85aea53f06a45b692dad607f5bc02f2f">PBZommIn</a>-&gt;setEnabled(TRUE);
<a name="l01816"></a>01816   <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#a933cbdd2f7bbd86301153830e105c155">PBZommXOut</a>-&gt;isEnabled())
<a name="l01817"></a>01817     <a class="code" href="classSBPlot.html#a933cbdd2f7bbd86301153830e105c155">PBZommXOut</a>-&gt;setEnabled(TRUE);
<a name="l01818"></a>01818   <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#aa46afe42b745d19fb3ea37b1e47696ec">PBZommXIn</a>-&gt;isEnabled())
<a name="l01819"></a>01819     <a class="code" href="classSBPlot.html#aa46afe42b745d19fb3ea37b1e47696ec">PBZommXIn</a>-&gt;setEnabled(TRUE);
<a name="l01820"></a>01820   <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#afd5fe6c2e5341ccfd6f3c9daf120c739">PBZommYOut</a>-&gt;isEnabled())
<a name="l01821"></a>01821     <a class="code" href="classSBPlot.html#afd5fe6c2e5341ccfd6f3c9daf120c739">PBZommYOut</a>-&gt;setEnabled(TRUE);
<a name="l01822"></a>01822   <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#a6e55c6ed0f985160c62007383f0f0abb">PBZommYIn</a>-&gt;isEnabled())
<a name="l01823"></a>01823     <a class="code" href="classSBPlot.html#a6e55c6ed0f985160c62007383f0f0abb">PBZommYIn</a>-&gt;setEnabled(TRUE);
<a name="l01824"></a>01824 };
<a name="l01825"></a>01825 
<a name="l01826"></a><a class="code" href="classSBPlot.html#a33ef7847ed95181fa581aaa9816be58f">01826</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a33ef7847ed95181fa581aaa9816be58f">SBPlot::zoomIn</a>()
<a name="l01827"></a>01827 {
<a name="l01828"></a>01828   QSize S=<a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;size();
<a name="l01829"></a>01829   <span class="keywordflow">if</span> (S.width()&lt;8000 &amp;&amp; S.height()&lt;8000)
<a name="l01830"></a>01830     {
<a name="l01831"></a>01831       <a class="code" href="classSBPlot.html#aaa007a28a56c9c425c842b52e742ba86">scaleX</a> *= <a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>;
<a name="l01832"></a>01832       <a class="code" href="classSBPlot.html#a38316a8eaad80e9b694599935ec39c93">scaleY</a> *= <a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>;
<a name="l01833"></a>01833       <span class="keywordtype">int</span> centX = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsX() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleWidth()/2;
<a name="l01834"></a>01834       <span class="keywordtype">int</span> centY = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsY() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleHeight()/2;
<a name="l01835"></a>01835       <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;resize((<span class="keywordtype">int</span>)(S.width() *<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>), (<span class="keywordtype">int</span>)(S.height()*<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>));
<a name="l01836"></a>01836       <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;center((<span class="keywordtype">int</span>)(centX*<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>), (<span class="keywordtype">int</span>)(centY*ScaleFactor));
<a name="l01837"></a>01837       <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#a86628b602d7507b924552a8d7fb7669d">PBZommOut</a>-&gt;isEnabled())
<a name="l01838"></a>01838         <a class="code" href="classSBPlot.html#a86628b602d7507b924552a8d7fb7669d">PBZommOut</a>-&gt;setEnabled(TRUE);
<a name="l01839"></a>01839     }
<a name="l01840"></a>01840   <span class="keywordflow">else</span>
<a name="l01841"></a>01841     <a class="code" href="classSBPlot.html#a85aea53f06a45b692dad607f5bc02f2f">PBZommIn</a>-&gt;setDisabled(TRUE);
<a name="l01842"></a>01842 };
<a name="l01843"></a>01843 
<a name="l01844"></a><a class="code" href="classSBPlot.html#aa4a00e27bf3e344dd8a337f3393c05e2">01844</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#aa4a00e27bf3e344dd8a337f3393c05e2">SBPlot::zoomOut</a>()
<a name="l01845"></a>01845 {
<a name="l01846"></a>01846   QSize S=<a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;size();
<a name="l01847"></a>01847   <span class="keywordflow">if</span> (S.width()&gt;160 &amp;&amp; S.height()&gt;100)
<a name="l01848"></a>01848     {
<a name="l01849"></a>01849       <a class="code" href="classSBPlot.html#aaa007a28a56c9c425c842b52e742ba86">scaleX</a> /= <a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>;
<a name="l01850"></a>01850       <a class="code" href="classSBPlot.html#a38316a8eaad80e9b694599935ec39c93">scaleY</a> /= <a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>;
<a name="l01851"></a>01851       <span class="keywordtype">int</span> centX = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsX() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleWidth()/2;
<a name="l01852"></a>01852       <span class="keywordtype">int</span> centY = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsY() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleHeight()/2;
<a name="l01853"></a>01853       <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;resize((<span class="keywordtype">int</span>)(S.width() /<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>), (<span class="keywordtype">int</span>)(S.height()/<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>));
<a name="l01854"></a>01854       <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;center((<span class="keywordtype">int</span>)(centX/<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>), (<span class="keywordtype">int</span>)(centY/<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>));
<a name="l01855"></a>01855       <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#a85aea53f06a45b692dad607f5bc02f2f">PBZommIn</a>-&gt;isEnabled())
<a name="l01856"></a>01856         <a class="code" href="classSBPlot.html#a85aea53f06a45b692dad607f5bc02f2f">PBZommIn</a>-&gt;setEnabled(TRUE);
<a name="l01857"></a>01857     }
<a name="l01858"></a>01858   <span class="keywordflow">else</span>
<a name="l01859"></a>01859     <a class="code" href="classSBPlot.html#a86628b602d7507b924552a8d7fb7669d">PBZommOut</a>-&gt;setDisabled(TRUE);
<a name="l01860"></a>01860 };
<a name="l01861"></a>01861 
<a name="l01862"></a><a class="code" href="classSBPlot.html#ad8917b247e95c3512dba7abc4f7c23f6">01862</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#ad8917b247e95c3512dba7abc4f7c23f6">SBPlot::zoomXIn</a>()
<a name="l01863"></a>01863 {
<a name="l01864"></a>01864   QSize S=<a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;size();
<a name="l01865"></a>01865   <span class="keywordflow">if</span> (S.width()&lt;8000)
<a name="l01866"></a>01866     {
<a name="l01867"></a>01867       <a class="code" href="classSBPlot.html#aaa007a28a56c9c425c842b52e742ba86">scaleX</a> *= <a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>;
<a name="l01868"></a>01868       <span class="keywordtype">int</span> centX = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsX() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleWidth()/2;
<a name="l01869"></a>01869       <span class="keywordtype">int</span> centY = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsY() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleHeight()/2;
<a name="l01870"></a>01870       <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;resize((<span class="keywordtype">int</span>)(S.width() *<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>), S.height());
<a name="l01871"></a>01871       <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;center((<span class="keywordtype">int</span>)(centX*<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>), centY);
<a name="l01872"></a>01872       <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#a933cbdd2f7bbd86301153830e105c155">PBZommXOut</a>-&gt;isEnabled())
<a name="l01873"></a>01873         <a class="code" href="classSBPlot.html#a933cbdd2f7bbd86301153830e105c155">PBZommXOut</a>-&gt;setEnabled(TRUE);
<a name="l01874"></a>01874     }
<a name="l01875"></a>01875   <span class="keywordflow">else</span>
<a name="l01876"></a>01876     <a class="code" href="classSBPlot.html#aa46afe42b745d19fb3ea37b1e47696ec">PBZommXIn</a>-&gt;setDisabled(TRUE);
<a name="l01877"></a>01877 };
<a name="l01878"></a>01878 
<a name="l01879"></a><a class="code" href="classSBPlot.html#a5d341df0644117c55a981619bd5b3248">01879</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a5d341df0644117c55a981619bd5b3248">SBPlot::zoomXOut</a>()
<a name="l01880"></a>01880 {
<a name="l01881"></a>01881   QSize S=<a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;size();
<a name="l01882"></a>01882   <span class="keywordflow">if</span> (S.width()&gt;160)
<a name="l01883"></a>01883     {
<a name="l01884"></a>01884       <a class="code" href="classSBPlot.html#aaa007a28a56c9c425c842b52e742ba86">scaleX</a> /= <a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>;
<a name="l01885"></a>01885       <span class="keywordtype">int</span> centX = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsX() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleWidth()/2;
<a name="l01886"></a>01886       <span class="keywordtype">int</span> centY = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsY() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleHeight()/2;
<a name="l01887"></a>01887       <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;resize((<span class="keywordtype">int</span>)(S.width()/<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>), S.height());
<a name="l01888"></a>01888       <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;center((<span class="keywordtype">int</span>)(centX/<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>), centY);
<a name="l01889"></a>01889       <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#aa46afe42b745d19fb3ea37b1e47696ec">PBZommXIn</a>-&gt;isEnabled())
<a name="l01890"></a>01890         <a class="code" href="classSBPlot.html#aa46afe42b745d19fb3ea37b1e47696ec">PBZommXIn</a>-&gt;setEnabled(TRUE);
<a name="l01891"></a>01891     }
<a name="l01892"></a>01892   <span class="keywordflow">else</span>
<a name="l01893"></a>01893     <a class="code" href="classSBPlot.html#a933cbdd2f7bbd86301153830e105c155">PBZommXOut</a>-&gt;setDisabled(TRUE);
<a name="l01894"></a>01894 };
<a name="l01895"></a>01895 
<a name="l01896"></a><a class="code" href="classSBPlot.html#a9e4494eda6bafb3f568d936987594fd8">01896</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a9e4494eda6bafb3f568d936987594fd8">SBPlot::zoomYIn</a>()
<a name="l01897"></a>01897 {
<a name="l01898"></a>01898   QSize S=<a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;size();
<a name="l01899"></a>01899   <span class="keywordflow">if</span> (S.height()&lt;8000)
<a name="l01900"></a>01900     {
<a name="l01901"></a>01901       <a class="code" href="classSBPlot.html#a38316a8eaad80e9b694599935ec39c93">scaleY</a> *= <a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>;
<a name="l01902"></a>01902       <span class="keywordtype">int</span> centX = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsX() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleWidth()/2;
<a name="l01903"></a>01903       <span class="keywordtype">int</span> centY = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsY() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleHeight()/2;
<a name="l01904"></a>01904       <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;resize(S.width(), (int)(S.height()*<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>));
<a name="l01905"></a>01905       <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;center(centX, (<span class="keywordtype">int</span>)(centY*<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>));
<a name="l01906"></a>01906       <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#afd5fe6c2e5341ccfd6f3c9daf120c739">PBZommYOut</a>-&gt;isEnabled())
<a name="l01907"></a>01907         <a class="code" href="classSBPlot.html#afd5fe6c2e5341ccfd6f3c9daf120c739">PBZommYOut</a>-&gt;setEnabled(TRUE);
<a name="l01908"></a>01908     }
<a name="l01909"></a>01909   <span class="keywordflow">else</span>
<a name="l01910"></a>01910     <a class="code" href="classSBPlot.html#a6e55c6ed0f985160c62007383f0f0abb">PBZommYIn</a>-&gt;setDisabled(TRUE);
<a name="l01911"></a>01911 };
<a name="l01912"></a>01912 
<a name="l01913"></a><a class="code" href="classSBPlot.html#ae7ecc7fb9130687244640b92bed60842">01913</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#ae7ecc7fb9130687244640b92bed60842">SBPlot::zoomYOut</a>()
<a name="l01914"></a>01914 {
<a name="l01915"></a>01915   QSize S=<a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;size();
<a name="l01916"></a>01916   <span class="keywordflow">if</span> (S.height()&gt;100)
<a name="l01917"></a>01917     {
<a name="l01918"></a>01918       <a class="code" href="classSBPlot.html#a38316a8eaad80e9b694599935ec39c93">scaleY</a> /= <a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>;
<a name="l01919"></a>01919       <span class="keywordtype">int</span> centX = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsX() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleWidth()/2;
<a name="l01920"></a>01920       <span class="keywordtype">int</span> centY = <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;contentsY() + <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;visibleHeight()/2;
<a name="l01921"></a>01921       <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;resize(S.width(), (int)(S.height()/<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>));
<a name="l01922"></a>01922       <a class="code" href="classSBPlot.html#ac7483996fde5cbac4f1b7a7932291739">Plotter</a>-&gt;center(centX, (<span class="keywordtype">int</span>)(centY/<a class="code" href="classSBPlot.html#a346ea1d3368b5d4ad234561c9177952e">ScaleFactor</a>));
<a name="l01923"></a>01923       <span class="keywordflow">if</span> (!<a class="code" href="classSBPlot.html#a6e55c6ed0f985160c62007383f0f0abb">PBZommYIn</a>-&gt;isEnabled())
<a name="l01924"></a>01924         <a class="code" href="classSBPlot.html#a6e55c6ed0f985160c62007383f0f0abb">PBZommYIn</a>-&gt;setEnabled(TRUE);
<a name="l01925"></a>01925     }
<a name="l01926"></a>01926   <span class="keywordflow">else</span>
<a name="l01927"></a>01927     <a class="code" href="classSBPlot.html#afd5fe6c2e5341ccfd6f3c9daf120c739">PBZommYOut</a>-&gt;setDisabled(TRUE);
<a name="l01928"></a>01928 };
<a name="l01929"></a>01929 
<a name="l01930"></a><a class="code" href="classSBPlot.html#a5310b9f88e56b1b1fb3c20c2c74c74be">01930</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a5310b9f88e56b1b1fb3c20c2c74c74be">SBPlot::save2File</a>()
<a name="l01931"></a>01931 {
<a name="l01932"></a>01932   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a7324aa486cc39c4fbc05364df67ab85c">output4Files</a>();
<a name="l01933"></a>01933 };
<a name="l01934"></a>01934 
<a name="l01935"></a><a class="code" href="classSBPlot.html#a2c1a19b8d589191323e722c9580ad9e3">01935</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlot.html#a2c1a19b8d589191323e722c9580ad9e3">SBPlot::save2PS</a>()
<a name="l01936"></a>01936 {
<a name="l01937"></a>01937   QString       FileName = <a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBPlotCarrier.html#a7aa3d398e57eadca9151c0bc780facd1">file4SaveBaseName</a>() + 
<a name="l01938"></a>01938     QString().sprintf(<span class="stringliteral">&quot;[%u:%u].ps&quot;</span>, <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#acd012d58c08ec775b02d0c159ac660da">xCol</a>(), <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#a1a793a47d8f680961a7a7ea0a4ba488f">yCol</a>());
<a name="l01939"></a>01939   QPrinter      Printer;
<a name="l01940"></a>01940   Printer.setOutputFileName(FileName);
<a name="l01941"></a>01941   Printer.setOutputToFile(TRUE);
<a name="l01942"></a>01942   Printer.setOrientation(QPrinter::Landscape);
<a name="l01943"></a>01943   Printer.setFullPage(TRUE);
<a name="l01944"></a>01944   Printer.setPageSize(QPrinter::A4);
<a name="l01945"></a>01945   Printer.setCreator(<a class="code" href="SbCompileInfo_8C.html#ac8a1bc7d26460ea8f0c41215393e7209">Version</a>.<a class="code" href="classSBVersion.html#a5a987eafaa38290d179e87b83bc81aaa">selfName</a>() + <span class="stringliteral">&quot; &quot;</span> + <a class="code" href="SbCompileInfo_8C.html#ac8a1bc7d26460ea8f0c41215393e7209">Version</a>.<a class="code" href="classSBVersion.html#afa1261f0f51dbb43860ae134df181f25">toString</a>());
<a name="l01946"></a>01946   Printer.setFullPage(TRUE);
<a name="l01947"></a>01947 <span class="comment">//Printer.setup();</span>
<a name="l01948"></a>01948 
<a name="l01949"></a>01949   QPaintDeviceMetrics Metrics(&amp;Printer);
<a name="l01950"></a>01950 
<a name="l01951"></a>01951   QPainter P;
<a name="l01952"></a>01952   
<a name="l01953"></a>01953   P.begin(&amp;Printer);
<a name="l01954"></a>01954 
<a name="l01955"></a>01955   QFont Font = P.font();
<a name="l01956"></a>01956   Font.setPointSize(16); <span class="comment">// set a fixed size to fit to the A4 format page</span>
<a name="l01957"></a>01957   P.setFont(Font);
<a name="l01958"></a>01958 
<a name="l01959"></a>01959   <a class="code" href="classSBPlot.html#aa8caba6c289a659eab512277ff077f25">Area</a>-&gt;<a class="code" href="classSBPlotArea.html#adb4c91e37a2a0f0dd79099503971913b">output4Print</a>(&amp;P, Metrics.width(), Metrics.height());
<a name="l01960"></a>01960   P.end();
<a name="l01961"></a>01961   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBPlot.html#a32246639d99de1aa9aaa41b04c3ead79">ClassName</a>() + <span class="stringliteral">&quot;: The &#39;&quot;</span> + <a class="code" href="classSBPlot.html#a7c29b927a00240c8a07849ee416e3d34">PlotCarrier</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>() +
<a name="l01962"></a>01962              <span class="stringliteral">&quot;&#39; has been saved to the file &quot;</span> + FileName);
<a name="l01963"></a>01963 };
<a name="l01964"></a>01964 <span class="comment">/*==============================================================================================*/</span>
<a name="l01965"></a>01965 
<a name="l01966"></a>01966 
<a name="l01967"></a>01967 
<a name="l01968"></a>01968 <span class="comment">/*==============================================================================================*/</span>
<a name="l01969"></a>01969 <span class="comment">/*                                                                                              */</span>
<a name="l01970"></a>01970 <span class="comment">/* SBPlotDialog.                                                                                */</span>
<a name="l01971"></a>01971 <span class="comment">/*                                                                                              */</span>
<a name="l01972"></a>01972 <span class="comment">/*==============================================================================================*/</span>
<a name="l01973"></a><a class="code" href="classSBPlotDialog.html#a216780ea6aaedc5b6a44429bd0fe80ab">01973</a> <a class="code" href="classSBPlotDialog.html#a216780ea6aaedc5b6a44429bd0fe80ab">SBPlotDialog::SBPlotDialog</a>(<a class="code" href="classSBPlotCarrier.html">SBPlotCarrier</a>* Carrier_, <span class="keywordtype">bool</span> IsNeedDeletePC_, 
<a name="l01974"></a>01974                            <a class="code" href="classQWidget.html">QWidget</a>* parent, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> modal, WFlags f)
<a name="l01975"></a>01975   : <a class="code" href="classQDialog.html">QDialog</a>(parent, name, modal, f)
<a name="l01976"></a>01976 {
<a name="l01977"></a>01977   <a class="code" href="classSBPlotDialog.html#a73f16e05bce5ec250d49437ebb59f556">Carrier</a> = Carrier_;
<a name="l01978"></a>01978   <a class="code" href="classSBPlotDialog.html#af62eb734c3bf1f226534a06c86b2dce0">IsNeedDeletePC</a> = IsNeedDeletePC_;
<a name="l01979"></a>01979   setCaption(<span class="stringliteral">&quot;Plot(s) of &quot;</span> + <a class="code" href="classSBPlotDialog.html#a73f16e05bce5ec250d49437ebb59f556">Carrier</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>());
<a name="l01980"></a>01980   
<a name="l01981"></a>01981   QPushButton   *button;
<a name="l01982"></a>01982   QBoxLayout    *Layout, *SubLayout;
<a name="l01983"></a>01983 
<a name="l01984"></a>01984   Layout= <span class="keyword">new</span> QVBoxLayout(<span class="keyword">this</span>, 20, 20);
<a name="l01985"></a>01985   <a class="code" href="classSBPlotDialog.html#a0bba6731d858a71f41663856ffd371bd">Plot</a>  = <span class="keyword">new</span> <a class="code" href="classSBPlot.html">SBPlot</a>(<a class="code" href="classSBPlotDialog.html#a73f16e05bce5ec250d49437ebb59f556">Carrier</a>, <span class="keyword">this</span>);
<a name="l01986"></a>01986   Layout-&gt;addWidget(<a class="code" href="classSBPlotDialog.html#a0bba6731d858a71f41663856ffd371bd">Plot</a>, 5);
<a name="l01987"></a>01987 
<a name="l01988"></a>01988   QFrame        *bar = <span class="keyword">new</span> QFrame(<span class="keyword">this</span>);
<a name="l01989"></a>01989   bar-&gt;setFrameStyle(QFrame::HLine | QFrame::Sunken);
<a name="l01990"></a>01990   Layout-&gt;addWidget(bar);
<a name="l01991"></a>01991 
<a name="l01992"></a>01992   <span class="comment">/*</span>
<a name="l01993"></a>01993 <span class="comment">    QPushButton *button;</span>
<a name="l01994"></a>01994 <span class="comment">    QFrame      *body = new QFrame(this);</span>
<a name="l01995"></a>01995 <span class="comment">    body-&gt;setFrameStyle(QFrame::Panel | QFrame::Raised);</span>
<a name="l01996"></a>01996 <span class="comment">    </span>
<a name="l01997"></a>01997 <span class="comment">    QBoxLayout  *Layout, *SubLayout;</span>
<a name="l01998"></a>01998 <span class="comment">    </span>
<a name="l01999"></a>01999 <span class="comment">    Layout= new QVBoxLayout(body, 20, 20);</span>
<a name="l02000"></a>02000 <span class="comment">    Plot  = new SBPlot(Carrier, body);</span>
<a name="l02001"></a>02001 <span class="comment">    Layout-&gt;addWidget(Plot);</span>
<a name="l02002"></a>02002 <span class="comment">    Layout-&gt;activate();</span>
<a name="l02003"></a>02003 <span class="comment">    </span>
<a name="l02004"></a>02004 <span class="comment">    Layout = new QVBoxLayout(this, 20, 20);</span>
<a name="l02005"></a>02005 <span class="comment">    Layout -&gt;addWidget(body, 5);</span>
<a name="l02006"></a>02006 <span class="comment">  */</span>
<a name="l02007"></a>02007 
<a name="l02008"></a>02008   SubLayout = <span class="keyword">new</span> QHBoxLayout(10);
<a name="l02009"></a>02009   Layout -&gt; addLayout(SubLayout);
<a name="l02010"></a>02010   SubLayout-&gt; addStretch(1);
<a name="l02011"></a>02011   
<a name="l02012"></a>02012   SubLayout-&gt; addWidget(button=<span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Close&quot;</span>, <span class="keyword">this</span>));
<a name="l02013"></a>02013   button -&gt; setMinimumSize(button-&gt;sizeHint());
<a name="l02014"></a>02014   connect(button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBPlotDialog.html#af7eed77a01d3f2de84f05fed101cd7fc">accept</a>()));
<a name="l02015"></a>02015   
<a name="l02016"></a>02016   Layout-&gt;activate();
<a name="l02017"></a>02017 };
<a name="l02018"></a>02018 
<a name="l02019"></a><a class="code" href="classSBPlotDialog.html#af9442653bae65c4fb3ca8fb5b089ea64">02019</a> <a class="code" href="classSBPlotDialog.html#af9442653bae65c4fb3ca8fb5b089ea64">SBPlotDialog::~SBPlotDialog</a>()
<a name="l02020"></a>02020 {
<a name="l02021"></a>02021   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotDialog.html#a0bba6731d858a71f41663856ffd371bd">Plot</a>)
<a name="l02022"></a>02022     {
<a name="l02023"></a>02023       <span class="keyword">delete</span> <a class="code" href="classSBPlotDialog.html#a0bba6731d858a71f41663856ffd371bd">Plot</a>;
<a name="l02024"></a>02024       <a class="code" href="classSBPlotDialog.html#a0bba6731d858a71f41663856ffd371bd">Plot</a> = NULL;
<a name="l02025"></a>02025     };
<a name="l02026"></a>02026 
<a name="l02027"></a>02027   <span class="keywordflow">if</span> (<a class="code" href="classSBPlotDialog.html#af62eb734c3bf1f226534a06c86b2dce0">IsNeedDeletePC</a> &amp;&amp; <a class="code" href="classSBPlotDialog.html#a73f16e05bce5ec250d49437ebb59f556">Carrier</a>)
<a name="l02028"></a>02028     {
<a name="l02029"></a>02029       <span class="keyword">delete</span> <a class="code" href="classSBPlotDialog.html#a73f16e05bce5ec250d49437ebb59f556">Carrier</a>;
<a name="l02030"></a>02030       <a class="code" href="classSBPlotDialog.html#a73f16e05bce5ec250d49437ebb59f556">Carrier</a> = NULL;
<a name="l02031"></a>02031     };
<a name="l02032"></a>02032 
<a name="l02033"></a>02033   emit <a class="code" href="classSBPlotDialog.html#a649db5110d408fa7d574de18d86d67ef">windowClosed</a>();
<a name="l02034"></a>02034 };
<a name="l02035"></a>02035 
<a name="l02036"></a><a class="code" href="classSBPlotDialog.html#af7eed77a01d3f2de84f05fed101cd7fc">02036</a> <span class="keywordtype">void</span> <a class="code" href="classSBPlotDialog.html#af7eed77a01d3f2de84f05fed101cd7fc">SBPlotDialog::accept</a>()
<a name="l02037"></a>02037 {
<a name="l02038"></a>02038   <a class="code" href="classSBPlotDialog.html#af7eed77a01d3f2de84f05fed101cd7fc">QDialog::accept</a>();
<a name="l02039"></a>02039   <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l02040"></a>02040 };
<a name="l02041"></a>02041 <span class="comment">/*==============================================================================================*/</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Mon May 14 2012 13:21:51 for SteelBreeze Reference Manual by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
