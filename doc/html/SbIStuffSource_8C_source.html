<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SteelBreeze Reference Manual: SbIStuffSource.C Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SteelBreeze Reference Manual
   &#160;<span id="projectnumber">2.0.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_070a9b14bd5bd1b0373ba78839806e3d.html">src</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">SbIStuffSource.C</div>  </div>
</div>
<div class="contents">
<a href="SbIStuffSource_8C.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * This file is part of SteelBreeze.</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * SteelBreeze, the geodetic VLBI data analysing software.</span>
<a name="l00006"></a>00006 <span class="comment"> * Copyright (C) 1998-2003 Sergei Bolotin, MAO NASU, Kiev, Ukraine.</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> * SteelBreeze is free software; you can redistribute it and/or modify</span>
<a name="l00009"></a>00009 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
<a name="l00010"></a>00010 <span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span>
<a name="l00011"></a>00011 <span class="comment"> * (at your option) any later version.</span>
<a name="l00012"></a>00012 <span class="comment"> *</span>
<a name="l00013"></a>00013 <span class="comment"> * SteelBreeze is distributed in the hope that it will be useful,</span>
<a name="l00014"></a>00014 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00015"></a>00015 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00016"></a>00016 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00019"></a>00019 <span class="comment"> * along with SteelBreeze; if not, write to the Free Software Foundation,</span>
<a name="l00020"></a>00020 <span class="comment"> * Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</span>
<a name="l00021"></a>00021 <span class="comment"> *</span>
<a name="l00022"></a>00022 <span class="comment"> */</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="SbIStuffSource_8H.html">SbIStuffSource.H</a>&quot;</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;qbuttongroup.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;qcheckbox.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;qcombobox.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;qdir.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;qfiledialog.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;qfileinfo.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;qframe.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;qgroupbox.h&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;qlayout.h&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;qlabel.h&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;qlineedit.h&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;qlistbox.h&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;qmessagebox.h&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;qpainter.h&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;qpixmap.h&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;qpushbutton.h&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;qradiobutton.h&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &lt;qtooltip.h&gt;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;qvalidator.h&gt;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;qvbuttongroup.h&gt;</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="SbSetup_8H.html">SbSetup.H</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="SbGeoEop_8H.html">SbGeoEop.H</a>&quot;</span>
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="SbIStuffSource_8C.html#a479e853b7a1031151e6b9d957ce32bb6">00051</a> QPixmap* <a class="code" href="SbInterface_8H.html#a479e853b7a1031151e6b9d957ce32bb6">pmSrcStatus</a>[5];
<a name="l00052"></a><a class="code" href="SbIStuffSource_8C.html#abe10d6bdffe22dd1440fbf4970a1f412">00052</a> QPixmap* <a class="code" href="SbInterface_8H.html#abe10d6bdffe22dd1440fbf4970a1f412">pmSrcHLink</a>;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="comment">/*==============================================================================================*/</span>
<a name="l00057"></a>00057 <span class="comment">/*                                                                                              */</span>
<a name="l00058"></a>00058 <span class="comment">/* SBSourceListItem..                                                                           */</span>
<a name="l00059"></a>00059 <span class="comment">/*                                                                                              */</span>
<a name="l00060"></a>00060 <span class="comment">/*==============================================================================================*/</span>
<a name="l00061"></a><a class="code" href="classSBSourceListItem.html#a63a3b037b25912c5985ca3ac4a067532">00061</a> <a class="code" href="classSBSourceListItem.html#a63a3b037b25912c5985ca3ac4a067532">SBSourceListItem::SBSourceListItem</a>(<a class="code" href="classQListView.html">QListView</a>* parent, <a class="code" href="classSBSource.html">SBSource</a> *Source_)
<a name="l00062"></a>00062   : <a class="code" href="classQListViewItem.html">QListViewItem</a>(parent)
<a name="l00063"></a>00063 {
<a name="l00064"></a>00064   <a class="code" href="classSBSourceListItem.html#a6e6f5b7baea08d6ad273ecf0e937ec4d">isFaked</a> = FALSE;
<a name="l00065"></a>00065   <span class="keywordflow">if</span> (Source_) <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a> = Source_;
<a name="l00066"></a>00066   <span class="keywordflow">else</span> 
<a name="l00067"></a>00067     {
<a name="l00068"></a>00068       <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a> = <span class="keyword">new</span> <a class="code" href="classSBSource.html">SBSource</a>;
<a name="l00069"></a>00069       <a class="code" href="classSBSourceListItem.html#a6e6f5b7baea08d6ad273ecf0e937ec4d">isFaked</a> = TRUE;
<a name="l00070"></a>00070     };
<a name="l00071"></a>00071 };
<a name="l00072"></a>00072 
<a name="l00073"></a><a class="code" href="classSBSourceListItem.html#a44044854850df72ff73b8673a4244061">00073</a> <a class="code" href="classSBSourceListItem.html#a44044854850df72ff73b8673a4244061">SBSourceListItem::~SBSourceListItem</a>()
<a name="l00074"></a>00074 {
<a name="l00075"></a>00075   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceListItem.html#a6e6f5b7baea08d6ad273ecf0e937ec4d">isFaked</a> &amp;&amp; <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>) <span class="keyword">delete</span> <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>;
<a name="l00076"></a>00076   <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>=NULL;
<a name="l00077"></a>00077 };
<a name="l00078"></a>00078  
<a name="l00079"></a><a class="code" href="classSBSourceListItem.html#a946cd111867c2552034f1ff5e88aad06">00079</a> QString <a class="code" href="classSBSourceListItem.html#a946cd111867c2552034f1ff5e88aad06">SBSourceListItem::text</a>(<span class="keywordtype">int</span> col)<span class="keyword"> const</span>
<a name="l00080"></a>00080 <span class="keyword"></span>{
<a name="l00081"></a>00081   <span class="comment">//  static const char* cStatus[4] = {&quot;D&quot;, &quot;C&quot;, &quot;O&quot;, &quot;N&quot;, &quot;?&quot;};</span>
<a name="l00082"></a>00082   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* cType  [6] = {<span class="stringliteral">&quot;Q&quot;</span>, <span class="stringliteral">&quot;G&quot;</span>, <span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;l&quot;</span>, <span class="stringliteral">&quot;O&quot;</span>, <span class="stringliteral">&quot;?&quot;</span>};
<a name="l00083"></a>00083   <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = <span class="stringliteral">&quot;NULL&quot;</span>;
<a name="l00084"></a>00084 
<a name="l00085"></a>00085   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>)
<a name="l00086"></a>00086     <span class="keywordflow">switch</span> (col)
<a name="l00087"></a>00087       {
<a name="l00088"></a>00088       <span class="keywordflow">case</span> 0: 
<a name="l00089"></a>00089         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>();
<a name="l00090"></a>00090         <span class="keywordflow">break</span>;
<a name="l00091"></a>00091       <span class="keywordflow">case</span> 1: 
<a name="l00092"></a>00092         <span class="comment">//      TmpString = &quot;&quot;; //cStatus[Source-&gt;status()];</span>
<a name="l00093"></a>00093         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba0ea5c9746376e84d1329ecc0d0d63c44" title="a la `substatus&#39;: "indicates that the source is suspected to be not suitable to define the axes in th...">SBSource::StatusSuspected</a>)?<span class="stringliteral">&quot;!&quot;</span>:<span class="stringliteral">&quot;&quot;</span>; <span class="comment">//cStatus[Source-&gt;status()];</span>
<a name="l00094"></a>00094         <span class="keywordflow">break</span>;
<a name="l00095"></a>00095       <span class="keywordflow">case</span> 2: 
<a name="l00096"></a>00096         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = <span class="stringliteral">&quot;&quot;</span>; <span class="comment">//Source-&gt;isHLink()?&quot;*&quot;:&quot; &quot;;</span>
<a name="l00097"></a>00097         <span class="keywordflow">break</span>;
<a name="l00098"></a>00098       <span class="keywordflow">case</span> 3: 
<a name="l00099"></a>00099         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> =cType[<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a56a4514441973cd771165faa91530e16">type</a>()];
<a name="l00100"></a>00100         <span class="keywordflow">break</span>;
<a name="l00101"></a>00101       <span class="keywordflow">case</span> 4: 
<a name="l00102"></a>00102         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a55091a610d16e0098d1ac414bb15cb7f">RA2str</a>();
<a name="l00103"></a>00103         <span class="keywordflow">break</span>;
<a name="l00104"></a>00104       <span class="keywordflow">case</span> 5: 
<a name="l00105"></a>00105         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#ad6d31c653d66cab2544bfefa647c5cb7">DN2str</a>();
<a name="l00106"></a>00106         <span class="keywordflow">break</span>;
<a name="l00107"></a>00107       <span class="keywordflow">case</span> 6: 
<a name="l00108"></a>00108         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;% 9.4f&quot;</span>,<span class="keywordtype">double</span>(1000.0*<a class="code" href="SbGeo_8H.html#a23f072b1316bb6950b1bf1a96293e045">RAD2HR</a>*3600.0*<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a8a32024d4dd51d916dfa509274422b96">ra_err</a>()));
<a name="l00109"></a>00109         <span class="keywordflow">break</span>;
<a name="l00110"></a>00110       <span class="keywordflow">case</span> 7: 
<a name="l00111"></a>00111         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;% 9.4f&quot;</span>,<span class="keywordtype">double</span>(1000.0*<a class="code" href="SbGeo_8H.html#ac5a945020d3528355cda82d383676736">RAD2DEG</a>*3600.0*<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a840a5a78613787de2c9c55d748fc7615">dn_err</a>()));
<a name="l00112"></a>00112         <span class="keywordflow">break</span>;
<a name="l00113"></a>00113       <span class="keywordflow">case</span> 8: 
<a name="l00114"></a>00114         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = (<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#ab2e4d845b8874d272329b698209aed26">mv</a>()&gt;0.0)?(<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;% 4.1f&quot;</span>, <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#ab2e4d845b8874d272329b698209aed26">mv</a>()):<span class="stringliteral">&quot; &quot;</span>;
<a name="l00115"></a>00115         <span class="keywordflow">break</span>;
<a name="l00116"></a>00116       <span class="keywordflow">case</span> 9: 
<a name="l00117"></a>00117         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = (<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a4b133ff240fdd9391533472498e42d83">lastMJD</a>() - <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a7fe6d7ba8b30f654a12a4a954e09226f">firstMJD</a>() &gt; 0.0)? 
<a name="l00118"></a>00118           (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.
<a name="l00119"></a>00119           sprintf(<span class="stringliteral">&quot;% 7.1f&quot;</span>, (<span class="keywordtype">double</span>)(<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a4b133ff240fdd9391533472498e42d83">lastMJD</a>() - <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a7fe6d7ba8b30f654a12a4a954e09226f">firstMJD</a>())):<span class="stringliteral">&quot; &quot;</span>;
<a name="l00120"></a>00120         <span class="keywordflow">break</span>;
<a name="l00121"></a>00121       <span class="keywordflow">case</span> 10: 
<a name="l00122"></a>00122         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;% 7d&quot;</span>, <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a98b04061c2db7f0f45ae3804072e735d">nObsApr</a>());
<a name="l00123"></a>00123         <span class="keywordflow">break</span>;
<a name="l00124"></a>00124       <span class="keywordflow">case</span> 11: 
<a name="l00125"></a>00125         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;% 5d&quot;</span>, <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a05c2fd4841e57a0a010dca74418c7852">nSessApr</a>());
<a name="l00126"></a>00126         <span class="keywordflow">break</span>;
<a name="l00127"></a>00127       };
<a name="l00128"></a>00128   <span class="keywordflow">return</span> <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>;
<a name="l00129"></a>00129 };
<a name="l00130"></a>00130 
<a name="l00131"></a><a class="code" href="classSBSourceListItem.html#ae6a84529850678ab65a3e37b60494ec6">00131</a> QString <a class="code" href="classSBSourceListItem.html#ae6a84529850678ab65a3e37b60494ec6">SBSourceListItem::key</a>(<span class="keywordtype">int</span> col, <span class="keywordtype">bool</span>)<span class="keyword"> const</span>
<a name="l00132"></a>00132 <span class="keyword"></span>{
<a name="l00133"></a>00133   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* cStatus[5] = {<span class="stringliteral">&quot;AD&quot;</span>, <span class="stringliteral">&quot;BC&quot;</span>, <span class="stringliteral">&quot;CO&quot;</span>, <span class="stringliteral">&quot;DN&quot;</span>, <span class="stringliteral">&quot;E?&quot;</span>};
<a name="l00134"></a>00134   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* cType  [6] = {<span class="stringliteral">&quot;AQ&quot;</span>, <span class="stringliteral">&quot;BG&quot;</span>, <span class="stringliteral">&quot;CL&quot;</span>, <span class="stringliteral">&quot;Dl&quot;</span>, <span class="stringliteral">&quot;EA&quot;</span>, <span class="stringliteral">&quot;F?&quot;</span>};
<a name="l00135"></a>00135   <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = <span class="stringliteral">&quot;NULL&quot;</span>;
<a name="l00136"></a>00136 
<a name="l00137"></a>00137   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>)
<a name="l00138"></a>00138     <span class="keywordflow">switch</span> (col)
<a name="l00139"></a>00139       {
<a name="l00140"></a>00140       <span class="keywordflow">case</span> 0: <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>();
<a name="l00141"></a>00141         <span class="keywordflow">break</span>;
<a name="l00142"></a>00142       <span class="keywordflow">case</span> 1: 
<a name="l00143"></a>00143         <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = cStatus[<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a96cdfdd1c6dbb4b9635ae09188e0df1f">status</a>()];
<a name="l00144"></a>00144         <span class="keywordflow">if</span> (<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba0ea5c9746376e84d1329ecc0d0d63c44" title="a la `substatus&#39;: "indicates that the source is suspected to be not suitable to define the axes in th...">SBSource::StatusSuspected</a>))
<a name="l00145"></a>00145           <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> += <span class="stringliteral">&quot;Z&quot;</span>;
<a name="l00146"></a>00146         <span class="keywordflow">break</span>;
<a name="l00147"></a>00147       <span class="keywordflow">case</span> 2: <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> = <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a92b80c1add0ceb7c10faab878a958847">isHLink</a>()?<span class="stringliteral">&quot;*&quot;</span>:<span class="stringliteral">&quot; &quot;</span>;
<a name="l00148"></a>00148         <span class="keywordflow">break</span>;
<a name="l00149"></a>00149       <span class="keywordflow">case</span> 3: <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a> =cType[<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a56a4514441973cd771165faa91530e16">type</a>()];
<a name="l00150"></a>00150         <span class="keywordflow">break</span>;
<a name="l00151"></a>00151       <span class="keywordflow">case</span> 4: <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;%016.12f&quot;</span>, <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#abccafcb34225803100df7e01a649b8dc">ra</a>());
<a name="l00152"></a>00152         <span class="keywordflow">break</span>;
<a name="l00153"></a>00153       <span class="keywordflow">case</span> 5: <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;%016.12f&quot;</span>, <span class="keywordtype">double</span>(7.0+<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#aa9ac0e012c970eb8eaf6afd401efe87e">dn</a>())); <span class="comment">//just for sorting</span>
<a name="l00154"></a>00154         <span class="keywordflow">break</span>;
<a name="l00155"></a>00155       <span class="keywordflow">case</span> 6: <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;%09.4f&quot;</span>,   <span class="keywordtype">double</span>(1000.0*<a class="code" href="SbGeo_8H.html#a23f072b1316bb6950b1bf1a96293e045">RAD2HR</a>*3600.0*<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a8a32024d4dd51d916dfa509274422b96">ra_err</a>()));
<a name="l00156"></a>00156         <span class="keywordflow">break</span>;
<a name="l00157"></a>00157       <span class="keywordflow">case</span> 7: <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;%09.4f&quot;</span>,   <span class="keywordtype">double</span>(1000.0*<a class="code" href="SbGeo_8H.html#ac5a945020d3528355cda82d383676736">RAD2DEG</a>*3600.0*<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a840a5a78613787de2c9c55d748fc7615">dn_err</a>()));
<a name="l00158"></a>00158         <span class="keywordflow">break</span>;
<a name="l00159"></a>00159       <span class="keywordflow">case</span> 8: <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;%04.1f&quot;</span>, <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#ab2e4d845b8874d272329b698209aed26">mv</a>());
<a name="l00160"></a>00160         <span class="keywordflow">break</span>;
<a name="l00161"></a>00161       <span class="keywordflow">case</span> 9: <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;%07.1f&quot;</span>,   (<span class="keywordtype">double</span>)(<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a4b133ff240fdd9391533472498e42d83">lastMJD</a>()-<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a7fe6d7ba8b30f654a12a4a954e09226f">firstMJD</a>()));
<a name="l00162"></a>00162         <span class="keywordflow">break</span>;
<a name="l00163"></a>00163       <span class="keywordflow">case</span> 10:<a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;%07d&quot;</span>, <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a98b04061c2db7f0f45ae3804072e735d">nObsApr</a>());
<a name="l00164"></a>00164         <span class="keywordflow">break</span>;
<a name="l00165"></a>00165       <span class="keywordflow">case</span> 11:<a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>.sprintf(<span class="stringliteral">&quot;%05d&quot;</span>, <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a05c2fd4841e57a0a010dca74418c7852">nSessApr</a>());
<a name="l00166"></a>00166         <span class="keywordflow">break</span>;
<a name="l00167"></a>00167       };
<a name="l00168"></a>00168   <span class="keywordflow">return</span> <a class="code" href="SbInterface_8H.html#ab78fd2a2bbdb887bb0c84d93c235ab69">TmpString</a>;
<a name="l00169"></a>00169 };
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 <span class="comment">/* till the next time...*/</span>
<a name="l00172"></a><a class="code" href="classSBSourceListItem.html#a2d9d88b52864b4498d08adbdc9188488">00172</a> <span class="keyword">const</span> QPixmap * <a class="code" href="classSBSourceListItem.html#a2d9d88b52864b4498d08adbdc9188488">SBSourceListItem::pixmap</a> (<span class="keywordtype">int</span> col)<span class="keyword"> const</span>
<a name="l00173"></a>00173 <span class="keyword"></span>{
<a name="l00174"></a>00174   QPixmap *pm=0;
<a name="l00175"></a>00175   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>)
<a name="l00176"></a>00176     <span class="keywordflow">switch</span> (col)
<a name="l00177"></a>00177       {
<a name="l00178"></a>00178       <span class="keywordflow">case</span> 0: pm=0;
<a name="l00179"></a>00179         <span class="keywordflow">break</span>;
<a name="l00180"></a>00180       <span class="keywordflow">case</span> 1:
<a name="l00181"></a>00181         pm = <a class="code" href="SbInterface_8H.html#a479e853b7a1031151e6b9d957ce32bb6">pmSrcStatus</a>[<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a96cdfdd1c6dbb4b9635ae09188e0df1f">status</a>()];
<a name="l00182"></a>00182         <span class="keywordflow">break</span>;
<a name="l00183"></a>00183       <span class="keywordflow">case</span> 2: pm = <a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBSource.html#a92b80c1add0ceb7c10faab878a958847">isHLink</a>()?<a class="code" href="SbInterface_8H.html#abe10d6bdffe22dd1440fbf4970a1f412">pmSrcHLink</a>:0;
<a name="l00184"></a>00184         <span class="keywordflow">break</span>;
<a name="l00185"></a>00185       <span class="keywordflow">case</span> 3: pm=0;
<a name="l00186"></a>00186         <span class="keywordflow">break</span>;
<a name="l00187"></a>00187       <span class="keywordflow">case</span> 4: pm=0;
<a name="l00188"></a>00188         <span class="keywordflow">break</span>;
<a name="l00189"></a>00189       <span class="keywordflow">default</span>: pm=0;
<a name="l00190"></a>00190         <span class="keywordflow">break</span>;
<a name="l00191"></a>00191       };
<a name="l00192"></a>00192   <span class="keywordflow">return</span> pm;
<a name="l00193"></a>00193 };
<a name="l00194"></a>00194 <span class="comment">/*==============================================================================================*/</span>
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 
<a name="l00198"></a>00198 <span class="comment">/*==============================================================================================*/</span>
<a name="l00199"></a>00199 <span class="comment">/*                                                                                              */</span>
<a name="l00200"></a>00200 <span class="comment">/* SBAliasListItem..                                                                            */</span>
<a name="l00201"></a>00201 <span class="comment">/*                                                                                              */</span>
<a name="l00202"></a>00202 <span class="comment">/*==============================================================================================*/</span>
<a name="l00203"></a><a class="code" href="classSBAliasListItem.html#a8445e61892e5043914a7155d8e9e6c60">00203</a> <a class="code" href="classSBAliasListItem.html#a8445e61892e5043914a7155d8e9e6c60">SBAliasListItem::SBAliasListItem</a>(<a class="code" href="classQListView.html">QListView</a>* parent, <span class="keyword">const</span> <span class="keywordtype">char</span>* Ali_, <span class="keyword">const</span> <span class="keywordtype">char</span>* Ref_)
<a name="l00204"></a>00204   : <a class="code" href="classQListViewItem.html">QListViewItem</a>(parent)
<a name="l00205"></a>00205 {
<a name="l00206"></a>00206   <a class="code" href="classSBAliasListItem.html#a694bb14ee18da1140fed4d4f0c8e3bc6">isFaked</a> = FALSE;
<a name="l00207"></a>00207   <span class="keywordflow">if</span> (Ali_ &amp;&amp; Ref_) 
<a name="l00208"></a>00208     {
<a name="l00209"></a>00209       <a class="code" href="classSBAliasListItem.html#a7044813e82a7159cc1c6c35b09a56832">Alias</a> = Ali_;
<a name="l00210"></a>00210       <a class="code" href="classSBAliasListItem.html#a41c909ea4046625df4bf637c36f95e8a">Reference</a> = Ref_;
<a name="l00211"></a>00211     }
<a name="l00212"></a>00212   <span class="keywordflow">else</span> 
<a name="l00213"></a>00213     {
<a name="l00214"></a>00214       <a class="code" href="classSBAliasListItem.html#a7044813e82a7159cc1c6c35b09a56832">Alias</a> = <span class="stringliteral">&quot;NULL&quot;</span>;
<a name="l00215"></a>00215       <a class="code" href="classSBAliasListItem.html#a41c909ea4046625df4bf637c36f95e8a">Reference</a> = <span class="stringliteral">&quot;NULL&quot;</span>;
<a name="l00216"></a>00216       <a class="code" href="classSBAliasListItem.html#a694bb14ee18da1140fed4d4f0c8e3bc6">isFaked</a> = TRUE;
<a name="l00217"></a>00217     };
<a name="l00218"></a>00218 };
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="classSBAliasListItem.html#a1ed08d2500b067287eb588c847589b1f">00220</a> QString <a class="code" href="classSBAliasListItem.html#a1ed08d2500b067287eb588c847589b1f">SBAliasListItem::text</a>(<span class="keywordtype">int</span> col)<span class="keyword"> const</span>
<a name="l00221"></a>00221 <span class="keyword"></span>{
<a name="l00222"></a>00222   <span class="keywordflow">switch</span> (col)
<a name="l00223"></a>00223     {
<a name="l00224"></a>00224     <span class="keywordflow">case</span> 0: <span class="keywordflow">return</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBAliasListItem.html#a7044813e82a7159cc1c6c35b09a56832">Alias</a>;
<a name="l00225"></a>00225       <span class="keywordflow">break</span>;
<a name="l00226"></a>00226     <span class="keywordflow">case</span> 1: <span class="keywordflow">return</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBAliasListItem.html#a41c909ea4046625df4bf637c36f95e8a">Reference</a>;
<a name="l00227"></a>00227       <span class="keywordflow">break</span>;
<a name="l00228"></a>00228     };
<a name="l00229"></a>00229   <span class="keywordflow">return</span> <span class="stringliteral">&quot;NULL&quot;</span>;
<a name="l00230"></a>00230 };
<a name="l00231"></a>00231 <span class="comment">/*==============================================================================================*/</span>
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 <span class="comment">/*==============================================================================================*/</span>
<a name="l00236"></a>00236 <span class="comment">/*                                                                                              */</span>
<a name="l00237"></a>00237 <span class="comment">/* SBStuffSources..                                                                             */</span>
<a name="l00238"></a>00238 <span class="comment">/*                                                                                              */</span>
<a name="l00239"></a>00239 <span class="comment">/*==============================================================================================*/</span>
<a name="l00240"></a><a class="code" href="classSBStuffSources.html#a70ef6d36abbb5f9d667f47960c771589">00240</a> <a class="code" href="classSBStuffSources.html#a70ef6d36abbb5f9d667f47960c771589">SBStuffSources::SBStuffSources</a>(<a class="code" href="classQWidget.html">QWidget</a>* parent, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> modal, WFlags f)
<a name="l00241"></a>00241   : <a class="code" href="classQDialog.html">QDialog</a>(parent, name, modal, f)
<a name="l00242"></a>00242 {
<a name="l00243"></a>00243   <a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a> = 0;
<a name="l00244"></a>00244   
<a name="l00245"></a>00245   setCaption(<span class="stringliteral">&quot;Sources&quot;</span>);
<a name="l00246"></a>00246   
<a name="l00247"></a>00247   QPushButton   *AddButton, *DeleteButton, *OKButton, *CancelButton, *ImportButton, *ExportButton;
<a name="l00248"></a>00248   QSize         Size;
<a name="l00249"></a>00249   QGroupBox     *gbox;
<a name="l00250"></a>00250   QBoxLayout    *Layout, *SubLayout, *aLayout, *bLayout;
<a name="l00251"></a>00251   QLabel        *label;
<a name="l00252"></a>00252   QFrame        *frame;
<a name="l00253"></a>00253   
<a name="l00254"></a>00254   <span class="keywordflow">if</span> (!(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>=<a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#ae41bc00423ba862ed9676712f5adb589">loadCRF</a>())) <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a> = <span class="keyword">new</span> <a class="code" href="classSB__CRF.html">SB_CRF</a>;
<a name="l00255"></a>00255   <span class="keywordflow">if</span> (!<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;count()) <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a9c88a96f479c197f9278bf447b15dc43">inSort</a>(<span class="keyword">new</span> <a class="code" href="classSBSource.html">SBSource</a>(<span class="stringliteral">&quot;0000+000&quot;</span>, 0.0, 0.0));
<a name="l00256"></a>00256   <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSB__CRF.html#aa85fdeb38926b0865d49b54c647edf4e">prepareAliases4Output</a>();
<a name="l00257"></a>00257 
<a name="l00258"></a>00258   
<a name="l00259"></a>00259   gbox   = <span class="keyword">new</span> QGroupBox(<span class="stringliteral">&quot;CRF&quot;</span>, <span class="keyword">this</span>);
<a name="l00260"></a>00260   Layout = <span class="keyword">new</span> QVBoxLayout(gbox, 20, 10);
<a name="l00261"></a>00261   
<a name="l00262"></a>00262   SubLayout = <span class="keyword">new</span> QHBoxLayout();
<a name="l00263"></a>00263   Layout -&gt; addLayout(SubLayout, 10);
<a name="l00264"></a>00264   
<a name="l00265"></a>00265   
<a name="l00266"></a>00266   <span class="comment">//--</span>
<a name="l00267"></a>00267   aLayout = <span class="keyword">new</span> QVBoxLayout();
<a name="l00268"></a>00268   SubLayout -&gt; addLayout(aLayout, 5);
<a name="l00269"></a>00269   
<a name="l00270"></a>00270   
<a name="l00271"></a>00271   <span class="comment">// set up aliases list box:</span>
<a name="l00272"></a>00272   <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a> = <span class="keyword">new</span> <a class="code" href="classQListView.html">QListView</a>(gbox);
<a name="l00273"></a>00273   <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;Sourse&#39;s Alias &quot;</span>);
<a name="l00274"></a>00274   <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a> -&gt; addColumn(<span class="stringliteral">&quot; Refers to&quot;</span>);
<a name="l00275"></a>00275   <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a> -&gt; setColumnAlignment( 1, AlignRight);
<a name="l00276"></a>00276 
<a name="l00277"></a>00277   QDictIterator&lt;QString&gt; it(*<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>());
<a name="l00278"></a>00278   <span class="keywordflow">while</span> (it.current())
<a name="l00279"></a>00279     {
<a name="l00280"></a>00280       (void) <span class="keyword">new</span> <a class="code" href="classSBAliasListItem.html">SBAliasListItem</a>(<a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>, QString(it.currentKey()), *it.current());
<a name="l00281"></a>00281       ++it;
<a name="l00282"></a>00282     };
<a name="l00283"></a>00283   <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a> -&gt; setAllColumnsShowFocus(TRUE);
<a name="l00284"></a>00284   <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a> -&gt; setFrameStyle(QFrame::WinPanel | QFrame::Sunken);
<a name="l00285"></a>00285   <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a> -&gt; setMinimumSize(<a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>-&gt;sizeHint());
<a name="l00286"></a>00286   <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a> -&gt; setFocusPolicy(QWidget::StrongFocus);
<a name="l00287"></a>00287   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;count() &amp;&amp; <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>-&gt;firstChild())
<a name="l00288"></a>00288     <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a> -&gt; setSelected(<a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>-&gt;firstChild(), TRUE);
<a name="l00289"></a>00289 
<a name="l00290"></a>00290   aLayout   -&gt; addWidget(<a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>, 10);
<a name="l00291"></a>00291 
<a name="l00292"></a>00292   aLayout-&gt;addLayout(bLayout = <span class="keyword">new</span> QHBoxLayout(4));
<a name="l00293"></a>00293   bLayout-&gt;addStretch(1);  
<a name="l00294"></a>00294   bLayout-&gt;addWidget(AddButton = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Add..&quot;</span>, gbox));
<a name="l00295"></a>00295   bLayout-&gt;addWidget(DeleteButton = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Delete&quot;</span>, gbox));
<a name="l00296"></a>00296 
<a name="l00297"></a>00297   DeleteButton-&gt;setMinimumSize(Size=DeleteButton-&gt;sizeHint());
<a name="l00298"></a>00298   AddButton-&gt;setMinimumSize(Size);
<a name="l00299"></a>00299   AddButton-&gt;setFocusPolicy(QWidget::ClickFocus);
<a name="l00300"></a>00300   DeleteButton-&gt;setFocusPolicy(QWidget::ClickFocus);
<a name="l00301"></a>00301 
<a name="l00302"></a>00302   connect (AddButton, SIGNAL(clicked()), SLOT(<a class="code" href="classSBStuffSources.html#a27435bd56384f8b05d1d475fb9da9f66">insertEntryA</a>()));
<a name="l00303"></a>00303   connect (DeleteButton, SIGNAL(clicked()), SLOT(<a class="code" href="classSBStuffSources.html#adf83e96036912b0a2fcaf7097e2a4cc9">deleteEntryA</a>()));
<a name="l00304"></a>00304   
<a name="l00305"></a>00305   <span class="comment">//--</span>
<a name="l00306"></a>00306   QGridLayout  *grid = <span class="keyword">new</span> QGridLayout(5,3);
<a name="l00307"></a>00307   aLayout -&gt; addLayout(grid);
<a name="l00308"></a>00308   grid -&gt; setColStretch(1,5);
<a name="l00309"></a>00309   
<a name="l00310"></a>00310   frame = <span class="keyword">new</span> QFrame(gbox);
<a name="l00311"></a>00311   frame -&gt; setFrameStyle(QFrame::Sunken | QFrame::HLine);
<a name="l00312"></a>00312   frame -&gt; setMinimumHeight(6);
<a name="l00313"></a>00313   grid-&gt; addMultiCellWidget(frame, 0, 0, 0, 2);
<a name="l00314"></a>00314   
<a name="l00315"></a>00315   <span class="comment">// info:</span>
<a name="l00316"></a>00316   label = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Sources/Aliases:&quot;</span>, gbox);
<a name="l00317"></a>00317   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l00318"></a>00318   grid -&gt; addMultiCellWidget(label, 1,1, 0,1);
<a name="l00319"></a>00319 
<a name="l00320"></a>00320   <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>.sprintf(<span class="stringliteral">&quot; %d/%d&quot;</span>, <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;count(), <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;count());
<a name="l00321"></a>00321   <a class="code" href="classSBStuffSources.html#a8e285e4fde0c6fb62f540467d5f75729">NumSA</a> = <span class="keyword">new</span> QLabel(<a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>, gbox);
<a name="l00322"></a>00322   <a class="code" href="classSBStuffSources.html#a8e285e4fde0c6fb62f540467d5f75729">NumSA</a> -&gt; setMinimumSize(<a class="code" href="classSBStuffSources.html#a8e285e4fde0c6fb62f540467d5f75729">NumSA</a>-&gt;sizeHint());
<a name="l00323"></a>00323   grid -&gt; addWidget(<a class="code" href="classSBStuffSources.html#a8e285e4fde0c6fb62f540467d5f75729">NumSA</a>, 1, 2);
<a name="l00324"></a>00324 
<a name="l00325"></a>00325   frame = <span class="keyword">new</span> QFrame(gbox);
<a name="l00326"></a>00326   frame -&gt; setFrameStyle(QFrame::Sunken | QFrame::HLine);
<a name="l00327"></a>00327   frame -&gt; setMinimumHeight(6);
<a name="l00328"></a>00328   grid-&gt; addMultiCellWidget(frame, 2, 2, 0, 2);
<a name="l00329"></a>00329 
<a name="l00330"></a>00330   label = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Label:&quot;</span>, gbox);
<a name="l00331"></a>00331   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l00332"></a>00332   grid -&gt; addWidget(label, 3, 0);
<a name="l00333"></a>00333 
<a name="l00334"></a>00334   <a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a> = <span class="keyword">new</span> QLineEdit(gbox);
<a name="l00335"></a>00335   <a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a> -&gt; setText(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#afd4ba0d6fbfba0d0be6d622fdadbd9f4">label</a>().<a class="code" href="classSBSolutionName.html#a192f5de8c5899ff03a8943fd91f5c50d">toString</a>());
<a name="l00336"></a>00336   <a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a> -&gt; setMinimumHeight(<a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a>-&gt;sizeHint().height());
<a name="l00337"></a>00337   <a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a> -&gt; setMinimumWidth(<a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a>-&gt;fontMetrics().width(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#afd4ba0d6fbfba0d0be6d622fdadbd9f4">label</a>().<a class="code" href="classSBSolutionName.html#a192f5de8c5899ff03a8943fd91f5c50d">toString</a>())+10);
<a name="l00338"></a>00338   grid -&gt; addMultiCellWidget(<a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a>, 3,3, 1,2);
<a name="l00339"></a>00339 
<a name="l00340"></a>00340   label = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Epoch:&quot;</span>, gbox);
<a name="l00341"></a>00341   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l00342"></a>00342   grid -&gt; addWidget(label, 4, 0);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344   <a class="code" href="classSBStuffSources.html#a39baab5ecd3790c753c0952ccdbb0baf">CRFEpoch</a> = <span class="keyword">new</span> QLineEdit(gbox);
<a name="l00345"></a>00345   <a class="code" href="classSBStuffSources.html#a39baab5ecd3790c753c0952ccdbb0baf">CRFEpoch</a> -&gt; setText(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#af329a6ccc64dabc88a1213a67a9dff0e">epoch</a>().<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcbab83f6990e77bb4d64abaee4bfa1d4f56">SBMJD::F_Year</a>));
<a name="l00346"></a>00346   <a class="code" href="classSBStuffSources.html#a39baab5ecd3790c753c0952ccdbb0baf">CRFEpoch</a> -&gt; setValidator(<span class="keyword">new</span> QDoubleValidator(1900.0, 2200.0, 1, gbox));
<a name="l00347"></a>00347   <a class="code" href="classSBStuffSources.html#a39baab5ecd3790c753c0952ccdbb0baf">CRFEpoch</a> -&gt; setMinimumHeight(<a class="code" href="classSBStuffSources.html#a39baab5ecd3790c753c0952ccdbb0baf">CRFEpoch</a>-&gt;sizeHint().height());
<a name="l00348"></a>00348   <a class="code" href="classSBStuffSources.html#a39baab5ecd3790c753c0952ccdbb0baf">CRFEpoch</a> -&gt; setMinimumWidth(<a class="code" href="classSBStuffSources.html#a39baab5ecd3790c753c0952ccdbb0baf">CRFEpoch</a>-&gt;fontMetrics().width(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#afd4ba0d6fbfba0d0be6d622fdadbd9f4">label</a>().<a class="code" href="classSBSolutionName.html#a192f5de8c5899ff03a8943fd91f5c50d">toString</a>())+10);
<a name="l00349"></a>00349   grid -&gt; addMultiCellWidget(<a class="code" href="classSBStuffSources.html#a39baab5ecd3790c753c0952ccdbb0baf">CRFEpoch</a>, 4,4, 1,2);
<a name="l00350"></a>00350 
<a name="l00351"></a>00351   <span class="comment">//  set up sources list box:</span>
<a name="l00352"></a>00352   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> = <span class="keyword">new</span> <a class="code" href="classQListView.html">QListView</a>(gbox);
<a name="l00353"></a>00353   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;Source&quot;</span>);
<a name="l00354"></a>00354   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment( 0, AlignLeft);
<a name="l00355"></a>00355   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;S&quot;</span>);
<a name="l00356"></a>00356   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment( 1, AlignRight);
<a name="l00357"></a>00357   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;H&quot;</span>);
<a name="l00358"></a>00358   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment( 2, AlignCenter);
<a name="l00359"></a>00359   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;T&quot;</span>);
<a name="l00360"></a>00360   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment( 3, AlignRight);
<a name="l00361"></a>00361   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot; Right Ascension &quot;</span>);
<a name="l00362"></a>00362   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment( 4, AlignRight);
<a name="l00363"></a>00363   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;Declination North&quot;</span>);
<a name="l00364"></a>00364   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment( 5, AlignRight);
<a name="l00365"></a>00365   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;uncert RA&quot;</span>);
<a name="l00366"></a>00366   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment( 6, AlignRight);
<a name="l00367"></a>00367   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;uncert De&quot;</span>);
<a name="l00368"></a>00368   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment( 7, AlignRight);
<a name="l00369"></a>00369   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;mv&quot;</span>);
<a name="l00370"></a>00370   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment( 8, AlignRight);
<a name="l00371"></a>00371   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;interval&quot;</span>);
<a name="l00372"></a>00372   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment( 9, AlignRight);
<a name="l00373"></a>00373   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;NObs&quot;</span>);
<a name="l00374"></a>00374   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment(10, AlignRight);
<a name="l00375"></a>00375   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; addColumn(<span class="stringliteral">&quot;NSess&quot;</span>);
<a name="l00376"></a>00376   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setColumnAlignment(11, AlignRight);
<a name="l00377"></a>00377   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setAllColumnsShowFocus(TRUE);
<a name="l00378"></a>00378 
<a name="l00379"></a>00379   <span class="keywordflow">for</span> (<a class="code" href="classSBSource.html">SBSource</a>* W=<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSB__CRF.html#ab311aace24dcbe44d4a63b7cd354482d">first</a>(); W; W=<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSB__CRF.html#a1bf84a96ab2e1adb1d327c7d4f0ae380">next</a>())
<a name="l00380"></a>00380     (<span class="keywordtype">void</span>) <span class="keyword">new</span> <a class="code" href="classSBSourceListItem.html">SBSourceListItem</a>(<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>, W);
<a name="l00381"></a>00381   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setMinimumHeight(<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>-&gt;sizeHint().height()*2);
<a name="l00382"></a>00382   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setMinimumWidth(<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>-&gt;sizeHint().width());
<a name="l00383"></a>00383   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setFrameStyle(QFrame::WinPanel | QFrame::Sunken);
<a name="l00384"></a>00384   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>-&gt;firstChild())
<a name="l00385"></a>00385     <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setSelected(<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>-&gt;firstChild(), TRUE);
<a name="l00386"></a>00386   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; setFocusPolicy(QWidget::StrongFocus);
<a name="l00387"></a>00387   SubLayout -&gt; addWidget(<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>,5);
<a name="l00388"></a>00388 
<a name="l00389"></a>00389   <span class="comment">// comments:</span>
<a name="l00390"></a>00390   Layout -&gt; addLayout(bLayout = <span class="keyword">new</span> QHBoxLayout(10));
<a name="l00391"></a>00391   bLayout-&gt; addWidget(<span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Comment:&quot;</span>, gbox));
<a name="l00392"></a>00392   bLayout-&gt;addWidget(<a class="code" href="classSBStuffSources.html#af2ba3e8c17f35236c29ca6e38a262fd5">CRFComment</a>=<span class="keyword">new</span> QLineEdit(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a68a953e451410c1890d5e48b0a6d90cc">comment</a>(), gbox), 1);
<a name="l00393"></a>00393   Layout-&gt;activate();
<a name="l00394"></a>00394   
<a name="l00395"></a>00395 
<a name="l00396"></a>00396   <span class="comment">//---</span>
<a name="l00397"></a>00397   Layout = <span class="keyword">new</span> QVBoxLayout(<span class="keyword">this</span>, 10, 10);
<a name="l00398"></a>00398   Layout-&gt;addWidget(gbox, 10);
<a name="l00399"></a>00399   Layout-&gt;addLayout(SubLayout = <span class="keyword">new</span> QHBoxLayout(10));
<a name="l00400"></a>00400 
<a name="l00401"></a>00401   SubLayout-&gt;addStretch(1);
<a name="l00402"></a>00402   SubLayout-&gt;addWidget(OKButton = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;OK&quot;</span>, <span class="keyword">this</span>));
<a name="l00403"></a>00403   SubLayout-&gt;addWidget(AddButton = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Add&quot;</span>, <span class="keyword">this</span>));
<a name="l00404"></a>00404   SubLayout-&gt;addWidget(DeleteButton = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Delete&quot;</span>, <span class="keyword">this</span>));
<a name="l00405"></a>00405   SubLayout-&gt;addWidget(ImportButton = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Import..&quot;</span>, <span class="keyword">this</span>));
<a name="l00406"></a>00406   SubLayout-&gt;addWidget(ExportButton = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Export&quot;</span>, <span class="keyword">this</span>));
<a name="l00407"></a>00407   SubLayout-&gt;addWidget(CancelButton = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Cancel&quot;</span>, <span class="keyword">this</span>));
<a name="l00408"></a>00408 
<a name="l00409"></a>00409   OKButton      -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l00410"></a>00410   AddButton     -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l00411"></a>00411   DeleteButton  -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l00412"></a>00412   ImportButton  -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l00413"></a>00413   ExportButton  -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l00414"></a>00414   CancelButton  -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l00415"></a>00415 
<a name="l00416"></a>00416   ImportButton  -&gt; setMinimumSize(Size=ImportButton-&gt;sizeHint());
<a name="l00417"></a>00417   OKButton      -&gt; setMinimumSize(Size);
<a name="l00418"></a>00418   AddButton     -&gt; setMinimumSize(Size);
<a name="l00419"></a>00419   DeleteButton  -&gt; setMinimumSize(Size);
<a name="l00420"></a>00420   ExportButton  -&gt; setMinimumSize(Size);
<a name="l00421"></a>00421   CancelButton  -&gt; setMinimumSize(Size);
<a name="l00422"></a>00422 
<a name="l00423"></a>00423   Layout-&gt;activate();
<a name="l00424"></a>00424 
<a name="l00425"></a>00425   connect(OKButton,     SIGNAL(clicked()), SLOT(<a class="code" href="classSBStuffSources.html#a3ddb5a471973da1be4c6f77abfaae108">accept</a>()));
<a name="l00426"></a>00426   connect(CancelButton, SIGNAL(clicked()), SLOT(<a class="code" href="classSBStuffSources.html#a7cf702f1ea5c16e9c6caad8121e071b0">reject</a>()));
<a name="l00427"></a>00427   connect(AddButton,    SIGNAL(clicked()), SLOT(<a class="code" href="classSBStuffSources.html#a14a5a93e84c84050a14ef2cffa253eae">insertEntryS</a>()));
<a name="l00428"></a>00428   connect(DeleteButton, SIGNAL(clicked()), SLOT(<a class="code" href="classSBStuffSources.html#a9e949472880179b047a4cbfa79213817">deleteEntryS</a>()));
<a name="l00429"></a>00429   connect(ImportButton, SIGNAL(clicked()), SLOT(<a class="code" href="classSBStuffSources.html#a43b4c0e07210c35c8ef7e93af889f5a2">importData</a>()));
<a name="l00430"></a>00430   connect(ExportButton, SIGNAL(clicked()), SLOT(<a class="code" href="classSBStuffSources.html#a51ae553bbf838fa943b46df7d5d2ff66">exportData</a>()));
<a name="l00431"></a>00431   
<a name="l00432"></a>00432   connect(<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>, SIGNAL(doubleClicked(<a class="code" href="classQListViewItem.html">QListViewItem</a>*)), SLOT(<a class="code" href="classSBStuffSources.html#ad0a67d4cdea83128a3f7f6e9ed9d46c2">editEntryS</a>(<a class="code" href="classQListViewItem.html">QListViewItem</a>*)));
<a name="l00433"></a>00433   connect(<a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>, SIGNAL(doubleClicked(<a class="code" href="classQListViewItem.html">QListViewItem</a>*)), SLOT(<a class="code" href="classSBStuffSources.html#a37683679dd5d523be9a4fa4e6be9a08e">editEntryA</a>(<a class="code" href="classQListViewItem.html">QListViewItem</a>*)));
<a name="l00434"></a>00434   connect(<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>, SIGNAL(returnPressed(<a class="code" href="classQListViewItem.html">QListViewItem</a>*)), SLOT(<a class="code" href="classSBStuffSources.html#ad0a67d4cdea83128a3f7f6e9ed9d46c2">editEntryS</a>(<a class="code" href="classQListViewItem.html">QListViewItem</a>*)));
<a name="l00435"></a>00435   connect(<a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>, SIGNAL(returnPressed(<a class="code" href="classQListViewItem.html">QListViewItem</a>*)), SLOT(<a class="code" href="classSBStuffSources.html#a37683679dd5d523be9a4fa4e6be9a08e">editEntryA</a>(<a class="code" href="classQListViewItem.html">QListViewItem</a>*)));
<a name="l00436"></a>00436 
<a name="l00437"></a>00437   <a class="code" href="classSBStuffSources.html#a856dc6aadd915ad066eb5aba5ceb49c2">isModifiedCRF</a> = FALSE;
<a name="l00438"></a>00438 };
<a name="l00439"></a>00439 
<a name="l00440"></a><a class="code" href="classSBStuffSources.html#a2ab0e8756807f875e4a328c82462410b">00440</a> <a class="code" href="classSBStuffSources.html#a2ab0e8756807f875e4a328c82462410b">SBStuffSources::~SBStuffSources</a>()
<a name="l00441"></a>00441 {
<a name="l00442"></a>00442   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>) 
<a name="l00443"></a>00443     {
<a name="l00444"></a>00444       <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSB__CRF.html#accad5f7607b9ff9bd0afd274ed6d3daf">releaseAliases4Output</a>();
<a name="l00445"></a>00445       <span class="keyword">delete</span> <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>;
<a name="l00446"></a>00446     };
<a name="l00447"></a>00447 };
<a name="l00448"></a>00448 
<a name="l00449"></a><a class="code" href="classSBStuffSources.html#a3ddb5a471973da1be4c6f77abfaae108">00449</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#a3ddb5a471973da1be4c6f77abfaae108">SBStuffSources::accept</a>()
<a name="l00450"></a>00450 {
<a name="l00451"></a>00451   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>) <span class="keywordflow">return</span>; <span class="comment">//there are open windows dependent upon us..</span>
<a name="l00452"></a>00452 
<a name="l00453"></a>00453   <span class="keywordtype">bool</span>          isNeed2Save = <a class="code" href="classSBStuffSources.html#a856dc6aadd915ad066eb5aba5ceb49c2">isModifiedCRF</a>;
<a name="l00454"></a>00454   QString       a;
<a name="l00455"></a>00455   <a class="code" href="classSBMJD.html">SBMJD</a>         date;
<a name="l00456"></a>00456 
<a name="l00457"></a>00457   <a class="code" href="classSBStuffSources.html#a3ddb5a471973da1be4c6f77abfaae108">QDialog::accept</a>();
<a name="l00458"></a>00458 
<a name="l00459"></a>00459   <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> = <a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a>-&gt;text();
<a name="l00460"></a>00460   <a class="code" href="classSBSolutionName.html">SBSolutionName</a> *w = <span class="keyword">new</span> <a class="code" href="classSBSolutionName.html">SBSolutionName</a>(<a class="code" href="classSBSolutionName.html#a6f8ad11802b7f643d558b8c4f19b80a7a58650b479a8544c35c1412c17bcbd7e8">SBSolutionName::TYPE_RSC</a>);
<a name="l00461"></a>00461   w-&gt;<a class="code" href="classSBSolutionName.html#ac472e25feb184c43954df5909bc9f682">fromString</a>(<a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>);
<a name="l00462"></a>00462   <span class="keywordflow">if</span> (*w!=<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#afd4ba0d6fbfba0d0be6d622fdadbd9f4">label</a>())
<a name="l00463"></a>00463     {
<a name="l00464"></a>00464       <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a35ffa4b5de19fb0592eb181e4572046a">setLabel</a>(*w);
<a name="l00465"></a>00465       isNeed2Save = TRUE;
<a name="l00466"></a>00466     };
<a name="l00467"></a>00467   <span class="keyword">delete</span> w;
<a name="l00468"></a>00468 
<a name="l00469"></a>00469   <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> = <a class="code" href="classSBStuffSources.html#a39baab5ecd3790c753c0952ccdbb0baf">CRFEpoch</a>-&gt;text();
<a name="l00470"></a>00470   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#af329a6ccc64dabc88a1213a67a9dff0e">epoch</a>().<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcbab83f6990e77bb4d64abaee4bfa1d4f56">SBMJD::F_Year</a>) != <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>)
<a name="l00471"></a>00471     {
<a name="l00472"></a>00472       date.<a class="code" href="classSBMJD.html#a30c5bdbab363c4e3b857b0ce603687c8">setMJD</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcbab83f6990e77bb4d64abaee4bfa1d4f56">SBMJD::F_Year</a>, <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>);
<a name="l00473"></a>00473       <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a42781c531da326c713e18930386c8faa">setEpoch</a>(date);
<a name="l00474"></a>00474       isNeed2Save = TRUE;
<a name="l00475"></a>00475     };
<a name="l00476"></a>00476 
<a name="l00477"></a>00477   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a68a953e451410c1890d5e48b0a6d90cc">comment</a>() != <a class="code" href="classSBStuffSources.html#af2ba3e8c17f35236c29ca6e38a262fd5">CRFComment</a>-&gt;text())
<a name="l00478"></a>00478     {
<a name="l00479"></a>00479       <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a5bca47c6fa1aac424a5b07688813dae3">setComment</a>(<a class="code" href="classSBStuffSources.html#af2ba3e8c17f35236c29ca6e38a262fd5">CRFComment</a>-&gt;text());
<a name="l00480"></a>00480       isNeed2Save = TRUE;
<a name="l00481"></a>00481     };
<a name="l00482"></a>00482 
<a name="l00483"></a>00483   <span class="keywordflow">if</span> (isNeed2Save) <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#aa6a4ed0ff9d60c50f71b1bd1b7b4d9e1">saveCRF</a>(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>);
<a name="l00484"></a>00484   <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l00485"></a>00485 };
<a name="l00486"></a>00486 
<a name="l00487"></a><a class="code" href="classSBStuffSources.html#a7cf702f1ea5c16e9c6caad8121e071b0">00487</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#a7cf702f1ea5c16e9c6caad8121e071b0">SBStuffSources::reject</a>() 
<a name="l00488"></a>00488 {
<a name="l00489"></a>00489   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>) <span class="keywordflow">return</span>;
<a name="l00490"></a>00490   
<a name="l00491"></a>00491   <a class="code" href="classSBStuffSources.html#a7cf702f1ea5c16e9c6caad8121e071b0">QDialog::reject</a>();
<a name="l00492"></a>00492   <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l00493"></a>00493 };
<a name="l00494"></a>00494 
<a name="l00495"></a><a class="code" href="classSBStuffSources.html#ae19d978118d7fbc4760ceab86b15126c">00495</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#ae19d978118d7fbc4760ceab86b15126c">SBStuffSources::reloadCRF</a>()
<a name="l00496"></a>00496 {
<a name="l00497"></a>00497   <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a> -&gt; clear();
<a name="l00498"></a>00498   <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a> -&gt; clear();
<a name="l00499"></a>00499   
<a name="l00500"></a>00500   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>) <span class="keyword">delete</span> <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>;
<a name="l00501"></a>00501   <span class="keywordflow">if</span> (!(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>=<a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#ae41bc00423ba862ed9676712f5adb589">loadCRF</a>())) <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a> = <span class="keyword">new</span> <a class="code" href="classSB__CRF.html">SB_CRF</a>;
<a name="l00502"></a>00502   <span class="comment">//  if (!Wcrf-&gt;count()) Wcrf-&gt;inSort(new SBSource(&quot;0000+000&quot;, 0.0, 0.0));</span>
<a name="l00503"></a>00503   <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSB__CRF.html#aa85fdeb38926b0865d49b54c647edf4e">prepareAliases4Output</a>();
<a name="l00504"></a>00504 
<a name="l00505"></a>00505   <span class="comment">// redraw aliases:</span>
<a name="l00506"></a>00506   QDictIterator&lt;QString&gt; it(*<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>());
<a name="l00507"></a>00507   <span class="keywordflow">while</span> (it.current())
<a name="l00508"></a>00508     {
<a name="l00509"></a>00509       (void) <span class="keyword">new</span> <a class="code" href="classSBAliasListItem.html">SBAliasListItem</a>(<a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>, QString(it.currentKey()), *it.current());
<a name="l00510"></a>00510       ++it;
<a name="l00511"></a>00511     };
<a name="l00512"></a>00512   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;count() &amp;&amp; <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>-&gt;firstChild())
<a name="l00513"></a>00513     <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>-&gt;setSelected(<a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>-&gt;firstChild(), TRUE);
<a name="l00514"></a>00514 
<a name="l00515"></a>00515   <span class="comment">// redraw sources:</span>
<a name="l00516"></a>00516   <span class="keywordflow">for</span> (<a class="code" href="classSBSource.html">SBSource</a>* W=<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSB__CRF.html#ab311aace24dcbe44d4a63b7cd354482d">first</a>(); W; W=<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSB__CRF.html#a1bf84a96ab2e1adb1d327c7d4f0ae380">next</a>())
<a name="l00517"></a>00517     (<span class="keywordtype">void</span>) <span class="keyword">new</span> <a class="code" href="classSBSourceListItem.html">SBSourceListItem</a>(<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>, W);
<a name="l00518"></a>00518   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>-&gt;firstChild())
<a name="l00519"></a>00519     <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>-&gt;setSelected(<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>-&gt;firstChild(), TRUE);
<a name="l00520"></a>00520     
<a name="l00521"></a>00521   <a class="code" href="classSBStuffSources.html#a006556eabc94939a28cbef87af014c7c">drawInfo</a>();
<a name="l00522"></a>00522 };
<a name="l00523"></a>00523 
<a name="l00524"></a><a class="code" href="classSBStuffSources.html#a006556eabc94939a28cbef87af014c7c">00524</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#a006556eabc94939a28cbef87af014c7c">SBStuffSources::drawInfo</a>()
<a name="l00525"></a>00525 {
<a name="l00526"></a>00526   <a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a> -&gt; setText(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#afd4ba0d6fbfba0d0be6d622fdadbd9f4">label</a>().<a class="code" href="classSBSolutionName.html#a192f5de8c5899ff03a8943fd91f5c50d">toString</a>());
<a name="l00527"></a>00527   <a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a> -&gt; setMinimumHeight(<a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a>-&gt;sizeHint().height());
<a name="l00528"></a>00528   <a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a> -&gt; setMinimumWidth(<a class="code" href="classSBStuffSources.html#a67035c68e2b0680b5fef0bb3896a4ba5">CRFLabel</a>-&gt;fontMetrics().width(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#afd4ba0d6fbfba0d0be6d622fdadbd9f4">label</a>().<a class="code" href="classSBSolutionName.html#a192f5de8c5899ff03a8943fd91f5c50d">toString</a>())+10);
<a name="l00529"></a>00529   <a class="code" href="classSBStuffSources.html#a39baab5ecd3790c753c0952ccdbb0baf">CRFEpoch</a> -&gt; setText(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#af329a6ccc64dabc88a1213a67a9dff0e">epoch</a>().<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcbab83f6990e77bb4d64abaee4bfa1d4f56">SBMJD::F_Year</a>));
<a name="l00530"></a>00530   <a class="code" href="classSBStuffSources.html#af2ba3e8c17f35236c29ca6e38a262fd5">CRFComment</a> -&gt; setText(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a68a953e451410c1890d5e48b0a6d90cc">comment</a>());
<a name="l00531"></a>00531 
<a name="l00532"></a>00532   <a class="code" href="classSBStuffSources.html#a8e285e4fde0c6fb62f540467d5f75729">NumSA</a> -&gt; setText(<a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>.sprintf(<span class="stringliteral">&quot; %d/%d&quot;</span>, <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;count(), <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;count()));
<a name="l00533"></a>00533 };
<a name="l00534"></a>00534 
<a name="l00535"></a><a class="code" href="classSBStuffSources.html#a43b4c0e07210c35c8ef7e93af889f5a2">00535</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#a43b4c0e07210c35c8ef7e93af889f5a2">SBStuffSources::importData</a>()
<a name="l00536"></a>00536 {
<a name="l00537"></a>00537   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>) <span class="keywordflow">return</span>; <span class="comment">//there are dependants..</span>
<a name="l00538"></a>00538   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: SBStuffSourceImport selected&quot;</span>);
<a name="l00539"></a>00539 
<a name="l00540"></a>00540   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#a856dc6aadd915ad066eb5aba5ceb49c2">isModifiedCRF</a>) 
<a name="l00541"></a>00541     {
<a name="l00542"></a>00542       <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#aa6a4ed0ff9d60c50f71b1bd1b7b4d9e1">saveCRF</a>(<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>);
<a name="l00543"></a>00543       <a class="code" href="classSBStuffSources.html#a856dc6aadd915ad066eb5aba5ceb49c2">isModifiedCRF</a> = FALSE;
<a name="l00544"></a>00544     };
<a name="l00545"></a>00545 
<a name="l00546"></a>00546   <span class="comment">//  SBStuffSourcesImport *importWin = new SBStuffSourcesImport(this, 0, TRUE);</span>
<a name="l00547"></a>00547   <span class="comment">//  connect (importWin, SIGNAL(SourcesImported()), SLOT(reloadCRF()));</span>
<a name="l00548"></a>00548   <span class="comment">//  importWin-&gt;exec();</span>
<a name="l00549"></a>00549   <span class="comment">//  delete importWin;</span>
<a name="l00550"></a>00550   <a class="code" href="classSBSourceImport.html">SBSourceImport</a> *importWin = <span class="keyword">new</span> <a class="code" href="classSBSourceImport.html">SBSourceImport</a>();
<a name="l00551"></a>00551   connect (importWin, SIGNAL(sourcesImported()), SLOT(<a class="code" href="classSBStuffSources.html#ae19d978118d7fbc4760ceab86b15126c">reloadCRF</a>()));
<a name="l00552"></a>00552   importWin-&gt;show();
<a name="l00553"></a>00553 };
<a name="l00554"></a>00554 
<a name="l00555"></a><a class="code" href="classSBStuffSources.html#a51ae553bbf838fa943b46df7d5d2ff66">00555</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#a51ae553bbf838fa943b46df7d5d2ff66">SBStuffSources::exportData</a>()
<a name="l00556"></a>00556 {
<a name="l00557"></a>00557   QFile         f;
<a name="l00558"></a>00558   <a class="code" href="classQTextStream.html">QTextStream</a>   *s;
<a name="l00559"></a>00559   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: SBStuffSourceExport selected&quot;</span>);
<a name="l00560"></a>00560 
<a name="l00561"></a>00561   f.setName(<a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a4555ed8611ed8ab9fd711719e8d9844f">path2Output</a>() + <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a636348061ac438c6cbbd5f5ae37effef">sources</a>() + <span class="stringliteral">&quot;.rsc&quot;</span>);
<a name="l00562"></a>00562   <span class="keywordflow">if</span> (f.open(IO_WriteOnly))
<a name="l00563"></a>00563     {      
<a name="l00564"></a>00564       s = <span class="keyword">new</span> <a class="code" href="classSBTS__rsc.html">SBTS_rsc</a>;
<a name="l00565"></a>00565       s-&gt;setDevice(&amp;f);
<a name="l00566"></a>00566       *(<a class="code" href="classSBTS__rsc.html">SBTS_rsc</a>*)s &lt;&lt; *<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>;
<a name="l00567"></a>00567       f.close();
<a name="l00568"></a>00568       s-&gt;unsetDevice();
<a name="l00569"></a>00569       <span class="keywordflow">if</span> (s) <span class="keyword">delete</span> s;
<a name="l00570"></a>00570       <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: file &quot;</span> + (QString)f.name() + 
<a name="l00571"></a>00571                  <span class="stringliteral">&quot; has been saved&quot;</span>);
<a name="l00572"></a>00572     }
<a name="l00573"></a>00573   <span class="keywordflow">else</span>    
<a name="l00574"></a>00574     <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08ae392bcd014a917ef24fc1225292995b6">SBLog::ERR</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: could not write &quot;</span> + (QString)f.name());
<a name="l00575"></a>00575   
<a name="l00576"></a>00576 
<a name="l00577"></a>00577   f.setName(<a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a4555ed8611ed8ab9fd711719e8d9844f">path2Output</a>() + <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a636348061ac438c6cbbd5f5ae37effef">sources</a>() + <span class="stringliteral">&quot;.car&quot;</span>);
<a name="l00578"></a>00578   <span class="keywordflow">if</span> (f.open(IO_WriteOnly))
<a name="l00579"></a>00579     {      
<a name="l00580"></a>00580       s = <span class="keyword">new</span> <a class="code" href="classSBTS__car.html">SBTS_car</a>;
<a name="l00581"></a>00581       s-&gt;setDevice(&amp;f);
<a name="l00582"></a>00582       *(<a class="code" href="classSBTS__car.html">SBTS_car</a>*)s &lt;&lt; *<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>;
<a name="l00583"></a>00583       f.close();
<a name="l00584"></a>00584       s-&gt;unsetDevice();
<a name="l00585"></a>00585       <span class="keywordflow">if</span> (s) <span class="keyword">delete</span> s;
<a name="l00586"></a>00586       <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: file &quot;</span> + (QString)f.name() + 
<a name="l00587"></a>00587                  <span class="stringliteral">&quot; has been saved&quot;</span>);
<a name="l00588"></a>00588     }
<a name="l00589"></a>00589   <span class="keywordflow">else</span>    
<a name="l00590"></a>00590     <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08ae392bcd014a917ef24fc1225292995b6">SBLog::ERR</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: could not write &quot;</span> + (QString)f.name());
<a name="l00591"></a>00591 
<a name="l00592"></a>00592   f.setName(<a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a4555ed8611ed8ab9fd711719e8d9844f">path2Output</a>() + <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a636348061ac438c6cbbd5f5ae37effef">sources</a>() + <span class="stringliteral">&quot;.dico&quot;</span>);
<a name="l00593"></a>00593   <span class="keywordflow">if</span> (f.open(IO_WriteOnly))
<a name="l00594"></a>00594     {      
<a name="l00595"></a>00595       s = <span class="keyword">new</span> <a class="code" href="classSBTS__dico.html">SBTS_dico</a>;
<a name="l00596"></a>00596       s-&gt;setDevice(&amp;f);
<a name="l00597"></a>00597       *(<a class="code" href="classSBTS__dico.html">SBTS_dico</a>*)s &lt;&lt; *<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>;
<a name="l00598"></a>00598       f.close();
<a name="l00599"></a>00599       s-&gt;unsetDevice();
<a name="l00600"></a>00600       <span class="keywordflow">if</span> (s) <span class="keyword">delete</span> s;
<a name="l00601"></a>00601       <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: file &quot;</span> + (QString)f.name() + 
<a name="l00602"></a>00602                  <span class="stringliteral">&quot; has been saved&quot;</span>);
<a name="l00603"></a>00603     }
<a name="l00604"></a>00604   <span class="keywordflow">else</span>    
<a name="l00605"></a>00605     <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08ae392bcd014a917ef24fc1225292995b6">SBLog::ERR</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: could not write &quot;</span> + (QString)f.name());
<a name="l00606"></a>00606 
<a name="l00607"></a>00607 };
<a name="l00608"></a>00608 
<a name="l00609"></a><a class="code" href="classSBStuffSources.html#a37683679dd5d523be9a4fa4e6be9a08e">00609</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#a37683679dd5d523be9a4fa4e6be9a08e">SBStuffSources::editEntryA</a>(<a class="code" href="classQListViewItem.html">QListViewItem</a>* AkaItem)
<a name="l00610"></a>00610 {
<a name="l00611"></a>00611   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: SBStuffSourceEditAlias selected&quot;</span>);
<a name="l00612"></a>00612 
<a name="l00613"></a>00613   <a class="code" href="classSBAliasEditor.html">SBAliasEditor</a> *AEditor =  <span class="keyword">new</span> <a class="code" href="classSBAliasEditor.html">SBAliasEditor</a> ((<a class="code" href="classSBAliasListItem.html">SBAliasListItem</a>*)AkaItem, <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>);
<a name="l00614"></a>00614   connect (AEditor, SIGNAL(AliasModified(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBStuffSources.html#a1ed6bc34ae0be844564fd608c4187e1b">CRFModified</a>(<span class="keywordtype">bool</span>)));
<a name="l00615"></a>00615   <a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>++;
<a name="l00616"></a>00616   AEditor-&gt;show();
<a name="l00617"></a>00617 };
<a name="l00618"></a>00618 
<a name="l00619"></a><a class="code" href="classSBStuffSources.html#a27435bd56384f8b05d1d475fb9da9f66">00619</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#a27435bd56384f8b05d1d475fb9da9f66">SBStuffSources::insertEntryA</a>()
<a name="l00620"></a>00620 {  
<a name="l00621"></a>00621   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: SBStuffSourceInsertAlias selected&quot;</span>);
<a name="l00622"></a>00622 
<a name="l00623"></a>00623   <a class="code" href="classSBAliasEditor.html">SBAliasEditor</a> *AEditor =  <span class="keyword">new</span> <a class="code" href="classSBAliasEditor.html">SBAliasEditor</a> (<a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>, <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>);
<a name="l00624"></a>00624   connect (AEditor, SIGNAL(AliasModified(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBStuffSources.html#a1ed6bc34ae0be844564fd608c4187e1b">CRFModified</a>(<span class="keywordtype">bool</span>)));
<a name="l00625"></a>00625   <a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>++;
<a name="l00626"></a>00626   AEditor-&gt;show();
<a name="l00627"></a>00627 };
<a name="l00628"></a>00628 
<a name="l00629"></a><a class="code" href="classSBStuffSources.html#adf83e96036912b0a2fcaf7097e2a4cc9">00629</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#adf83e96036912b0a2fcaf7097e2a4cc9">SBStuffSources::deleteEntryA</a>()
<a name="l00630"></a>00630 {
<a name="l00631"></a>00631   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: SBStuffSourceDeleteAlias selected&quot;</span>);
<a name="l00632"></a>00632   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>) <span class="keywordflow">return</span>; <span class="comment">//to avoid deletion of an entry being edited..</span>
<a name="l00633"></a>00633 
<a name="l00634"></a>00634   <a class="code" href="classSBAliasListItem.html">SBAliasListItem</a>* AkaItem = (<a class="code" href="classSBAliasListItem.html">SBAliasListItem</a>*)<a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>-&gt;currentItem();
<a name="l00635"></a>00635   <span class="keywordflow">if</span> (AkaItem)
<a name="l00636"></a>00636     {
<a name="l00637"></a>00637       <a class="code" href="classQListViewItem.html">QListViewItem</a>* AkaNextItem = AkaItem-&gt;itemBelow();
<a name="l00638"></a>00638       <span class="keywordflow">if</span> (!AkaNextItem) AkaNextItem = AkaItem-&gt;itemAbove();
<a name="l00639"></a>00639       <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> = (AkaItem-&gt;<a class="code" href="classSBAliasListItem.html#a7044813e82a7159cc1c6c35b09a56832">Alias</a> + <span class="stringliteral">&quot;&lt;--&gt;&quot;</span> + AkaItem-&gt;<a class="code" href="classSBAliasListItem.html#a41c909ea4046625df4bf637c36f95e8a">Reference</a>).copy();
<a name="l00640"></a>00640       <span class="keywordflow">if</span> (!QMessageBox::warning(<span class="keyword">this</span>, <span class="stringliteral">&quot;Delete?&quot;</span>, <span class="stringliteral">&quot;Are you sure to delete an alias entry\n \&quot;&quot;</span>
<a name="l00641"></a>00641                                 + <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> + <span class="stringliteral">&quot;\&quot;?\n&quot;</span>, <span class="stringliteral">&quot;Yes, del them!&quot;</span>, <span class="stringliteral">&quot;No, let it live..&quot;</span>))
<a name="l00642"></a>00642         {
<a name="l00643"></a>00643           <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;remove(<a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>.left(8)))
<a name="l00644"></a>00644             {
<a name="l00645"></a>00645               <span class="keyword">delete</span> AkaItem;
<a name="l00646"></a>00646               <span class="keywordflow">if</span> (AkaNextItem) <a class="code" href="classSBStuffSources.html#a1d04a34522e93785007aa6d11acc6312">AliasesLV</a>-&gt;setSelected(AkaNextItem, TRUE);
<a name="l00647"></a>00647               <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + 
<a name="l00648"></a>00648                          <span class="stringliteral">&quot;: &quot;</span> + <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> + <span class="stringliteral">&quot;, rest in peace..&quot;</span>);
<a name="l00649"></a>00649               <a class="code" href="classSBStuffSources.html#a856dc6aadd915ad066eb5aba5ceb49c2">isModifiedCRF</a> = TRUE;
<a name="l00650"></a>00650               <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>.sprintf(<span class="stringliteral">&quot;%d/%d&quot;</span>, <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;count(), <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;count());
<a name="l00651"></a>00651               <a class="code" href="classSBStuffSources.html#a8e285e4fde0c6fb62f540467d5f75729">NumSA</a> -&gt; setText(<a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>);
<a name="l00652"></a>00652             }
<a name="l00653"></a>00653           <span class="keywordflow">else</span>
<a name="l00654"></a>00654             <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08ae392bcd014a917ef24fc1225292995b6">SBLog::ERR</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + 
<a name="l00655"></a>00655                        <span class="stringliteral">&quot;: `&quot;</span> + <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> + <span class="stringliteral">&quot;&#39; not found in aliases&quot;</span>);
<a name="l00656"></a>00656         }
<a name="l00657"></a>00657       <span class="keywordflow">else</span>
<a name="l00658"></a>00658         <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() +  
<a name="l00659"></a>00659                    <span class="stringliteral">&quot;: relax, `&quot;</span> + <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> + <span class="stringliteral">&quot;&#39;, it&#39;s just a joke.. &quot;</span>);
<a name="l00660"></a>00660     };
<a name="l00661"></a>00661 };
<a name="l00662"></a>00662 
<a name="l00663"></a><a class="code" href="classSBStuffSources.html#ad0a67d4cdea83128a3f7f6e9ed9d46c2">00663</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#ad0a67d4cdea83128a3f7f6e9ed9d46c2">SBStuffSources::editEntryS</a>(<a class="code" href="classQListViewItem.html">QListViewItem</a>* SrcItem)
<a name="l00664"></a>00664 {
<a name="l00665"></a>00665   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: SBStuffSourceEditSource selected&quot;</span>);
<a name="l00666"></a>00666 
<a name="l00667"></a>00667   <a class="code" href="classSBSourceEditor.html">SBSourceEditor</a> *SEditor =  <span class="keyword">new</span> <a class="code" href="classSBSourceEditor.html">SBSourceEditor</a>((<a class="code" href="classSBSourceListItem.html">SBSourceListItem</a>*)SrcItem);
<a name="l00668"></a>00668   connect (SEditor, SIGNAL(SourceModified(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBStuffSources.html#a1ed6bc34ae0be844564fd608c4187e1b">CRFModified</a>(<span class="keywordtype">bool</span>)));
<a name="l00669"></a>00669   <a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>++;
<a name="l00670"></a>00670   SEditor-&gt;show();
<a name="l00671"></a>00671 };
<a name="l00672"></a>00672 
<a name="l00673"></a><a class="code" href="classSBStuffSources.html#a14a5a93e84c84050a14ef2cffa253eae">00673</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#a14a5a93e84c84050a14ef2cffa253eae">SBStuffSources::insertEntryS</a>()
<a name="l00674"></a>00674 {  
<a name="l00675"></a>00675   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: SBStuffSourceInsertSource selected&quot;</span>);
<a name="l00676"></a>00676 
<a name="l00677"></a>00677   <a class="code" href="classSBSourceEditor.html">SBSourceEditor</a> *SEditor =  <span class="keyword">new</span> <a class="code" href="classSBSourceEditor.html">SBSourceEditor</a>(<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>, <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>);
<a name="l00678"></a>00678   connect (SEditor, SIGNAL(SourceModified(<span class="keywordtype">bool</span>)), SLOT(<a class="code" href="classSBStuffSources.html#a1ed6bc34ae0be844564fd608c4187e1b">CRFModified</a>(<span class="keywordtype">bool</span>)));
<a name="l00679"></a>00679   <a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>++;
<a name="l00680"></a>00680   SEditor-&gt;show();
<a name="l00681"></a>00681 };
<a name="l00682"></a>00682 
<a name="l00683"></a><a class="code" href="classSBStuffSources.html#a9e949472880179b047a4cbfa79213817">00683</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#a9e949472880179b047a4cbfa79213817">SBStuffSources::deleteEntryS</a>()
<a name="l00684"></a>00684 {
<a name="l00685"></a>00685   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: SBStuffSourceDeleteSource selected&quot;</span>);
<a name="l00686"></a>00686   <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>) <span class="keywordflow">return</span>; <span class="comment">//to avoid deletion of an entry being edited..</span>
<a name="l00687"></a>00687 
<a name="l00688"></a>00688   <a class="code" href="classSBSourceListItem.html">SBSourceListItem</a>* SrcItem = (<a class="code" href="classSBSourceListItem.html">SBSourceListItem</a>*)<a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>-&gt;currentItem();
<a name="l00689"></a>00689   <span class="keywordflow">if</span> (SrcItem)
<a name="l00690"></a>00690     {
<a name="l00691"></a>00691       <a class="code" href="classQListViewItem.html">QListViewItem</a>* SrcNextItem = SrcItem-&gt;itemBelow();
<a name="l00692"></a>00692       <span class="keywordflow">if</span> (!SrcNextItem) SrcNextItem = SrcItem-&gt;itemAbove();
<a name="l00693"></a>00693       <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> = SrcItem-&gt;<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>().copy();
<a name="l00694"></a>00694       <span class="keywordflow">if</span> (!QMessageBox::warning(<span class="keyword">this</span>, <span class="stringliteral">&quot;Delete?&quot;</span>, <span class="stringliteral">&quot;Are you sure to delete source entry\n \&quot;&quot;</span>
<a name="l00695"></a>00695                                 + <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> + <span class="stringliteral">&quot;\&quot;?\n&quot;</span>, <span class="stringliteral">&quot;Yes, del them!&quot;</span>, <span class="stringliteral">&quot;No, let it live..&quot;</span>))
<a name="l00696"></a>00696         {
<a name="l00697"></a>00697           <span class="keywordflow">if</span> (<a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a68e41a5d43ebad84e76854139545599e">remove</a>(SrcItem-&gt;<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>))
<a name="l00698"></a>00698             {
<a name="l00699"></a>00699               <span class="keyword">delete</span> SrcItem;
<a name="l00700"></a>00700               <span class="keywordflow">if</span> (SrcNextItem) <a class="code" href="classSBStuffSources.html#a24d1e1692494571319df4427f7198a6f">SourcesLV</a>-&gt;setSelected(SrcNextItem, TRUE);
<a name="l00701"></a>00701               <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + 
<a name="l00702"></a>00702                          <span class="stringliteral">&quot;: &quot;</span> + <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> + <span class="stringliteral">&quot;, rest in peace..&quot;</span>);
<a name="l00703"></a>00703               <a class="code" href="classSBStuffSources.html#a856dc6aadd915ad066eb5aba5ceb49c2">isModifiedCRF</a> = TRUE;
<a name="l00704"></a>00704               <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>.sprintf(<span class="stringliteral">&quot;%d/%d&quot;</span>, <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;count(), <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;count());
<a name="l00705"></a>00705               <a class="code" href="classSBStuffSources.html#a8e285e4fde0c6fb62f540467d5f75729">NumSA</a> -&gt; setText(<a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>);
<a name="l00706"></a>00706             }
<a name="l00707"></a>00707           <span class="keywordflow">else</span>
<a name="l00708"></a>00708             <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08ae392bcd014a917ef24fc1225292995b6">SBLog::ERR</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + 
<a name="l00709"></a>00709                        <span class="stringliteral">&quot;: &quot;</span> + <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> + <span class="stringliteral">&quot; not found in database&quot;</span>);
<a name="l00710"></a>00710         }
<a name="l00711"></a>00711       <span class="keywordflow">else</span>
<a name="l00712"></a>00712         <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBStuffSources.html#a611098d2cfcf36c541c8c39c030c81b1">ClassName</a>() + <span class="stringliteral">&quot;: relax, &quot;</span> + <a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a> + 
<a name="l00713"></a>00713                    <span class="stringliteral">&quot;, it&#39;s just a joke.. &quot;</span>);
<a name="l00714"></a>00714     };
<a name="l00715"></a>00715 };
<a name="l00716"></a>00716 
<a name="l00717"></a><a class="code" href="classSBStuffSources.html#a1ed6bc34ae0be844564fd608c4187e1b">00717</a> <span class="keywordtype">void</span> <a class="code" href="classSBStuffSources.html#a1ed6bc34ae0be844564fd608c4187e1b">SBStuffSources::CRFModified</a>(<span class="keywordtype">bool</span> Modified)
<a name="l00718"></a>00718 {
<a name="l00719"></a>00719   <span class="keywordflow">if</span> (!<a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>) 
<a name="l00720"></a>00720     std::cerr &lt;&lt; <span class="stringliteral">&quot;your Editor&#39;s windows are diyng more often than have been born\n&quot;</span>;
<a name="l00721"></a>00721   <a class="code" href="classSBStuffSources.html#add15a2e73a5c96d7164ecb4d41eaaa83">numOpenedWindows</a>--;
<a name="l00722"></a>00722   <span class="keywordflow">if</span> (Modified) 
<a name="l00723"></a>00723     {
<a name="l00724"></a>00724       <a class="code" href="classSBStuffSources.html#a856dc6aadd915ad066eb5aba5ceb49c2">isModifiedCRF</a> = TRUE;
<a name="l00725"></a>00725       <a class="code" href="classSBStuffSources.html#a8e285e4fde0c6fb62f540467d5f75729">NumSA</a>-&gt;setText(<a class="code" href="classSBStuffSources.html#a90a29867c8772daf9ffa2a15dd5522d4">str</a>.sprintf(<span class="stringliteral">&quot; %d/%d&quot;</span>, <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;count(), <a class="code" href="classSBStuffSources.html#aacf2ecd9b61c9685fcd543faec20dc88">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;count()));
<a name="l00726"></a>00726     };
<a name="l00727"></a>00727 };
<a name="l00728"></a>00728 <span class="comment">/*==============================================================================================*/</span>
<a name="l00729"></a>00729 
<a name="l00730"></a>00730 
<a name="l00731"></a>00731 
<a name="l00732"></a>00732 <span class="comment">/*==============================================================================================*/</span>
<a name="l00733"></a>00733 <span class="comment">/*                                                                                              */</span>
<a name="l00734"></a>00734 <span class="comment">/* SBSourceImport..                                                                             */</span>
<a name="l00735"></a>00735 <span class="comment">/*                                                                                              */</span>
<a name="l00736"></a>00736 <span class="comment">/*==============================================================================================*/</span>
<a name="l00737"></a><a class="code" href="classSBSourceImport.html#a840246be12fdc549e23d6c10dbecd81f">00737</a> <a class="code" href="classSBSourceImport.html#a840246be12fdc549e23d6c10dbecd81f">SBSourceImport::SBSourceImport</a>(<a class="code" href="classQWidget.html">QWidget</a>* parent, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> modal, WFlags f)
<a name="l00738"></a>00738   : <a class="code" href="classQWizard.html">QWizard</a>(parent, name, modal, f)
<a name="l00739"></a>00739 {
<a name="l00740"></a>00740   <a class="code" href="classSBSourceImport.html#ad0b677423b2762bf3448d5957fb6be0f">FFormat</a> = <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358a1d9beac8ef77d93d9d6ac2dcf43fe0c3">F_UNKN</a>;
<a name="l00741"></a>00741   <a class="code" href="classSBSourceImport.html#a8c3321a88bca1f07e36deb22af7d5515">Mode</a>    = <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554ad9d425d66b2ed00e57e2390b320b5486">REPLACE</a>;
<a name="l00742"></a>00742 
<a name="l00743"></a>00743   <a class="code" href="classSBSourceImport.html#a03f9649f131aabd8f250dbdee2bf138e">setupPage1</a>();
<a name="l00744"></a>00744   <a class="code" href="classSBSourceImport.html#af2cb0b4ae80344b2f699a3e62202c52d">setupPage2_1</a>();
<a name="l00745"></a>00745   <a class="code" href="classSBSourceImport.html#a27b0450f7ed7df33380c7f2f0f4a33a6">setupPage2_2</a>();
<a name="l00746"></a>00746   <a class="code" href="classSBSourceImport.html#a62c4265c2a148a8644e57bc4d9978d64">setupPage2_3</a>();
<a name="l00747"></a>00747   <a class="code" href="classSBSourceImport.html#af72be17b6c79d77c9f560e5ce02a83ce">setupPage3</a>();
<a name="l00748"></a>00748 };
<a name="l00749"></a>00749 
<a name="l00750"></a><a class="code" href="classSBSourceImport.html#a3e19fd02e4ce6aee6d03fef1d44f1ef5">00750</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a3e19fd02e4ce6aee6d03fef1d44f1ef5">SBSourceImport::formatChanged</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)
<a name="l00751"></a>00751 {
<a name="l00752"></a>00752   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>)
<a name="l00753"></a>00753     setAppropriate(<a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>, FALSE);
<a name="l00754"></a>00754   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>)
<a name="l00755"></a>00755     setAppropriate(<a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>, FALSE);
<a name="l00756"></a>00756   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>)
<a name="l00757"></a>00757     setAppropriate(<a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>, FALSE);
<a name="l00758"></a>00758 
<a name="l00759"></a>00759   <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>)
<a name="l00760"></a>00760     {
<a name="l00761"></a>00761     <span class="keywordflow">case</span> 0:   
<a name="l00762"></a>00762       <a class="code" href="classSBSourceImport.html#ad0b677423b2762bf3448d5957fb6be0f">FFormat</a> = <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358a1508f870167a06788a0aaecd0dcfdadd">F_ICRF95</a>;
<a name="l00763"></a>00763       <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>)
<a name="l00764"></a>00764         setAppropriate(<a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>, TRUE);
<a name="l00765"></a>00765       <span class="keywordflow">break</span>;
<a name="l00766"></a>00766     <span class="keywordflow">case</span> 1:   
<a name="l00767"></a>00767       <a class="code" href="classSBSourceImport.html#ad0b677423b2762bf3448d5957fb6be0f">FFormat</a> = <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358a025462169483beec7bd82cd0a3c5b702">F_ICRF99</a>;
<a name="l00768"></a>00768       <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>)
<a name="l00769"></a>00769         setAppropriate(<a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>, TRUE);
<a name="l00770"></a>00770       <span class="keywordflow">break</span>;
<a name="l00771"></a>00771     <span class="keywordflow">case</span> 2:
<a name="l00772"></a>00772       <a class="code" href="classSBSourceImport.html#ad0b677423b2762bf3448d5957fb6be0f">FFormat</a> = <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358ab0f7481b0f5ce6491f778d5aa68a647c">F_ICRF2009</a>;
<a name="l00773"></a>00773       <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>)
<a name="l00774"></a>00774         setAppropriate(<a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>, TRUE);
<a name="l00775"></a>00775       <span class="keywordflow">break</span>;
<a name="l00776"></a>00776     <span class="keywordflow">default</span>:  <a class="code" href="classSBSourceImport.html#ad0b677423b2762bf3448d5957fb6be0f">FFormat</a> = <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358a1d9beac8ef77d93d9d6ac2dcf43fe0c3">F_UNKN</a>;
<a name="l00777"></a>00777       <span class="keywordflow">break</span>;
<a name="l00778"></a>00778     };
<a name="l00779"></a>00779   
<a name="l00780"></a>00780   <span class="keywordflow">if</span> ( (<a class="code" href="classSBSourceImport.html#ad0b677423b2762bf3448d5957fb6be0f">FFormat</a> != <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358a1d9beac8ef77d93d9d6ac2dcf43fe0c3">F_UNKN</a>) )
<a name="l00781"></a>00781     setNextEnabled(<a class="code" href="classSBSourceImport.html#a799e3bf25964615d1c57eb198b9a7647">page1</a>, TRUE);
<a name="l00782"></a>00782   <span class="keywordflow">else</span>
<a name="l00783"></a>00783     setNextEnabled(<a class="code" href="classSBSourceImport.html#a799e3bf25964615d1c57eb198b9a7647">page1</a>, FALSE);
<a name="l00784"></a>00784 };
<a name="l00785"></a>00785 
<a name="l00786"></a><a class="code" href="classSBSourceImport.html#a985111ad29030a613bac7125636a70e1">00786</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a985111ad29030a613bac7125636a70e1">SBSourceImport::modeChanged</a>(<span class="keywordtype">int</span> <span class="keywordtype">id</span>)
<a name="l00787"></a>00787 {
<a name="l00788"></a>00788   <span class="keywordflow">switch</span> (<span class="keywordtype">id</span>)
<a name="l00789"></a>00789     {
<a name="l00790"></a>00790     <span class="keywordflow">case</span> 0:   <a class="code" href="classSBSourceImport.html#a8c3321a88bca1f07e36deb22af7d5515">Mode</a> = <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554ad9d425d66b2ed00e57e2390b320b5486">REPLACE</a>;
<a name="l00791"></a>00791       <span class="keywordflow">break</span>;
<a name="l00792"></a>00792     <span class="keywordflow">case</span> 1:   <a class="code" href="classSBSourceImport.html#a8c3321a88bca1f07e36deb22af7d5515">Mode</a> = <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554af56dd6d80d85071af36f09b8cfd213f8">APP_ONLY</a>;
<a name="l00793"></a>00793       <span class="keywordflow">break</span>;
<a name="l00794"></a>00794     <span class="keywordflow">case</span> 2:   <a class="code" href="classSBSourceImport.html#a8c3321a88bca1f07e36deb22af7d5515">Mode</a> = <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554a4a223739066a6cab0eebbf498be0b2d8">APP_UPD</a>;
<a name="l00795"></a>00795       <span class="keywordflow">break</span>;
<a name="l00796"></a>00796     <span class="keywordflow">case</span> 3:   <a class="code" href="classSBSourceImport.html#a8c3321a88bca1f07e36deb22af7d5515">Mode</a> = <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554a7d427e111f923d1f11848e2c2fea414b">UPD_ONLY</a>;
<a name="l00797"></a>00797       <span class="keywordflow">break</span>;
<a name="l00798"></a>00798     <span class="keywordflow">case</span> 4:   <a class="code" href="classSBSourceImport.html#a8c3321a88bca1f07e36deb22af7d5515">Mode</a> = <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554a5b58928ebb538a680bfd2145fd8b6cb4">UPD_COO_ONLY</a>;
<a name="l00799"></a>00799       <span class="keywordflow">break</span>;
<a name="l00800"></a>00800     };
<a name="l00801"></a>00801 };
<a name="l00802"></a>00802 
<a name="l00803"></a><a class="code" href="classSBSourceImport.html#aff738e8ffc86445e9954ecc8640ecd9a">00803</a> <span class="keywordtype">bool</span> <a class="code" href="classSBSourceImport.html#aff738e8ffc86445e9954ecc8640ecd9a">SBSourceImport::checkFileExists</a>(<span class="keyword">const</span> QString&amp; fil)
<a name="l00804"></a>00804 {
<a name="l00805"></a>00805   QDir dir(fil);
<a name="l00806"></a>00806   <span class="keywordflow">return</span> dir.exists(fil);
<a name="l00807"></a>00807 };
<a name="l00808"></a>00808 
<a name="l00809"></a><a class="code" href="classSBSourceImport.html#a03f9649f131aabd8f250dbdee2bf138e">00809</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a03f9649f131aabd8f250dbdee2bf138e">SBSourceImport::setupPage1</a>()
<a name="l00810"></a>00810 {
<a name="l00811"></a>00811   <span class="keyword">const</span> <span class="keywordtype">int</span> NumOfFormat = 3;
<a name="l00812"></a>00812   <span class="keyword">static</span> <span class="keyword">const</span> QString sFormat[]=
<a name="l00813"></a>00813   {
<a name="l00814"></a>00814     <span class="stringliteral">&quot;Source coordinates in \&quot;RSC(WGRF)95R01-solution\&quot; format&quot;</span>,
<a name="l00815"></a>00815     <span class="stringliteral">&quot;Source coordinates in \&quot;RSC(WGRF)99R01-solution\&quot; format&quot;</span>,
<a name="l00816"></a>00816     <span class="stringliteral">&quot;Source coordinates in \&quot;would to be ICRF2\&quot; format&quot;</span>,
<a name="l00817"></a>00817   };
<a name="l00818"></a>00818   QRadioButton  *rbFormat[NumOfFormat];
<a name="l00819"></a>00819 
<a name="l00820"></a>00820   <a class="code" href="classSBSourceImport.html#a799e3bf25964615d1c57eb198b9a7647">page1</a> = <span class="keyword">new</span> <a class="code" href="classQWidget.html">QWidget</a>(<span class="keyword">this</span>);
<a name="l00821"></a>00821 
<a name="l00822"></a>00822   QBoxLayout *Layout    = <span class="keyword">new</span> QVBoxLayout(<a class="code" href="classSBSourceImport.html#a799e3bf25964615d1c57eb198b9a7647">page1</a>, 20,10);
<a name="l00823"></a>00823 
<a name="l00824"></a>00824   QButtonGroup *gbox = <span class="keyword">new</span> QVButtonGroup(<span class="stringliteral">&quot;CRF known formats&quot;</span>, <a class="code" href="classSBSourceImport.html#a799e3bf25964615d1c57eb198b9a7647">page1</a>);
<a name="l00825"></a>00825   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;NumOfFormat; i++)
<a name="l00826"></a>00826     {
<a name="l00827"></a>00827       rbFormat[i] = <span class="keyword">new</span> QRadioButton(sFormat[i], gbox);
<a name="l00828"></a>00828       rbFormat[i] -&gt; setMinimumSize(rbFormat[i]-&gt;sizeHint());
<a name="l00829"></a>00829     };
<a name="l00830"></a>00830 
<a name="l00831"></a>00831   Layout-&gt;addStretch(1);
<a name="l00832"></a>00832   Layout-&gt;addWidget(gbox);
<a name="l00833"></a>00833   Layout-&gt;addStretch(1);
<a name="l00834"></a>00834   
<a name="l00835"></a>00835   Layout-&gt;activate();
<a name="l00836"></a>00836   addPage(<a class="code" href="classSBSourceImport.html#a799e3bf25964615d1c57eb198b9a7647">page1</a>, <span class="stringliteral">&quot;Select format of imported files&quot;</span>);
<a name="l00837"></a>00837   
<a name="l00838"></a>00838   connect (gbox, SIGNAL(clicked(<span class="keywordtype">int</span>)), <span class="keyword">this</span>, SLOT(<a class="code" href="classSBSourceImport.html#a3e19fd02e4ce6aee6d03fef1d44f1ef5">formatChanged</a>(<span class="keywordtype">int</span>)));
<a name="l00839"></a>00839   setNextEnabled(<a class="code" href="classSBSourceImport.html#a799e3bf25964615d1c57eb198b9a7647">page1</a>, FALSE);
<a name="l00840"></a>00840 };
<a name="l00841"></a>00841 
<a name="l00842"></a><a class="code" href="classSBSourceImport.html#af2cb0b4ae80344b2f699a3e62202c52d">00842</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#af2cb0b4ae80344b2f699a3e62202c52d">SBSourceImport::setupPage2_1</a>()
<a name="l00843"></a>00843 {
<a name="l00844"></a>00844   <span class="keywordtype">bool</span>          IsNextEnabled = TRUE;
<a name="l00845"></a>00845   <span class="keyword">static</span> <span class="keywordtype">int</span>    NumOfFiles = 3;
<a name="l00846"></a>00846   <span class="keyword">static</span> <span class="keyword">const</span>  QString LabelCB[]=
<a name="l00847"></a>00847   {
<a name="l00848"></a>00848     <span class="stringliteral">&quot;RSC file:&quot;</span>,
<a name="l00849"></a>00849     <span class="stringliteral">&quot;CAR file:&quot;</span>,
<a name="l00850"></a>00850     <span class="stringliteral">&quot;DICO file:&quot;</span>
<a name="l00851"></a>00851   };
<a name="l00852"></a>00852   <span class="keyword">static</span> <span class="keyword">const</span> QString ImportFile[] = {<span class="stringliteral">&quot;icrf.rsc&quot;</span>, <span class="stringliteral">&quot;icrf.car&quot;</span>, <span class="stringliteral">&quot;icrf.dico&quot;</span>};
<a name="l00853"></a>00853 
<a name="l00854"></a>00854   <a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a> = <span class="keyword">new</span> <a class="code" href="classQWidget.html">QWidget</a>(<span class="keyword">this</span>);
<a name="l00855"></a>00855   QGridLayout *grid = <span class="keyword">new</span> QGridLayout(<a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>,  NumOfFiles+2,3,  20, 5);
<a name="l00856"></a>00856   
<a name="l00857"></a>00857   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;NumOfFiles; i++)
<a name="l00858"></a>00858     {
<a name="l00859"></a>00859       <a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[i] = <span class="keyword">new</span> QCheckBox(LabelCB[i], <a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>);
<a name="l00860"></a>00860       <a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[i] -&gt; setChecked(TRUE);
<a name="l00861"></a>00861       <a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[i] -&gt; setMinimumSize(<a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[i]-&gt;sizeHint());
<a name="l00862"></a>00862       <a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[i] -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l00863"></a>00863       grid -&gt; addWidget(<a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[i], i+1, 0);
<a name="l00864"></a>00864       
<a name="l00865"></a>00865       <a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[i] = <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a0848543dce815bd9b934cb1b96e8a15d">path2ImpICRF</a>() + <span class="stringliteral">&quot;icrf_rsc/&quot;</span> + ImportFile[i];
<a name="l00866"></a>00866       
<a name="l00867"></a>00867       <a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[i] = <span class="keyword">new</span> QLineEdit(<a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>);
<a name="l00868"></a>00868       <a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[i] -&gt; setText(<a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[i]);
<a name="l00869"></a>00869       <a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[i] -&gt; setMinimumHeight(<a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[i]-&gt;sizeHint().height());
<a name="l00870"></a>00870       <a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[i] -&gt; setMinimumWidth (<a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[i]-&gt;fontMetrics().width(<a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[i]) + 50);
<a name="l00871"></a>00871       grid -&gt; addWidget(<a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[i], i+1, 1);
<a name="l00872"></a>00872       
<a name="l00873"></a>00873       <a class="code" href="classSBSourceImport.html#ae06e9253bf5fde29087b03ebd0f5ff56">bFile1995</a>[i] = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Select file..&quot;</span>, <a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>);
<a name="l00874"></a>00874       <a class="code" href="classSBSourceImport.html#ae06e9253bf5fde29087b03ebd0f5ff56">bFile1995</a>[i] -&gt; setMinimumSize(<a class="code" href="classSBSourceImport.html#ae06e9253bf5fde29087b03ebd0f5ff56">bFile1995</a>[i]-&gt;sizeHint());
<a name="l00875"></a>00875       <a class="code" href="classSBSourceImport.html#ae06e9253bf5fde29087b03ebd0f5ff56">bFile1995</a>[i] -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l00876"></a>00876       grid -&gt; addWidget(<a class="code" href="classSBSourceImport.html#ae06e9253bf5fde29087b03ebd0f5ff56">bFile1995</a>[i], i+1, 2);
<a name="l00877"></a>00877 
<a name="l00878"></a>00878       IsNextEnabled = IsNextEnabled &amp;&amp; <a class="code" href="classSBSourceImport.html#aff738e8ffc86445e9954ecc8640ecd9a">checkFileExists</a>(<a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[i]);
<a name="l00879"></a>00879     };
<a name="l00880"></a>00880   
<a name="l00881"></a>00881   connect(<a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[0],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#a51d1686e8452d84f656b234185c88a5a">setRSCstate1995</a> (<span class="keywordtype">bool</span>)));
<a name="l00882"></a>00882   connect(<a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[1],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#aca3e43fc862b9e60671472d68c1804e1">setCARstate1995</a> (<span class="keywordtype">bool</span>)));
<a name="l00883"></a>00883   connect(<a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[2],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#a933211f5dd64367b374c81931a211217">setDICOstate1995</a>(<span class="keywordtype">bool</span>)));
<a name="l00884"></a>00884 
<a name="l00885"></a>00885   connect(<a class="code" href="classSBSourceImport.html#ae06e9253bf5fde29087b03ebd0f5ff56">bFile1995</a>[0],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#ad5c2838a51b4b7bdf164362ff882fbce">selectRSCfile1995</a> ()));
<a name="l00886"></a>00886   connect(<a class="code" href="classSBSourceImport.html#ae06e9253bf5fde29087b03ebd0f5ff56">bFile1995</a>[1],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#a21cc7c9dc3812b712862f5cb43788c2b">selectCARfile1995</a> ()));
<a name="l00887"></a>00887   connect(<a class="code" href="classSBSourceImport.html#ae06e9253bf5fde29087b03ebd0f5ff56">bFile1995</a>[2],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#ac66769b97877a282b968e64063795edb">selectDICOfile1995</a>()));
<a name="l00888"></a>00888 
<a name="l00889"></a>00889   connect(<a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[0],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#a235b669e5e26ffc3649317cc8db09e93">fnRSCChanged1995</a> (<span class="keyword">const</span> QString&amp;)));
<a name="l00890"></a>00890   connect(<a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[1],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#ab2cffb76e3374acaf2386c99f2f64b0b">fnCARChanged1995</a> (<span class="keyword">const</span> QString&amp;)));
<a name="l00891"></a>00891   connect(<a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[2],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#a5eb3acd0209f2a2a8acb1bc38c306ba3">fnDICOChanged1995</a>(<span class="keyword">const</span> QString&amp;)));
<a name="l00892"></a>00892 
<a name="l00893"></a>00893   grid -&gt; setColStretch(1, 5);
<a name="l00894"></a>00894   grid -&gt; setRowStretch(0, 1);
<a name="l00895"></a>00895   grid -&gt; setRowStretch(NumOfFiles+1, 1);
<a name="l00896"></a>00896   grid -&gt; activate();
<a name="l00897"></a>00897 
<a name="l00898"></a>00898   addPage(<a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>, <span class="stringliteral">&quot;Files to Load&quot;</span>);
<a name="l00899"></a>00899   setNextEnabled(<a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>, IsNextEnabled);
<a name="l00900"></a>00900 };
<a name="l00901"></a>00901 
<a name="l00902"></a><a class="code" href="classSBSourceImport.html#a27b0450f7ed7df33380c7f2f0f4a33a6">00902</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a27b0450f7ed7df33380c7f2f0f4a33a6">SBSourceImport::setupPage2_2</a>()
<a name="l00903"></a>00903 {
<a name="l00904"></a>00904   <span class="keywordtype">bool</span>          IsNextEnabled=TRUE;
<a name="l00905"></a>00905   <span class="keyword">static</span> <span class="keywordtype">int</span>    NumOfFiles = 6;
<a name="l00906"></a>00906   <span class="keyword">static</span> <span class="keyword">const</span>  QString LabelCB[]=
<a name="l00907"></a>00907   {
<a name="l00908"></a>00908     <span class="stringliteral">&quot;RSC (defining) file:&quot;</span>,
<a name="l00909"></a>00909     <span class="stringliteral">&quot;RSC (candidate) file:&quot;</span>,
<a name="l00910"></a>00910     <span class="stringliteral">&quot;RSC (other) file:&quot;</span>,
<a name="l00911"></a>00911     <span class="stringliteral">&quot;RSC (new) file:&quot;</span>,
<a name="l00912"></a>00912     <span class="stringliteral">&quot;CAR file:&quot;</span>,
<a name="l00913"></a>00913     <span class="stringliteral">&quot;DICO file:&quot;</span>
<a name="l00914"></a>00914   };
<a name="l00915"></a>00915   <span class="keyword">static</span> <span class="keyword">const</span> QString ImportFile[] = 
<a name="l00916"></a>00916   {
<a name="l00917"></a>00917     <span class="stringliteral">&quot;icrf-Ext1.def&quot;</span>,
<a name="l00918"></a>00918     <span class="stringliteral">&quot;icrf-Ext1.can&quot;</span>,
<a name="l00919"></a>00919     <span class="stringliteral">&quot;icrf-Ext1.oth&quot;</span>,
<a name="l00920"></a>00920     <span class="stringliteral">&quot;icrf-Ext1.new&quot;</span>,
<a name="l00921"></a>00921     <span class="stringliteral">&quot;icrf-Ext1.car_phys&quot;</span>,
<a name="l00922"></a>00922     <span class="stringliteral">&quot;icrf.dico&quot;</span>
<a name="l00923"></a>00923   };
<a name="l00924"></a>00924 
<a name="l00925"></a>00925   <a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a> = <span class="keyword">new</span> <a class="code" href="classQWidget.html">QWidget</a>(<span class="keyword">this</span>);
<a name="l00926"></a>00926   QGridLayout *grid = <span class="keyword">new</span> QGridLayout(<a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>,  NumOfFiles+2,3,  20, 5);
<a name="l00927"></a>00927   
<a name="l00928"></a>00928   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;NumOfFiles; i++)
<a name="l00929"></a>00929     {
<a name="l00930"></a>00930       <a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[i] = <span class="keyword">new</span> QCheckBox(LabelCB[i], <a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>);
<a name="l00931"></a>00931       <a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[i] -&gt; setChecked(TRUE);
<a name="l00932"></a>00932       <a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[i] -&gt; setMinimumSize(<a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[i]-&gt;sizeHint());
<a name="l00933"></a>00933       <a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[i] -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l00934"></a>00934       grid -&gt; addWidget(<a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[i], i+1, 0);
<a name="l00935"></a>00935       
<a name="l00936"></a>00936       <a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[i] = <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a0848543dce815bd9b934cb1b96e8a15d">path2ImpICRF</a>() + <span class="stringliteral">&quot;icrf-Ext.1/&quot;</span> + ImportFile[i];
<a name="l00937"></a>00937       
<a name="l00938"></a>00938       <a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[i] = <span class="keyword">new</span> QLineEdit(<a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>);
<a name="l00939"></a>00939       <a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[i] -&gt; setText(<a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[i]);
<a name="l00940"></a>00940       <a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[i] -&gt; setMinimumHeight(<a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[i]-&gt;sizeHint().height());
<a name="l00941"></a>00941       <a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[i] -&gt; setMinimumWidth (<a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[i]-&gt;fontMetrics().width(<a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[i]) + 50);
<a name="l00942"></a>00942       grid -&gt; addWidget(<a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[i], i+1, 1);
<a name="l00943"></a>00943       
<a name="l00944"></a>00944       <a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[i] = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Select file..&quot;</span>, <a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>);
<a name="l00945"></a>00945       <a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[i] -&gt; setMinimumSize(<a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[i]-&gt;sizeHint());
<a name="l00946"></a>00946       <a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[i] -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l00947"></a>00947       grid -&gt; addWidget(<a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[i], i+1, 2);
<a name="l00948"></a>00948 
<a name="l00949"></a>00949       IsNextEnabled = IsNextEnabled &amp;&amp; <a class="code" href="classSBSourceImport.html#aff738e8ffc86445e9954ecc8640ecd9a">checkFileExists</a>(<a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[i]);
<a name="l00950"></a>00950     };
<a name="l00951"></a>00951   
<a name="l00952"></a>00952   connect(<a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[0],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#a0c20f6fce574779d194d7df58ffc9224">setRSCDstate1999</a>(<span class="keywordtype">bool</span>)));
<a name="l00953"></a>00953   connect(<a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[1],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#a2de575ece7851610d8d03388bdf72282">setRSCCstate1999</a>(<span class="keywordtype">bool</span>)));
<a name="l00954"></a>00954   connect(<a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[2],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#a5283ba79d8550315b1f76b22210ad899">setRSCOstate1999</a>(<span class="keywordtype">bool</span>)));
<a name="l00955"></a>00955   connect(<a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[3],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#a0945658203b4fd22c6166049fb560a94">setRSCNstate1999</a>(<span class="keywordtype">bool</span>)));
<a name="l00956"></a>00956   connect(<a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[4],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#a5777acd4f95c99b491a7466c7643b2f3">setCARstate1999</a> (<span class="keywordtype">bool</span>)));
<a name="l00957"></a>00957   connect(<a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[5],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#ade18977d997eb4555d2018fe86badf91">setDICOstate1999</a>(<span class="keywordtype">bool</span>)));
<a name="l00958"></a>00958 
<a name="l00959"></a>00959   connect(<a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[0],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#a6672e85c510fde5990186f1df9a5c816">selectRSCDfile1999</a>()));
<a name="l00960"></a>00960   connect(<a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[1],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#a4f5057da5596e9d3a8b9375b38740d44">selectRSCCfile1999</a>()));
<a name="l00961"></a>00961   connect(<a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[2],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#a25d113cb7628e51928c9d9a8562e1c5c">selectRSCOfile1999</a>()));
<a name="l00962"></a>00962   connect(<a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[3],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#adb8bca7c1986c7032d0bc2373b478a06">selectRSCNfile1999</a>()));
<a name="l00963"></a>00963   connect(<a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[4],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#a35902abc38d5cea29337593d242037df">selectCARfile1999</a> ()));
<a name="l00964"></a>00964   connect(<a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>[5],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#a98d16902dd0df09c0c4463c91ba175ec">selectDICOfile1999</a>()));
<a name="l00965"></a>00965 
<a name="l00966"></a>00966   connect(<a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[0],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#a6f70f7c4a734d833e5d291476071e9db">fnRSCDChanged1999</a>(<span class="keyword">const</span> QString&amp;)));
<a name="l00967"></a>00967   connect(<a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[1],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#a6869c88ecd4c550e6dc225177448dc2d">fnRSCCChanged1999</a>(<span class="keyword">const</span> QString&amp;)));
<a name="l00968"></a>00968   connect(<a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[2],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#a8d0dee26ba066e168cc00cc401ad1661">fnRSCOChanged1999</a>(<span class="keyword">const</span> QString&amp;)));
<a name="l00969"></a>00969   connect(<a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[3],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#ab9aca4361d6cd5e4bbb7750c01c49941">fnRSCNChanged1999</a>(<span class="keyword">const</span> QString&amp;)));
<a name="l00970"></a>00970   connect(<a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[4],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#afdd4aa32c01cb070c7485400041c700e">fnCARChanged1999</a> (<span class="keyword">const</span> QString&amp;)));
<a name="l00971"></a>00971   connect(<a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[5],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#af4dbb07a3869a6db5d8f804a2d1bc887">fnDICOChanged1999</a>(<span class="keyword">const</span> QString&amp;)));
<a name="l00972"></a>00972 
<a name="l00973"></a>00973   grid -&gt; setColStretch(1,5);
<a name="l00974"></a>00974   grid -&gt; setRowStretch(0, 1);
<a name="l00975"></a>00975   grid -&gt; setRowStretch(NumOfFiles+1, 1);
<a name="l00976"></a>00976   grid -&gt; activate();
<a name="l00977"></a>00977 
<a name="l00978"></a>00978   addPage(<a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>, <span class="stringliteral">&quot;Files to Load&quot;</span>);
<a name="l00979"></a>00979   setNextEnabled(<a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>, IsNextEnabled);
<a name="l00980"></a>00980 };
<a name="l00981"></a>00981 
<a name="l00982"></a><a class="code" href="classSBSourceImport.html#a62c4265c2a148a8644e57bc4d9978d64">00982</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a62c4265c2a148a8644e57bc4d9978d64">SBSourceImport::setupPage2_3</a>()
<a name="l00983"></a>00983 {
<a name="l00984"></a>00984   <span class="keywordtype">bool</span>          IsNextEnabled=TRUE;
<a name="l00985"></a>00985   <span class="keyword">static</span> <span class="keywordtype">int</span>    NumOfFiles = 4;
<a name="l00986"></a>00986   <span class="keyword">static</span> <span class="keyword">const</span>  QString LabelCB[]=
<a name="l00987"></a>00987   {
<a name="l00988"></a>00988     <span class="stringliteral">&quot;RSC (non-VCS sources) file:&quot;</span>,
<a name="l00989"></a>00989     <span class="stringliteral">&quot;RSC (VCS sources) file:&quot;</span>,
<a name="l00990"></a>00990     <span class="stringliteral">&quot;CAR file:&quot;</span>,
<a name="l00991"></a>00991     <span class="stringliteral">&quot;DICO file:&quot;</span>
<a name="l00992"></a>00992   };
<a name="l00993"></a>00993   <span class="keyword">static</span> <span class="keyword">const</span> QString ImportFile[] = 
<a name="l00994"></a>00994   {
<a name="l00995"></a>00995     <span class="stringliteral">&quot;icrf2-non-vcs.dat&quot;</span>,
<a name="l00996"></a>00996     <span class="stringliteral">&quot;icrf2-vcs-only.dat&quot;</span>,
<a name="l00997"></a>00997     <span class="stringliteral">&quot;icrf-Ext1.car_phys&quot;</span>,
<a name="l00998"></a>00998     <span class="stringliteral">&quot;icrf.dico&quot;</span>
<a name="l00999"></a>00999   };
<a name="l01000"></a>01000 
<a name="l01001"></a>01001   <a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a> = <span class="keyword">new</span> <a class="code" href="classQWidget.html">QWidget</a>(<span class="keyword">this</span>);
<a name="l01002"></a>01002   QGridLayout *grid = <span class="keyword">new</span> QGridLayout(<a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>,  NumOfFiles+2,3,  20, 5);
<a name="l01003"></a>01003   
<a name="l01004"></a>01004   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;NumOfFiles; i++)
<a name="l01005"></a>01005     {
<a name="l01006"></a>01006       <a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[i] = <span class="keyword">new</span> QCheckBox(LabelCB[i], <a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>);
<a name="l01007"></a>01007       <a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[i] -&gt; setChecked(TRUE);
<a name="l01008"></a>01008       <a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[i] -&gt; setMinimumSize(<a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[i]-&gt;sizeHint());
<a name="l01009"></a>01009       <a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[i] -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l01010"></a>01010       grid -&gt; addWidget(<a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[i], i+1, 0);
<a name="l01011"></a>01011       
<a name="l01012"></a>01012       <a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[i] = <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a0848543dce815bd9b934cb1b96e8a15d">path2ImpICRF</a>() + <span class="stringliteral">&quot;ICRF2/&quot;</span> + ImportFile[i];
<a name="l01013"></a>01013       
<a name="l01014"></a>01014       <a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[i] = <span class="keyword">new</span> QLineEdit(<a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>);
<a name="l01015"></a>01015       <a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[i] -&gt; setText(<a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[i]);
<a name="l01016"></a>01016       <a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[i] -&gt; setMinimumHeight(<a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[i]-&gt;sizeHint().height());
<a name="l01017"></a>01017       <a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[i] -&gt; setMinimumWidth (<a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[i]-&gt;fontMetrics().width(<a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[i]) + 50);
<a name="l01018"></a>01018       grid -&gt; addWidget(<a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[i], i+1, 1);
<a name="l01019"></a>01019       
<a name="l01020"></a>01020       <a class="code" href="classSBSourceImport.html#a0b9edf6c079a5636e41f303cc2839140">bFile2009</a>[i] = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Select file..&quot;</span>, <a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>);
<a name="l01021"></a>01021       <a class="code" href="classSBSourceImport.html#a0b9edf6c079a5636e41f303cc2839140">bFile2009</a>[i] -&gt; setMinimumSize(<a class="code" href="classSBSourceImport.html#a0b9edf6c079a5636e41f303cc2839140">bFile2009</a>[i]-&gt;sizeHint());
<a name="l01022"></a>01022       <a class="code" href="classSBSourceImport.html#a0b9edf6c079a5636e41f303cc2839140">bFile2009</a>[i] -&gt; setFocusPolicy(QWidget::ClickFocus);
<a name="l01023"></a>01023       grid -&gt; addWidget(<a class="code" href="classSBSourceImport.html#a0b9edf6c079a5636e41f303cc2839140">bFile2009</a>[i], i+1, 2);
<a name="l01024"></a>01024 
<a name="l01025"></a>01025       IsNextEnabled = IsNextEnabled &amp;&amp; <a class="code" href="classSBSourceImport.html#aff738e8ffc86445e9954ecc8640ecd9a">checkFileExists</a>(<a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[i]);
<a name="l01026"></a>01026     };
<a name="l01027"></a>01027   
<a name="l01028"></a>01028   connect(<a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[0],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#a563c70c1a63889b6c76f6938709549e3">setRSCNonVCSState2009</a>(<span class="keywordtype">bool</span>)));
<a name="l01029"></a>01029   connect(<a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[1],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#affb64fa4ae417116561091cf96217b62">setRSCVCSState2009</a>(<span class="keywordtype">bool</span>)));
<a name="l01030"></a>01030   connect(<a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[2],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#aa84a7ed450304f1927c32ad9d93a6023">setCARState2009</a>(<span class="keywordtype">bool</span>)));
<a name="l01031"></a>01031   connect(<a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[3],    SIGNAL(toggled(<span class="keywordtype">bool</span>)),  SLOT(<a class="code" href="classSBSourceImport.html#aa5f0e78297ed7038a535119609db5882">setDICOState2009</a>(<span class="keywordtype">bool</span>)));
<a name="l01032"></a>01032 
<a name="l01033"></a>01033   connect(<a class="code" href="classSBSourceImport.html#a0b9edf6c079a5636e41f303cc2839140">bFile2009</a>[0],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#a9cfd14b3eef78132d4822a3db9ee2907">selectRSCNonVCSFile2009</a>()));
<a name="l01034"></a>01034   connect(<a class="code" href="classSBSourceImport.html#a0b9edf6c079a5636e41f303cc2839140">bFile2009</a>[1],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#a1d36c11d471f92ded5bd053b18ccbe9f">selectRSCVCSFile2009</a>()));
<a name="l01035"></a>01035   connect(<a class="code" href="classSBSourceImport.html#a0b9edf6c079a5636e41f303cc2839140">bFile2009</a>[2],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#a06fbe8f54fed2722a83670a2ff6bc0db">selectCARFile2009</a>()));
<a name="l01036"></a>01036   connect(<a class="code" href="classSBSourceImport.html#a0b9edf6c079a5636e41f303cc2839140">bFile2009</a>[3],         SIGNAL(clicked()),      SLOT(<a class="code" href="classSBSourceImport.html#a85ef2afb50fede19e68a0c62a53507ea">selectDICOFile2009</a>()));
<a name="l01037"></a>01037 
<a name="l01038"></a>01038   connect(<a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[0],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#a80746748653a0b9692082fbb6fe9c8cf">fnRSCNonVCSChanged2009</a>(<span class="keyword">const</span> QString&amp;)));
<a name="l01039"></a>01039   connect(<a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[1],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#a4ade35af6590adfd71ed5e75aad51e4a">fnRSCVCSChanged2009</a>(<span class="keyword">const</span> QString&amp;)));
<a name="l01040"></a>01040   connect(<a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[2],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#a90b55deb3e3ef22e060963bcdd15f10a">fnCARChanged2009</a>(<span class="keyword">const</span> QString&amp;)));
<a name="l01041"></a>01041   connect(<a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[3],    SIGNAL(textChanged(<span class="keyword">const</span> QString&amp;)),SLOT(<a class="code" href="classSBSourceImport.html#ad8ddd24557e0d0560b6d02b638e2fc79">fnDICOChanged2009</a>(<span class="keyword">const</span> QString&amp;)));
<a name="l01042"></a>01042 
<a name="l01043"></a>01043   grid -&gt; setColStretch(1,5);
<a name="l01044"></a>01044   grid -&gt; setRowStretch(0, 1);
<a name="l01045"></a>01045   grid -&gt; setRowStretch(NumOfFiles+1, 1);
<a name="l01046"></a>01046   grid -&gt; activate();
<a name="l01047"></a>01047 
<a name="l01048"></a>01048   addPage(<a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>, <span class="stringliteral">&quot;Files to Load&quot;</span>);
<a name="l01049"></a>01049   setNextEnabled(<a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>, IsNextEnabled);
<a name="l01050"></a>01050 };
<a name="l01051"></a>01051 
<a name="l01052"></a><a class="code" href="classSBSourceImport.html#af72be17b6c79d77c9f560e5ce02a83ce">01052</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#af72be17b6c79d77c9f560e5ce02a83ce">SBSourceImport::setupPage3</a>()
<a name="l01053"></a>01053 {
<a name="l01054"></a>01054   <span class="keyword">static</span> <span class="keyword">const</span> QString sMode[]=
<a name="l01055"></a>01055   {
<a name="l01056"></a>01056     <span class="stringliteral">&quot;Replace current database with imported one&quot;</span>,
<a name="l01057"></a>01057     <span class="stringliteral">&quot;Import only new sources (which are not exist in current database)&quot;</span>,
<a name="l01058"></a>01058     <span class="stringliteral">&quot;Insert new sources and update the present ones&quot;</span>,
<a name="l01059"></a>01059     <span class="stringliteral">&quot;Just update present sources, ignore other records&quot;</span>,
<a name="l01060"></a>01060     <span class="stringliteral">&quot;Just update coordinates of present sources, ignore other info&quot;</span>,
<a name="l01061"></a>01061   };
<a name="l01062"></a>01062 
<a name="l01063"></a>01063   <span class="comment">//  page3     = new QButtonGroup(&quot;Import Options&quot;, this);</span>
<a name="l01064"></a>01064   <a class="code" href="classSBSourceImport.html#a9116cce5dde5f6838b22e55dd240b84b">page3</a> = <span class="keyword">new</span> <a class="code" href="classQWidget.html">QWidget</a>(<span class="keyword">this</span>);
<a name="l01065"></a>01065   QBoxLayout    *Layout=<span class="keyword">new</span> QVBoxLayout(<a class="code" href="classSBSourceImport.html#a9116cce5dde5f6838b22e55dd240b84b">page3</a>, 20,10);
<a name="l01066"></a>01066   QRadioButton  *rbMode[5];
<a name="l01067"></a>01067 
<a name="l01068"></a>01068   QButtonGroup *gbox = <span class="keyword">new</span> QVButtonGroup(<span class="stringliteral">&quot;Import mode&quot;</span>, <a class="code" href="classSBSourceImport.html#a9116cce5dde5f6838b22e55dd240b84b">page3</a>);
<a name="l01069"></a>01069   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;5; i++)
<a name="l01070"></a>01070     {
<a name="l01071"></a>01071       rbMode[i] = <span class="keyword">new</span> QRadioButton(sMode[i], gbox);
<a name="l01072"></a>01072       rbMode[i] -&gt; setMinimumSize(rbMode[i]-&gt;sizeHint());
<a name="l01073"></a>01073     };
<a name="l01074"></a>01074   rbMode[<a class="code" href="classSBSourceImport.html#a8c3321a88bca1f07e36deb22af7d5515">Mode</a>] -&gt; setChecked(TRUE);
<a name="l01075"></a>01075   connect (gbox, SIGNAL(clicked(<span class="keywordtype">int</span>)), <span class="keyword">this</span>, SLOT(<a class="code" href="classSBSourceImport.html#a985111ad29030a613bac7125636a70e1">modeChanged</a>(<span class="keywordtype">int</span>)));
<a name="l01076"></a>01076 
<a name="l01077"></a>01077   Layout-&gt;addStretch(1);
<a name="l01078"></a>01078   Layout-&gt;addWidget(gbox);
<a name="l01079"></a>01079   Layout-&gt;addStretch(1);
<a name="l01080"></a>01080 
<a name="l01081"></a>01081   Layout -&gt; activate();
<a name="l01082"></a>01082   
<a name="l01083"></a>01083   addPage(<a class="code" href="classSBSourceImport.html#a9116cce5dde5f6838b22e55dd240b84b">page3</a>, <span class="stringliteral">&quot;Import Options&quot;</span>);
<a name="l01084"></a>01084   setFinishEnabled(<a class="code" href="classSBSourceImport.html#a9116cce5dde5f6838b22e55dd240b84b">page3</a>, TRUE);
<a name="l01085"></a>01085 };
<a name="l01086"></a>01086 
<a name="l01087"></a><a class="code" href="classSBSourceImport.html#a5ce04ced88cc23d9a988181494cb8cb0">01087</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a5ce04ced88cc23d9a988181494cb8cb0">SBSourceImport::selectFile1995</a>(<a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6">FileType</a> Type)
<a name="l01088"></a>01088 {
<a name="l01089"></a>01089   <span class="keyword">static</span> <span class="keyword">const</span> QString filter[] = {<span class="stringliteral">&quot;*.rsc&quot;</span>, <span class="stringliteral">&quot;*.car&quot;</span>, <span class="stringliteral">&quot;*.dico&quot;</span>};
<a name="l01090"></a>01090   QString str = QFileDialog::getOpenFileName(<a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a0848543dce815bd9b934cb1b96e8a15d">path2ImpICRF</a>() + <span class="stringliteral">&quot;/icrf_rsc&quot;</span>, filter[Type], <span class="keyword">this</span>);
<a name="l01091"></a>01091   <span class="keywordflow">if</span> (!str.isNull()) 
<a name="l01092"></a>01092     {
<a name="l01093"></a>01093       <a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a> [Type] = str.copy();
<a name="l01094"></a>01094       <a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[Type]-&gt;setText(<a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[Type]);
<a name="l01095"></a>01095       <a class="code" href="classSBSourceImport.html#aca5537ec1923a209d38fec10ad8ae781">checkPage2_1State</a>();
<a name="l01096"></a>01096     };
<a name="l01097"></a>01097 };
<a name="l01098"></a>01098 
<a name="l01099"></a><a class="code" href="classSBSourceImport.html#ab31ed63e0c60e8338982a28de3b77026">01099</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#ab31ed63e0c60e8338982a28de3b77026">SBSourceImport::setState1995</a>(<a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6">FileType</a> Type, <span class="keywordtype">bool</span> T)
<a name="l01100"></a>01100 {
<a name="l01101"></a>01101   <a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[Type]-&gt;setEnabled(T);
<a name="l01102"></a>01102   <a class="code" href="classSBSourceImport.html#ae06e9253bf5fde29087b03ebd0f5ff56">bFile1995</a>     [Type]-&gt;setEnabled(T);
<a name="l01103"></a>01103   <a class="code" href="classSBSourceImport.html#aca5537ec1923a209d38fec10ad8ae781">checkPage2_1State</a>();
<a name="l01104"></a>01104 };
<a name="l01105"></a>01105 
<a name="l01106"></a><a class="code" href="classSBSourceImport.html#a239501e032baeca3509727e32f47fd64">01106</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a239501e032baeca3509727e32f47fd64">SBSourceImport::fileNameChanged1995</a>(<a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6">FileType</a> Type, <span class="keyword">const</span> QString&amp; <span class="comment">/*FName*/</span>)
<a name="l01107"></a>01107 {
<a name="l01108"></a>01108   <a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[Type] = <a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[Type]-&gt;text();
<a name="l01109"></a>01109   <a class="code" href="classSBSourceImport.html#aca5537ec1923a209d38fec10ad8ae781">checkPage2_1State</a>();
<a name="l01110"></a>01110 };
<a name="l01111"></a>01111 
<a name="l01112"></a><a class="code" href="classSBSourceImport.html#a3749bdb813676973490b76b14c958589">01112</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a3749bdb813676973490b76b14c958589">SBSourceImport::selectFile1999</a>(<span class="keywordtype">int</span> Type)
<a name="l01113"></a>01113 {
<a name="l01114"></a>01114   <span class="keyword">static</span> <span class="keyword">const</span> QString filter[] = {<span class="stringliteral">&quot;*.def *.rsc&quot;</span>, <span class="stringliteral">&quot;*.can *.rsc&quot;</span>, <span class="stringliteral">&quot;*.oth *.rsc&quot;</span>, <span class="stringliteral">&quot;*.new *.rsc&quot;</span>, <span class="stringliteral">&quot;*.car_phys&quot;</span>, <span class="stringliteral">&quot;*.dico&quot;</span>};
<a name="l01115"></a>01115   QString str = QFileDialog::getOpenFileName(<a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a0848543dce815bd9b934cb1b96e8a15d">path2ImpICRF</a>() + <span class="stringliteral">&quot;icrf-Ext.1&quot;</span>, filter[Type], <span class="keyword">this</span>);
<a name="l01116"></a>01116   <span class="keywordflow">if</span> (!str.isNull()) 
<a name="l01117"></a>01117     {
<a name="l01118"></a>01118       <a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a> [Type] = str.copy();
<a name="l01119"></a>01119       <a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[Type]-&gt;setText(<a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[Type]);
<a name="l01120"></a>01120       <a class="code" href="classSBSourceImport.html#aacef24648bce5ac258c0f2120e80d104">checkPage2_2State</a>();
<a name="l01121"></a>01121     };
<a name="l01122"></a>01122 };
<a name="l01123"></a>01123 
<a name="l01124"></a><a class="code" href="classSBSourceImport.html#a7caa82f62b73e1bb6d68c0bc906b19e6">01124</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a7caa82f62b73e1bb6d68c0bc906b19e6">SBSourceImport::setState1999</a>(<span class="keywordtype">int</span> Type, <span class="keywordtype">bool</span> T)
<a name="l01125"></a>01125 {
<a name="l01126"></a>01126   <a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[Type]-&gt;setEnabled(T);
<a name="l01127"></a>01127   <a class="code" href="classSBSourceImport.html#aa8b98f53b6aabe55a9faa77fb624ddb2">bFile1999</a>     [Type]-&gt;setEnabled(T);
<a name="l01128"></a>01128   <a class="code" href="classSBSourceImport.html#aacef24648bce5ac258c0f2120e80d104">checkPage2_2State</a>();
<a name="l01129"></a>01129 };
<a name="l01130"></a>01130 
<a name="l01131"></a><a class="code" href="classSBSourceImport.html#aed8be75dcc0977540c3b2a5a0fac7564">01131</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#aed8be75dcc0977540c3b2a5a0fac7564">SBSourceImport::fileNameChanged1999</a>(<span class="keywordtype">int</span> Type, <span class="keyword">const</span> QString&amp; <span class="comment">/*FName*/</span>)
<a name="l01132"></a>01132 {
<a name="l01133"></a>01133   <a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[Type] = <a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[Type]-&gt;text();
<a name="l01134"></a>01134   <a class="code" href="classSBSourceImport.html#aacef24648bce5ac258c0f2120e80d104">checkPage2_2State</a>();
<a name="l01135"></a>01135 };
<a name="l01136"></a>01136 
<a name="l01137"></a>01137 <span class="comment">// ICRF2:</span>
<a name="l01138"></a><a class="code" href="classSBSourceImport.html#a7bcdf7eb66adc14f4fd80b7bfc2bb8e5">01138</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a7bcdf7eb66adc14f4fd80b7bfc2bb8e5">SBSourceImport::selectFile2009</a>(<span class="keywordtype">int</span> Type)
<a name="l01139"></a>01139 {
<a name="l01140"></a>01140   <span class="keyword">static</span> <span class="keyword">const</span> QString filter[] = {<span class="stringliteral">&quot;*.dat *.rsc&quot;</span>, <span class="stringliteral">&quot;*.dat *.rsc&quot;</span>, <span class="stringliteral">&quot;*.car_phys&quot;</span>, <span class="stringliteral">&quot;*.dico&quot;</span>};
<a name="l01141"></a>01141   QString str = QFileDialog::getOpenFileName(<a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#a0848543dce815bd9b934cb1b96e8a15d">path2ImpICRF</a>() + <span class="stringliteral">&quot;ICRF2&quot;</span>, filter[Type], <span class="keyword">this</span>);
<a name="l01142"></a>01142   <span class="keywordflow">if</span> (!str.isNull()) 
<a name="l01143"></a>01143     {
<a name="l01144"></a>01144       <a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a> [Type] = str.copy();
<a name="l01145"></a>01145       <a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[Type]-&gt;setText(<a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[Type]);
<a name="l01146"></a>01146       <a class="code" href="classSBSourceImport.html#aea01c626cc755f0ad22d417920124b5e">checkPage2_3State</a>();
<a name="l01147"></a>01147     };
<a name="l01148"></a>01148 };
<a name="l01149"></a>01149 
<a name="l01150"></a><a class="code" href="classSBSourceImport.html#aaa3635399b35c02db37bb42afe23d2d1">01150</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#aaa3635399b35c02db37bb42afe23d2d1">SBSourceImport::setState2009</a>(<span class="keywordtype">int</span> Type, <span class="keywordtype">bool</span> T)
<a name="l01151"></a>01151 {
<a name="l01152"></a>01152   <a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[Type]-&gt;setEnabled(T);
<a name="l01153"></a>01153   <a class="code" href="classSBSourceImport.html#a0b9edf6c079a5636e41f303cc2839140">bFile2009</a>     [Type]-&gt;setEnabled(T);
<a name="l01154"></a>01154   <a class="code" href="classSBSourceImport.html#aea01c626cc755f0ad22d417920124b5e">checkPage2_3State</a>();
<a name="l01155"></a>01155 };
<a name="l01156"></a>01156 
<a name="l01157"></a><a class="code" href="classSBSourceImport.html#a30de4183016fee74a416d6022735a45c">01157</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a30de4183016fee74a416d6022735a45c">SBSourceImport::fileNameChanged2009</a>(<span class="keywordtype">int</span> Type, <span class="keyword">const</span> QString&amp; <span class="comment">/*FName*/</span>)
<a name="l01158"></a>01158 {
<a name="l01159"></a>01159   <a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[Type] = <a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[Type]-&gt;text();
<a name="l01160"></a>01160   <a class="code" href="classSBSourceImport.html#aea01c626cc755f0ad22d417920124b5e">checkPage2_3State</a>();
<a name="l01161"></a>01161 };
<a name="l01162"></a>01162 <span class="comment">//</span>
<a name="l01163"></a>01163 
<a name="l01164"></a><a class="code" href="classSBSourceImport.html#aca5537ec1923a209d38fec10ad8ae781">01164</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#aca5537ec1923a209d38fec10ad8ae781">SBSourceImport::checkPage2_1State</a>()
<a name="l01165"></a>01165 {
<a name="l01166"></a>01166   <span class="keywordtype">bool</span> IsNextEnabled = TRUE;
<a name="l01167"></a>01167   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;3; i++)
<a name="l01168"></a>01168     <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[i]-&gt;isChecked())
<a name="l01169"></a>01169       IsNextEnabled = IsNextEnabled &amp;&amp; <a class="code" href="classSBSourceImport.html#aff738e8ffc86445e9954ecc8640ecd9a">checkFileExists</a>(<a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[i]);
<a name="l01170"></a>01170   setNextEnabled(<a class="code" href="classSBSourceImport.html#ab05838584eac7f4c1ab9c929c6029022">page2_1</a>, IsNextEnabled);
<a name="l01171"></a>01171 };
<a name="l01172"></a>01172 
<a name="l01173"></a><a class="code" href="classSBSourceImport.html#aacef24648bce5ac258c0f2120e80d104">01173</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#aacef24648bce5ac258c0f2120e80d104">SBSourceImport::checkPage2_2State</a>()
<a name="l01174"></a>01174 {
<a name="l01175"></a>01175   <span class="keywordtype">bool</span> IsNextEnabled = TRUE;
<a name="l01176"></a>01176   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;6; i++)
<a name="l01177"></a>01177     <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[i]-&gt;isChecked())
<a name="l01178"></a>01178       IsNextEnabled = IsNextEnabled &amp;&amp; <a class="code" href="classSBSourceImport.html#aff738e8ffc86445e9954ecc8640ecd9a">checkFileExists</a>(<a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[i]);
<a name="l01179"></a>01179   setNextEnabled(<a class="code" href="classSBSourceImport.html#a521f3b1d900df6ab120b45da2f4079de">page2_2</a>, IsNextEnabled);
<a name="l01180"></a>01180 };
<a name="l01181"></a>01181 
<a name="l01182"></a><a class="code" href="classSBSourceImport.html#aea01c626cc755f0ad22d417920124b5e">01182</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#aea01c626cc755f0ad22d417920124b5e">SBSourceImport::checkPage2_3State</a>()
<a name="l01183"></a>01183 {
<a name="l01184"></a>01184   <span class="keywordtype">bool</span> IsNextEnabled = TRUE;
<a name="l01185"></a>01185   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;4; i++)
<a name="l01186"></a>01186     <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[i]-&gt;isChecked())
<a name="l01187"></a>01187       IsNextEnabled = IsNextEnabled &amp;&amp; <a class="code" href="classSBSourceImport.html#aff738e8ffc86445e9954ecc8640ecd9a">checkFileExists</a>(<a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[i]);
<a name="l01188"></a>01188   setNextEnabled(<a class="code" href="classSBSourceImport.html#a3d60b25ecd0076f7b8bd2fb859d61fb4">page2_3</a>, IsNextEnabled);
<a name="l01189"></a>01189 };
<a name="l01190"></a>01190 
<a name="l01191"></a><a class="code" href="classSBSourceImport.html#abee933383fd78d5b104b5a5ffcf2b427">01191</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#abee933383fd78d5b104b5a5ffcf2b427">SBSourceImport::accept</a>()
<a name="l01192"></a>01192 {
<a name="l01193"></a>01193   <a class="code" href="classSBSourceImport.html#abee933383fd78d5b104b5a5ffcf2b427">QWizard::accept</a>();
<a name="l01194"></a>01194   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBSourceImport.html#a2c69c0b25f7866f78121b7fb86e36d97">ClassName</a>() + <span class="stringliteral">&quot;: accept() selected&quot;</span>);
<a name="l01195"></a>01195 
<a name="l01196"></a>01196   <span class="comment">// importing</span>
<a name="l01197"></a>01197   <span class="keywordflow">switch</span> (<a class="code" href="classSBSourceImport.html#ad0b677423b2762bf3448d5957fb6be0f">FFormat</a>)
<a name="l01198"></a>01198     {
<a name="l01199"></a>01199     <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358a1508f870167a06788a0aaecd0dcfdadd">F_ICRF95</a>:
<a name="l01200"></a>01200       <a class="code" href="classSBSourceImport.html#ad3612a2c79a1bf4c645141cec22963f8">importICRF</a>();
<a name="l01201"></a>01201       <span class="keywordflow">break</span>;
<a name="l01202"></a>01202     <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358a025462169483beec7bd82cd0a3c5b702">F_ICRF99</a>:
<a name="l01203"></a>01203       <a class="code" href="classSBSourceImport.html#ad3612a2c79a1bf4c645141cec22963f8">importICRF</a>();
<a name="l01204"></a>01204       <span class="keywordflow">break</span>;
<a name="l01205"></a>01205     <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358ab0f7481b0f5ce6491f778d5aa68a647c">F_ICRF2009</a>:
<a name="l01206"></a>01206       <a class="code" href="classSBSourceImport.html#ad3612a2c79a1bf4c645141cec22963f8">importICRF</a>();
<a name="l01207"></a>01207       <span class="keywordflow">break</span>;
<a name="l01208"></a>01208     <span class="keywordflow">default</span>:
<a name="l01209"></a>01209       <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a24bd42a9f4bccec3a28b80562a665db7">SBLog::WRN</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBSourceImport.html#a2c69c0b25f7866f78121b7fb86e36d97">ClassName</a>() + <span class="stringliteral">&quot;: Unknown type format for ICRF importing&quot;</span>);
<a name="l01210"></a>01210       <span class="keywordflow">break</span>;
<a name="l01211"></a>01211     };
<a name="l01212"></a>01212   <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l01213"></a>01213 };
<a name="l01214"></a>01214 
<a name="l01215"></a><a class="code" href="classSBSourceImport.html#ad3612a2c79a1bf4c645141cec22963f8">01215</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#ad3612a2c79a1bf4c645141cec22963f8">SBSourceImport::importICRF</a>()
<a name="l01216"></a>01216 {
<a name="l01217"></a>01217   <span class="keywordtype">int</span>           i;
<a name="l01218"></a>01218   <a class="code" href="classSB__CRF.html">SB_CRF</a>*       W = <span class="keyword">new</span> <a class="code" href="classSB__CRF.html">SB_CRF</a>;
<a name="l01219"></a>01219   <a class="code" href="classSB__CRF.html">SB_CRF</a>*       OldCRF = <span class="keyword">new</span> <a class="code" href="classSB__CRF.html">SB_CRF</a>;
<a name="l01220"></a>01220   QFileInfo     finfo;
<a name="l01221"></a>01221   <span class="keywordtype">bool</span>          IsNeedSave = FALSE;
<a name="l01222"></a>01222   <span class="keywordtype">bool</span>          IsRead = FALSE;
<a name="l01223"></a>01223   QString       sFiles = <span class="stringliteral">&quot;&quot;</span>;
<a name="l01224"></a>01224   <span class="comment">//  QString   Str;</span>
<a name="l01225"></a>01225 
<a name="l01226"></a>01226   <span class="keyword">static</span> <span class="keyword">const</span> QString sMode[]= {<span class="stringliteral">&quot;REPLACE&quot;</span>, <span class="stringliteral">&quot;APP_ONLY&quot;</span>, <span class="stringliteral">&quot;APP_UPD&quot;</span>, <span class="stringliteral">&quot;UPD_ONLY&quot;</span>, <span class="stringliteral">&quot;UPD_COO_ONLY&quot;</span>};
<a name="l01227"></a>01227 
<a name="l01228"></a>01228   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#ad0b677423b2762bf3448d5957fb6be0f">FFormat</a> == <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358a1508f870167a06788a0aaecd0dcfdadd">F_ICRF95</a>)
<a name="l01229"></a>01229     {
<a name="l01230"></a>01230       <span class="keywordflow">for</span> (i=0; i&lt;3; i++)
<a name="l01231"></a>01231         {
<a name="l01232"></a>01232           <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#a00578923eb496769b9363227b72899e7">cbFileName1995</a>[i]-&gt;isChecked())
<a name="l01233"></a>01233             {
<a name="l01234"></a>01234               <a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[i] = <a class="code" href="classSBSourceImport.html#a83c446dc27ab99a360a3917938aeabd3">leFileName1995</a>[i]-&gt;text();
<a name="l01235"></a>01235               finfo.setFile((<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[i]);
<a name="l01236"></a>01236               <span class="keywordflow">if</span> (finfo.exists() &amp;&amp; finfo.isReadable() &amp;&amp; !finfo.isDir())
<a name="l01237"></a>01237                 {
<a name="l01238"></a>01238                   <a class="code" href="classSBSourceImport.html#a23b3cf5fe88e00e83f977b6e31e704b0">loadFile1995</a>(W, <a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[i], (<a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6">FileType</a>)i);
<a name="l01239"></a>01239                   sFiles += <span class="stringliteral">&quot; &quot;</span> + finfo.baseName() + <span class="stringliteral">&quot;.&quot;</span> + finfo.extension();
<a name="l01240"></a>01240                   IsRead = TRUE; <span class="comment">// hope, we&#39;ve got something</span>
<a name="l01241"></a>01241                 }
<a name="l01242"></a>01242               <span class="keywordflow">else</span> 
<a name="l01243"></a>01243                 <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a24bd42a9f4bccec3a28b80562a665db7">SBLog::WRN</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, 
<a name="l01244"></a>01244                            <a class="code" href="classSBSourceImport.html#a2c69c0b25f7866f78121b7fb86e36d97">ClassName</a>() + <span class="stringliteral">&quot;: could not acess `&quot;</span> + <a class="code" href="classSBSourceImport.html#aeb9922b263174c7a8f231ef691160bdb">sFileName1995</a>[i] + <span class="stringliteral">&quot;&#39;; ignored&quot;</span>);
<a name="l01245"></a>01245             };
<a name="l01246"></a>01246         };
<a name="l01247"></a>01247     }
<a name="l01248"></a>01248   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#ad0b677423b2762bf3448d5957fb6be0f">FFormat</a> == <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358a025462169483beec7bd82cd0a3c5b702">F_ICRF99</a>)
<a name="l01249"></a>01249     {
<a name="l01250"></a>01250       <span class="keywordflow">for</span> (i=0; i&lt;6; i++)
<a name="l01251"></a>01251         {
<a name="l01252"></a>01252           <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#a3608c0342fb946b077ef2810d7902b1e">cbFileName1999</a>[i]-&gt;isChecked())
<a name="l01253"></a>01253             {
<a name="l01254"></a>01254               <a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[i] = <a class="code" href="classSBSourceImport.html#aab96fa8a7257f98da933e120f1720841">leFileName1999</a>[i]-&gt;text();
<a name="l01255"></a>01255               finfo.setFile((<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[i]);
<a name="l01256"></a>01256               <span class="keywordflow">if</span> (finfo.exists() &amp;&amp; finfo.isReadable() &amp;&amp; !finfo.isDir())
<a name="l01257"></a>01257                 {
<a name="l01258"></a>01258                   <a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464">SBSource::SStatus</a> Status = <a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464a8724f46ebcfc63760c3abbe0397b689e">SBSource::STATUS_UNKN</a>;
<a name="l01259"></a>01259                   <a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6">FileType</a>          t      = <a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6a8d8f5ea9a3692784cc0467c3aeff1466">T_RSC</a>;
<a name="l01260"></a>01260                   <span class="keywordflow">if</span> (i==0)
<a name="l01261"></a>01261                     Status = <a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464aa1d941e47d460587902afcbf6bbff730">SBSource::STATUS_DEF</a>;
<a name="l01262"></a>01262                   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i==1)
<a name="l01263"></a>01263                     Status = <a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464aea18b379e27b6adca1621c10b8fbb8c4">SBSource::STATUS_CAND</a>;
<a name="l01264"></a>01264                   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i==2)
<a name="l01265"></a>01265                     Status = <a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464a11a4a558722c106a6c92610b96ac54b7">SBSource::STATUS_OTHER</a>;
<a name="l01266"></a>01266                   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i==3)
<a name="l01267"></a>01267                     Status = <a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464a592d3300667565d2e8e24fefb9922b0a">SBSource::STATUS_NEW</a>;
<a name="l01268"></a>01268                   <span class="keywordflow">else</span> 
<a name="l01269"></a>01269                     t = (<a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6">FileType</a>)(i-3);
<a name="l01270"></a>01270 
<a name="l01271"></a>01271                   <a class="code" href="classSBSourceImport.html#a23b3cf5fe88e00e83f977b6e31e704b0">loadFile1995</a>(W, <a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[i], t, Status);
<a name="l01272"></a>01272                   sFiles += <span class="stringliteral">&quot; &quot;</span> + finfo.baseName() + <span class="stringliteral">&quot;.&quot;</span> + finfo.extension();
<a name="l01273"></a>01273                   IsRead = TRUE; <span class="comment">// hope, we&#39;ve got something</span>
<a name="l01274"></a>01274                 }
<a name="l01275"></a>01275               <span class="keywordflow">else</span> 
<a name="l01276"></a>01276                 <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a24bd42a9f4bccec3a28b80562a665db7">SBLog::WRN</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, 
<a name="l01277"></a>01277                            <a class="code" href="classSBSourceImport.html#a2c69c0b25f7866f78121b7fb86e36d97">ClassName</a>() + <span class="stringliteral">&quot;: could not acess `&quot;</span> + <a class="code" href="classSBSourceImport.html#ac882aa97d17c722a9977f84cb06647c8">sFileName1999</a>[i] + <span class="stringliteral">&quot;&#39;; ignored&quot;</span>);
<a name="l01278"></a>01278             };
<a name="l01279"></a>01279         };
<a name="l01280"></a>01280     }
<a name="l01281"></a>01281   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#ad0b677423b2762bf3448d5957fb6be0f">FFormat</a> == <a class="code" href="classSBSourceImport.html#a92ed068c2b862b99ca695e160f937358ab0f7481b0f5ce6491f778d5aa68a647c">F_ICRF2009</a>)
<a name="l01282"></a>01282     {
<a name="l01283"></a>01283       <span class="keywordflow">for</span> (i=0; i&lt;4; i++)
<a name="l01284"></a>01284         {
<a name="l01285"></a>01285           <span class="keywordflow">if</span> (<a class="code" href="classSBSourceImport.html#a4daa407a5f60fc5ceadb64d8ba066ed1">cbFileName2009</a>[i]-&gt;isChecked())
<a name="l01286"></a>01286             {
<a name="l01287"></a>01287               <a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[i] = <a class="code" href="classSBSourceImport.html#a335f7a4888f17ba02a00bf08882370c0">leFileName2009</a>[i]-&gt;text();
<a name="l01288"></a>01288               finfo.setFile((<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[i]);
<a name="l01289"></a>01289               <span class="keywordflow">if</span> (finfo.exists() &amp;&amp; finfo.isReadable() &amp;&amp; !finfo.isDir())
<a name="l01290"></a>01290                 {
<a name="l01291"></a>01291                   <a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6">FileType</a>    t    = <a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6a8d8f5ea9a3692784cc0467c3aeff1466">T_RSC</a>;
<a name="l01292"></a>01292                   <span class="keywordflow">if</span> (i&gt;1)
<a name="l01293"></a>01293                     t = (<a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6">FileType</a>)(i-1);
<a name="l01294"></a>01294                   
<a name="l01295"></a>01295                   <a class="code" href="classSBSourceImport.html#a23b3cf5fe88e00e83f977b6e31e704b0">loadFile1995</a>(W, <a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[i], t);
<a name="l01296"></a>01296                   sFiles += <span class="stringliteral">&quot; &quot;</span> + finfo.baseName() + <span class="stringliteral">&quot;.&quot;</span> + finfo.extension();
<a name="l01297"></a>01297                   IsRead = TRUE; <span class="comment">// hope, we&#39;ve got something</span>
<a name="l01298"></a>01298                 }
<a name="l01299"></a>01299               <span class="keywordflow">else</span> 
<a name="l01300"></a>01300                 <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a24bd42a9f4bccec3a28b80562a665db7">SBLog::WRN</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, 
<a name="l01301"></a>01301                            <a class="code" href="classSBSourceImport.html#a2c69c0b25f7866f78121b7fb86e36d97">ClassName</a>() + <span class="stringliteral">&quot;: could not acess `&quot;</span> + <a class="code" href="classSBSourceImport.html#a92c91a8b01cc95cd0b0a8d1ff3cdc435">sFileName2009</a>[i] + <span class="stringliteral">&quot;&#39;; ignored&quot;</span>);
<a name="l01302"></a>01302             };
<a name="l01303"></a>01303         };
<a name="l01304"></a>01304     };
<a name="l01305"></a>01305 
<a name="l01306"></a>01306   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBSourceImport.html#a2c69c0b25f7866f78121b7fb86e36d97">ClassName</a>() + <span class="stringliteral">&quot;: Import mode: &quot;</span> + sMode[<a class="code" href="classSBSourceImport.html#a8c3321a88bca1f07e36deb22af7d5515">Mode</a>]);
<a name="l01307"></a>01307 
<a name="l01308"></a>01308   <span class="comment">// applying a filter</span>
<a name="l01309"></a>01309   <span class="keywordflow">if</span> (IsRead)
<a name="l01310"></a>01310     {
<a name="l01311"></a>01311       <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#ae41bc00423ba862ed9676712f5adb589">loadCRF</a>(OldCRF);
<a name="l01312"></a>01312       
<a name="l01313"></a>01313       <a class="code" href="classSBSource.html">SBSource</a> *NewS;
<a name="l01314"></a>01314       <a class="code" href="classSBSource.html">SBSource</a> *OldS;
<a name="l01315"></a>01315       <span class="keywordflow">switch</span> (Mode)
<a name="l01316"></a>01316         {
<a name="l01317"></a>01317         <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554ad9d425d66b2ed00e57e2390b320b5486">REPLACE</a>:
<a name="l01318"></a>01318           IsNeedSave = IsRead;
<a name="l01319"></a>01319           <span class="keywordflow">break</span>;
<a name="l01320"></a>01320         <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554af56dd6d80d85071af36f09b8cfd213f8">APP_ONLY</a>:
<a name="l01321"></a>01321           <span class="keywordflow">if</span> (IsRead)
<a name="l01322"></a>01322             {
<a name="l01323"></a>01323               <span class="comment">// sources:</span>
<a name="l01324"></a>01324               <span class="keywordflow">for</span> (NewS=W-&gt;<a class="code" href="classSB__CRF.html#ab311aace24dcbe44d4a63b7cd354482d">first</a>(); NewS; NewS=W-&gt;<a class="code" href="classSB__CRF.html#a1bf84a96ab2e1adb1d327c7d4f0ae380">next</a>())
<a name="l01325"></a>01325                 <span class="keywordflow">if</span> (!OldCRF-&gt;<a class="code" href="classSB__CRF.html#ab8f6ae5ded081c08dbd82639281438c5">find</a>(*NewS)) 
<a name="l01326"></a>01326                   {
<a name="l01327"></a>01327                     OldCRF-&gt;<a class="code" href="classSBCatalog.html#a9c88a96f479c197f9278bf447b15dc43">inSort</a>(<span class="keyword">new</span> <a class="code" href="classSBSource.html">SBSource</a>(*NewS));
<a name="l01328"></a>01328                     IsNeedSave = TRUE;
<a name="l01329"></a>01329                   };
<a name="l01330"></a>01330               
<a name="l01331"></a>01331               <span class="comment">// aliases:</span>
<a name="l01332"></a>01332               QDictIterator&lt;QString&gt; it(*W-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>());
<a name="l01333"></a>01333               <span class="keywordflow">while</span> (it.current())
<a name="l01334"></a>01334                 {
<a name="l01335"></a>01335                   <span class="keywordflow">if</span> (!OldCRF-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;find(it.currentKey()))
<a name="l01336"></a>01336                     {
<a name="l01337"></a>01337                       OldCRF-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;insert(it.currentKey(), <span class="keyword">new</span> QString(it.current()-&gt;data()));
<a name="l01338"></a>01338                       IsNeedSave = TRUE;
<a name="l01339"></a>01339                     };
<a name="l01340"></a>01340                   ++it;
<a name="l01341"></a>01341                 };
<a name="l01342"></a>01342               <span class="keyword">delete</span> W;
<a name="l01343"></a>01343               W = OldCRF;
<a name="l01344"></a>01344               OldCRF = NULL;
<a name="l01345"></a>01345             };
<a name="l01346"></a>01346           <span class="keywordflow">break</span>;
<a name="l01347"></a>01347         <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554a4a223739066a6cab0eebbf498be0b2d8">APP_UPD</a>:
<a name="l01348"></a>01348           <span class="keywordflow">if</span> (IsRead)
<a name="l01349"></a>01349             {
<a name="l01350"></a>01350               <span class="comment">// sources:</span>
<a name="l01351"></a>01351               <span class="keywordflow">if</span> (W-&gt;count()) IsNeedSave = TRUE;
<a name="l01352"></a>01352               <span class="keywordflow">for</span> (NewS=W-&gt;<a class="code" href="classSB__CRF.html#ab311aace24dcbe44d4a63b7cd354482d">first</a>(); NewS; NewS=W-&gt;<a class="code" href="classSB__CRF.html#a1bf84a96ab2e1adb1d327c7d4f0ae380">next</a>())
<a name="l01353"></a>01353                 <span class="keywordflow">if</span> (!(OldS=OldCRF-&gt;<a class="code" href="classSB__CRF.html#ab8f6ae5ded081c08dbd82639281438c5">find</a>(*NewS))) 
<a name="l01354"></a>01354                   OldCRF-&gt;<a class="code" href="classSBCatalog.html#a9c88a96f479c197f9278bf447b15dc43">inSort</a>(<span class="keyword">new</span> <a class="code" href="classSBSource.html">SBSource</a>(*NewS));
<a name="l01355"></a>01355                 <span class="keywordflow">else</span>
<a name="l01356"></a>01356                   OldS-&gt;operator=(*NewS);
<a name="l01357"></a>01357               
<a name="l01358"></a>01358               <span class="comment">// aliases:</span>
<a name="l01359"></a>01359               <span class="keywordflow">if</span> (W-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;count()) IsNeedSave = TRUE;
<a name="l01360"></a>01360               QDictIterator&lt;QString&gt; it(*W-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>());
<a name="l01361"></a>01361               <span class="keywordflow">while</span> (it.current())
<a name="l01362"></a>01362                 {
<a name="l01363"></a>01363                   <span class="keywordflow">if</span> (!OldCRF-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;find(it.currentKey()))
<a name="l01364"></a>01364                     OldCRF-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;insert(it.currentKey(), <span class="keyword">new</span> QString(it.current()-&gt;data()));
<a name="l01365"></a>01365                   <span class="keywordflow">else</span>
<a name="l01366"></a>01366                     OldCRF-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;replace(it.currentKey(), <span class="keyword">new</span> QString(it.current()-&gt;data()));
<a name="l01367"></a>01367                   ++it;
<a name="l01368"></a>01368                 };
<a name="l01369"></a>01369               <span class="keyword">delete</span> W;
<a name="l01370"></a>01370               W = OldCRF;
<a name="l01371"></a>01371               OldCRF = NULL;
<a name="l01372"></a>01372             };
<a name="l01373"></a>01373           <span class="keywordflow">break</span>;
<a name="l01374"></a>01374         <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554a7d427e111f923d1f11848e2c2fea414b">UPD_ONLY</a>:
<a name="l01375"></a>01375           <span class="keywordflow">if</span> (IsRead)
<a name="l01376"></a>01376             {
<a name="l01377"></a>01377               <span class="comment">// sources:</span>
<a name="l01378"></a>01378               <span class="keywordflow">for</span> (OldS=OldCRF-&gt;<a class="code" href="classSB__CRF.html#ab311aace24dcbe44d4a63b7cd354482d">first</a>(); OldS; OldS=OldCRF-&gt;<a class="code" href="classSB__CRF.html#a1bf84a96ab2e1adb1d327c7d4f0ae380">next</a>())
<a name="l01379"></a>01379                 <span class="keywordflow">if</span> ((NewS=W-&gt;<a class="code" href="classSB__CRF.html#ab8f6ae5ded081c08dbd82639281438c5">find</a>(*OldS)))
<a name="l01380"></a>01380                   {
<a name="l01381"></a>01381                     *OldS = *NewS;
<a name="l01382"></a>01382                     IsNeedSave = TRUE;
<a name="l01383"></a>01383                   };
<a name="l01384"></a>01384               
<a name="l01385"></a>01385               <span class="comment">// aliases:</span>
<a name="l01386"></a>01386               QDictIterator&lt;QString&gt; it(*OldCRF-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>());
<a name="l01387"></a>01387               <span class="keywordflow">while</span> (it.current())
<a name="l01388"></a>01388                 {
<a name="l01389"></a>01389                   QString *StrPtr;
<a name="l01390"></a>01390                   <span class="keywordflow">if</span> ((StrPtr=W-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;find(it.currentKey())))
<a name="l01391"></a>01391                     {
<a name="l01392"></a>01392                       OldCRF-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;replace(it.currentKey(), <span class="keyword">new</span> QString(StrPtr-&gt;data()));
<a name="l01393"></a>01393                       IsNeedSave = TRUE;
<a name="l01394"></a>01394                     };
<a name="l01395"></a>01395                   ++it;
<a name="l01396"></a>01396                 };
<a name="l01397"></a>01397               <span class="keyword">delete</span> W;
<a name="l01398"></a>01398               W = OldCRF;
<a name="l01399"></a>01399               OldCRF = NULL;
<a name="l01400"></a>01400             };
<a name="l01401"></a>01401           <span class="keywordflow">break</span>;
<a name="l01402"></a>01402         <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#a039914783d62aa9ead6815dd69ad8554a5b58928ebb538a680bfd2145fd8b6cb4">UPD_COO_ONLY</a>:
<a name="l01403"></a>01403           <span class="keywordflow">if</span> (IsRead)
<a name="l01404"></a>01404             {
<a name="l01405"></a>01405               <span class="comment">// sources:</span>
<a name="l01406"></a>01406               <span class="keywordflow">for</span> (OldS=OldCRF-&gt;<a class="code" href="classSB__CRF.html#ab311aace24dcbe44d4a63b7cd354482d">first</a>(); OldS; OldS=OldCRF-&gt;<a class="code" href="classSB__CRF.html#a1bf84a96ab2e1adb1d327c7d4f0ae380">next</a>())
<a name="l01407"></a>01407                 <span class="keywordflow">if</span> ((NewS=W-&gt;<a class="code" href="classSB__CRF.html#ab8f6ae5ded081c08dbd82639281438c5">find</a>(*OldS)))
<a name="l01408"></a>01408                   {
<a name="l01409"></a>01409                     OldS-&gt;<a class="code" href="classSBSource.html#a3964557325ff5a445a82dc118d64b317">setRA</a>(NewS-&gt;<a class="code" href="classSBSource.html#abccafcb34225803100df7e01a649b8dc">ra</a>());
<a name="l01410"></a>01410                     OldS-&gt;<a class="code" href="classSBSource.html#a454c5cfeda0ec93c2a0f280b63d6d165">setDN</a>(NewS-&gt;<a class="code" href="classSBSource.html#aa9ac0e012c970eb8eaf6afd401efe87e">dn</a>());
<a name="l01411"></a>01411                     OldS-&gt;<a class="code" href="classSBSource.html#a8243849579f675c4ba539b535fa650f9">setRA_err</a>(NewS-&gt;<a class="code" href="classSBSource.html#a8a32024d4dd51d916dfa509274422b96">ra_err</a>());
<a name="l01412"></a>01412                     OldS-&gt;<a class="code" href="classSBSource.html#ad6fc9107e2e98809da2dc75394f432ed">setDN_err</a>(NewS-&gt;<a class="code" href="classSBSource.html#a840a5a78613787de2c9c55d748fc7615">dn_err</a>());
<a name="l01413"></a>01413 
<a name="l01414"></a>01414                     IsNeedSave = TRUE;
<a name="l01415"></a>01415                   };
<a name="l01416"></a>01416               
<a name="l01417"></a>01417               <span class="comment">// aliases:</span>
<a name="l01418"></a>01418               QDictIterator&lt;QString&gt; it(*OldCRF-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>());
<a name="l01419"></a>01419               <span class="keywordflow">while</span> (it.current())
<a name="l01420"></a>01420                 {
<a name="l01421"></a>01421                   QString *StrPtr;
<a name="l01422"></a>01422                   <span class="keywordflow">if</span> ((StrPtr=W-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;find(it.currentKey())))
<a name="l01423"></a>01423                     {
<a name="l01424"></a>01424                       OldCRF-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;replace(it.currentKey(), <span class="keyword">new</span> QString(StrPtr-&gt;data()));
<a name="l01425"></a>01425                       IsNeedSave = TRUE;
<a name="l01426"></a>01426                     };
<a name="l01427"></a>01427                   ++it;
<a name="l01428"></a>01428                 };
<a name="l01429"></a>01429               <span class="keyword">delete</span> W;
<a name="l01430"></a>01430               W = OldCRF;
<a name="l01431"></a>01431               OldCRF = NULL;
<a name="l01432"></a>01432             };
<a name="l01433"></a>01433           <span class="keywordflow">break</span>;
<a name="l01434"></a>01434         };
<a name="l01435"></a>01435     };
<a name="l01436"></a>01436   
<a name="l01437"></a>01437   <span class="keywordflow">if</span> (IsNeedSave)
<a name="l01438"></a>01438     {      
<a name="l01439"></a>01439       W -&gt; setComment(W-&gt;<a class="code" href="classSBCatalog.html#a68a953e451410c1890d5e48b0a6d90cc">comment</a>() + <span class="stringliteral">&quot;; Imported from:&quot;</span> + sFiles);
<a name="l01440"></a>01440       <a class="code" href="SbSetup_8C.html#ab22099f310d06d492236a87cc020822b">SetUp</a>-&gt;<a class="code" href="classSBSetUp.html#aa6a4ed0ff9d60c50f71b1bd1b7b4d9e1">saveCRF</a>(W);
<a name="l01441"></a>01441       emit <a class="code" href="classSBSourceImport.html#afe782aef0d16bc42bbefecc8745a7a61">sourcesImported</a>();
<a name="l01442"></a>01442     };
<a name="l01443"></a>01443   
<a name="l01444"></a>01444   <span class="keywordflow">if</span> (W) <span class="keyword">delete</span> W;
<a name="l01445"></a>01445   <span class="keywordflow">if</span> (OldCRF) <span class="keyword">delete</span> OldCRF;
<a name="l01446"></a>01446 };
<a name="l01447"></a>01447 
<a name="l01448"></a><a class="code" href="classSBSourceImport.html#a23b3cf5fe88e00e83f977b6e31e704b0">01448</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a23b3cf5fe88e00e83f977b6e31e704b0">SBSourceImport::loadFile1995</a>(<a class="code" href="classSB__CRF.html">SB_CRF</a>* W, QString FileName, <a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6">FileType</a> Type, <a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464">SBSource::SStatus</a> Status)
<a name="l01449"></a>01449 {
<a name="l01450"></a>01450   <a class="code" href="classQTextStream.html">QTextStream</a>   *s;
<a name="l01451"></a>01451   QFile f(FileName);
<a name="l01452"></a>01452   <span class="keywordflow">if</span> (f.open(IO_ReadOnly))
<a name="l01453"></a>01453     {
<a name="l01454"></a>01454       <span class="keywordflow">switch</span> (Type)
<a name="l01455"></a>01455         {
<a name="l01456"></a>01456         <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6a8d8f5ea9a3692784cc0467c3aeff1466">T_RSC</a>:
<a name="l01457"></a>01457           s = <span class="keyword">new</span> <a class="code" href="classSBTS__rsc.html">SBTS_rsc</a>;
<a name="l01458"></a>01458           ((<a class="code" href="classSBTS__rsc.html">SBTS_rsc</a>*)s)-&gt;<a class="code" href="classSBTS__rsc.html#a4bd57c8bcc941709977cbd1e87580600">setAssignedStatus</a>(Status);
<a name="l01459"></a>01459           s-&gt;setDevice(&amp;f);
<a name="l01460"></a>01460           *(<a class="code" href="classSBTS__rsc.html">SBTS_rsc</a>*)s &gt;&gt; *W;
<a name="l01461"></a>01461           <span class="keywordflow">break</span>;
<a name="l01462"></a>01462         <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6a908fa1bd823a9c12aadebe3a3dbe6638">T_CAR</a>:
<a name="l01463"></a>01463           s = <span class="keyword">new</span> <a class="code" href="classSBTS__car.html">SBTS_car</a>;
<a name="l01464"></a>01464           s-&gt;setDevice(&amp;f);
<a name="l01465"></a>01465           *(<a class="code" href="classSBTS__car.html">SBTS_car</a>*)s &gt;&gt; *W;
<a name="l01466"></a>01466           <span class="keywordflow">break</span>;
<a name="l01467"></a>01467         <span class="keywordflow">case</span> <a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6af955833fa6cded9a4f6ab12b02732c66">T_DICO</a>:
<a name="l01468"></a>01468           s = <span class="keyword">new</span> <a class="code" href="classSBTS__dico.html">SBTS_dico</a>;
<a name="l01469"></a>01469           s-&gt;setDevice(&amp;f);
<a name="l01470"></a>01470           *(<a class="code" href="classSBTS__dico.html">SBTS_dico</a>*)s &gt;&gt; *W;
<a name="l01471"></a>01471           <span class="keywordflow">break</span>;
<a name="l01472"></a>01472         <span class="keywordflow">default</span>:
<a name="l01473"></a>01473           f.close();
<a name="l01474"></a>01474           <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08ae392bcd014a917ef24fc1225292995b6">SBLog::ERR</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBSourceImport.html#a2c69c0b25f7866f78121b7fb86e36d97">ClassName</a>() +  <span class="stringliteral">&quot;: loadFile: wrong Type, *&amp;%&amp;*^&quot;</span>);
<a name="l01475"></a>01475           <span class="keywordflow">return</span>;
<a name="l01476"></a>01476         };
<a name="l01477"></a>01477       f.close();
<a name="l01478"></a>01478       s-&gt;unsetDevice();
<a name="l01479"></a>01479       <span class="keyword">delete</span> s;
<a name="l01480"></a>01480       <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBSourceImport.html#a2c69c0b25f7866f78121b7fb86e36d97">ClassName</a>() + <span class="stringliteral">&quot;: file &quot;</span> + FileName + <span class="stringliteral">&quot; has been loaded&quot;</span>);
<a name="l01481"></a>01481     }
<a name="l01482"></a>01482   <span class="keywordflow">else</span>    
<a name="l01483"></a>01483     <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a24bd42a9f4bccec3a28b80562a665db7">SBLog::WRN</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4a6e3db46e3cb3799c95e1a3c6f5cb1719">SBLog::IO</a>, <a class="code" href="classSBSourceImport.html#a2c69c0b25f7866f78121b7fb86e36d97">ClassName</a>() + <span class="stringliteral">&quot;: could not read &quot;</span> + FileName + <span class="stringliteral">&quot;; ignored&quot;</span>);
<a name="l01484"></a>01484 };
<a name="l01485"></a>01485 
<a name="l01486"></a><a class="code" href="classSBSourceImport.html#a7d51148b72c7e8b30a36deb8764e155a">01486</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceImport.html#a7d51148b72c7e8b30a36deb8764e155a">SBSourceImport::loadFile1999</a>(<a class="code" href="classSB__CRF.html">SB_CRF</a>* <span class="comment">/*W*/</span>, QString <span class="comment">/*FileName*/</span>, <a class="code" href="classSBSourceImport.html#ae61f1eb1bd64b6ea64506be654737ab6">FileType</a> <span class="comment">/*Type*/</span>)
<a name="l01487"></a>01487 {
<a name="l01488"></a>01488 };
<a name="l01489"></a>01489 <span class="comment">/*==============================================================================================*/</span>
<a name="l01490"></a>01490 
<a name="l01491"></a>01491 
<a name="l01492"></a>01492 
<a name="l01493"></a>01493 <span class="comment">/*==============================================================================================*/</span>
<a name="l01494"></a>01494 <span class="comment">/*                                                                                              */</span>
<a name="l01495"></a>01495 <span class="comment">/* SBSourceEditor..                                                                             */</span>
<a name="l01496"></a>01496 <span class="comment">/*                                                                                              */</span>
<a name="l01497"></a>01497 <span class="comment">/*==============================================================================================*/</span>
<a name="l01498"></a><a class="code" href="classSBSourceEditor.html#ac7abf5043b6684c1e77477203119f701">01498</a> <a class="code" href="classSBSourceEditor.html#ac7abf5043b6684c1e77477203119f701">SBSourceEditor::SBSourceEditor</a>(<a class="code" href="classSBSourceListItem.html">SBSourceListItem</a>* SrcItem_, <a class="code" href="classQWidget.html">QWidget</a>* parent,
<a name="l01499"></a>01499                                <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> modal, WFlags f)
<a name="l01500"></a>01500   : <a class="code" href="classSBTabDialog.html">SBTabDialog</a>(parent, name, modal, f)
<a name="l01501"></a>01501 {
<a name="l01502"></a>01502   <a class="code" href="classSBSourceEditor.html#a6b7da7c3cbba822fd8525a40e3efadbc">SrcItem</a>       = SrcItem_;
<a name="l01503"></a>01503   <a class="code" href="classSBSourceEditor.html#a0ee47b7be7e934de802d551d6df85282">SourcesLV</a>     = <a class="code" href="classSBSourceEditor.html#a6b7da7c3cbba822fd8525a40e3efadbc">SrcItem</a>-&gt;listView();
<a name="l01504"></a>01504   <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>        = <a class="code" href="classSBSourceEditor.html#a6b7da7c3cbba822fd8525a40e3efadbc">SrcItem</a>-&gt;<a class="code" href="classSBSourceListItem.html#adf0e177f105ce99a711f5226df281edb">Source</a>;
<a name="l01505"></a>01505   <a class="code" href="classSBSourceEditor.html#a4f8261f8f88a6990247d32d099276c63">Wcrf</a>          = NULL;
<a name="l01506"></a>01506   
<a name="l01507"></a>01507   <a class="code" href="classSBSourceEditor.html#a53f949e3404ef9e570fc89e9ee9d2281">isNew</a>         = FALSE;
<a name="l01508"></a>01508   <a class="code" href="classSBSourceEditor.html#acbf00246b38eb36d661d4237f126abc4">init</a>();
<a name="l01509"></a>01509 };
<a name="l01510"></a>01510 
<a name="l01511"></a><a class="code" href="classSBSourceEditor.html#a3816961984019eee3ef77f9f8711840d">01511</a> <a class="code" href="classSBSourceEditor.html#ac7abf5043b6684c1e77477203119f701">SBSourceEditor::SBSourceEditor</a>(<a class="code" href="classQListView.html">QListView</a>* SourcesLV_, <a class="code" href="classSB__CRF.html">SB_CRF</a>* Wcrf_, <a class="code" href="classQWidget.html">QWidget</a>* parent,
<a name="l01512"></a>01512                                <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> modal, WFlags f)
<a name="l01513"></a>01513   : <a class="code" href="classSBTabDialog.html">SBTabDialog</a>(parent, name, modal, f)
<a name="l01514"></a>01514 {
<a name="l01515"></a>01515   <a class="code" href="classSBSourceEditor.html#a6b7da7c3cbba822fd8525a40e3efadbc">SrcItem</a>       = NULL;
<a name="l01516"></a>01516   <a class="code" href="classSBSourceEditor.html#a0ee47b7be7e934de802d551d6df85282">SourcesLV</a>     = SourcesLV_;
<a name="l01517"></a>01517   <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>        = <span class="keyword">new</span> <a class="code" href="classSBSource.html">SBSource</a>;
<a name="l01518"></a>01518   <a class="code" href="classSBSourceEditor.html#a4f8261f8f88a6990247d32d099276c63">Wcrf</a>          = Wcrf_;
<a name="l01519"></a>01519 
<a name="l01520"></a>01520   <a class="code" href="classSBSourceEditor.html#a53f949e3404ef9e570fc89e9ee9d2281">isNew</a>         = TRUE;
<a name="l01521"></a>01521   <a class="code" href="classSBSourceEditor.html#acbf00246b38eb36d661d4237f126abc4">init</a>();
<a name="l01522"></a>01522 };
<a name="l01523"></a>01523 
<a name="l01524"></a><a class="code" href="classSBSourceEditor.html#acbf00246b38eb36d661d4237f126abc4">01524</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceEditor.html#acbf00246b38eb36d661d4237f126abc4">SBSourceEditor::init</a>()
<a name="l01525"></a>01525 {
<a name="l01526"></a>01526   <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a>    = FALSE;
<a name="l01527"></a>01527   setCaption(<span class="stringliteral">&quot;Source Editor&quot;</span>);
<a name="l01528"></a>01528 
<a name="l01529"></a>01529   addTab(<a class="code" href="classSBSourceEditor.html#a431ab5a173468e31689bb9734b861791">wCoordinates</a>(), <span class="stringliteral">&quot;Coordinates&quot;</span>);
<a name="l01530"></a>01530   addTab(<a class="code" href="classSBSourceEditor.html#ad8b1bbe4c3c5822cb90d37a4e308d168">wPhysChars</a>(), <span class="stringliteral">&quot;Character&quot;</span>);
<a name="l01531"></a>01531   addTab(<a class="code" href="classSBSourceEditor.html#accd0efe3cf88bf9607f354476fdf27da">wStats</a>(), <span class="stringliteral">&quot;Status&quot;</span>);
<a name="l01532"></a>01532 
<a name="l01533"></a>01533   setCancelButton();
<a name="l01534"></a>01534   setApplyButton();
<a name="l01535"></a>01535   connect(<span class="keyword">this</span>, SIGNAL(applyButtonPressed()), SLOT(<a class="code" href="classSBSourceEditor.html#a8eca637f6e429e3f316f77cd51b21cf1">makeApply</a>()));
<a name="l01536"></a>01536 };
<a name="l01537"></a>01537 
<a name="l01538"></a><a class="code" href="classSBSourceEditor.html#afb959be73eb5b2093ebfcd05e4716a81">01538</a> <a class="code" href="classSBSourceEditor.html#afb959be73eb5b2093ebfcd05e4716a81">SBSourceEditor::~SBSourceEditor</a>()
<a name="l01539"></a>01539 {
<a name="l01540"></a>01540   emit <a class="code" href="classSBSourceEditor.html#aa92e3342989f96c0e81a5728c4da1cde">SourceModified</a>(<a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a>);
<a name="l01541"></a>01541   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a53f949e3404ef9e570fc89e9ee9d2281">isNew</a> &amp;&amp; !<a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> &amp;&amp; <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>) <span class="keyword">delete</span> <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>;
<a name="l01542"></a>01542 };
<a name="l01543"></a>01543  
<a name="l01544"></a><a class="code" href="classSBSourceEditor.html#a8eca637f6e429e3f316f77cd51b21cf1">01544</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceEditor.html#a8eca637f6e429e3f316f77cd51b21cf1">SBSourceEditor::makeApply</a>()
<a name="l01545"></a>01545 {
<a name="l01546"></a>01546   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBSourceEditor.html#a310ce68578f5de548d4521c8fb441b2a">ClassName</a>() + <span class="stringliteral">&quot;: applying&quot;</span>);
<a name="l01547"></a>01547   <a class="code" href="classSBSourceEditor.html#adddeb982fc0d60eb2b5b35f9ca51ab9b">acquireData</a>();
<a name="l01548"></a>01548   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a>) 
<a name="l01549"></a>01549     {
<a name="l01550"></a>01550       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#acaf5831050330f57bb4ae41311b54f50">addAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba4cdc455a6d549b1ee50183b7a67459aa" title="Info origin: has been edited (alterated by hand);.">SBSource::OrigEdited</a>);
<a name="l01551"></a>01551       <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a53f949e3404ef9e570fc89e9ee9d2281">isNew</a>) 
<a name="l01552"></a>01552         {
<a name="l01553"></a>01553           <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a4f8261f8f88a6990247d32d099276c63">Wcrf</a>-&gt;<a class="code" href="classSB__CRF.html#ab8f6ae5ded081c08dbd82639281438c5">find</a>(*<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>))
<a name="l01554"></a>01554             {
<a name="l01555"></a>01555               QMessageBox::warning(<span class="keyword">this</span>, <span class="stringliteral">&quot;Source already defined&quot;</span>, 
<a name="l01556"></a>01556                                    <span class="stringliteral">&quot;The source \&quot;&quot;</span> + <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>() + <span class="stringliteral">&quot;\&quot; already present &quot;</span>
<a name="l01557"></a>01557                                    <span class="stringliteral">&quot;in database.\n\n&quot;</span>
<a name="l01558"></a>01558                                    <span class="stringliteral">&quot;It&#39;s impossible to add an object with the same ID,\n&quot;</span>
<a name="l01559"></a>01559                                    <span class="stringliteral">&quot;but you can adit that entry (make a double click or\n&quot;</span>
<a name="l01560"></a>01560                                    <span class="stringliteral">&quot;press Enter when a keyboard focus in a list)\n&quot;</span>, 
<a name="l01561"></a>01561                                    <span class="stringliteral">&quot;OK&quot;</span>);
<a name="l01562"></a>01562               <span class="keywordflow">return</span>;
<a name="l01563"></a>01563             };
<a name="l01564"></a>01564           
<a name="l01565"></a>01565           
<a name="l01566"></a>01566           <a class="code" href="classSBSourceEditor.html#a4f8261f8f88a6990247d32d099276c63">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a9c88a96f479c197f9278bf447b15dc43">inSort</a>(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>);
<a name="l01567"></a>01567           <a class="code" href="classSBSourceEditor.html#a6b7da7c3cbba822fd8525a40e3efadbc">SrcItem</a> = <span class="keyword">new</span> <a class="code" href="classSBSourceListItem.html">SBSourceListItem</a>(<a class="code" href="classSBSourceEditor.html#a0ee47b7be7e934de802d551d6df85282">SourcesLV</a>, <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>);
<a name="l01568"></a>01568           <a class="code" href="classSBSourceEditor.html#a0ee47b7be7e934de802d551d6df85282">SourcesLV</a>-&gt;setSelected(<a class="code" href="classSBSourceEditor.html#a6b7da7c3cbba822fd8525a40e3efadbc">SrcItem</a>, TRUE);
<a name="l01569"></a>01569           <span class="comment">// not works... ;-(</span>
<a name="l01570"></a>01570           <span class="comment">// SourcesLV-&gt;ensureItemVisible(SrcItem);</span>
<a name="l01571"></a>01571           <a class="code" href="classQListViewItem.html">QListViewItem</a> *item = <a class="code" href="classSBSourceEditor.html#a6b7da7c3cbba822fd8525a40e3efadbc">SrcItem</a>;
<a name="l01572"></a>01572           <a class="code" href="classQListViewItem.html">QListViewItem</a> *firstItem = <a class="code" href="classSBSourceEditor.html#a0ee47b7be7e934de802d551d6df85282">SourcesLV</a>-&gt;firstChild();
<a name="l01573"></a>01573           <span class="keywordtype">int</span> h=0;
<a name="l01574"></a>01574           <span class="keywordflow">do</span> 
<a name="l01575"></a>01575             {
<a name="l01576"></a>01576               h += item-&gt;totalHeight();
<a name="l01577"></a>01577               item=item-&gt;itemAbove();
<a name="l01578"></a>01578             } 
<a name="l01579"></a>01579           <span class="keywordflow">while</span> (item &amp;&amp; item!=firstItem);
<a name="l01580"></a>01580           <a class="code" href="classSBSourceEditor.html#a0ee47b7be7e934de802d551d6df85282">SourcesLV</a>-&gt;ensureVisible(0, h + <a class="code" href="classSBSourceEditor.html#a6b7da7c3cbba822fd8525a40e3efadbc">SrcItem</a>-&gt;totalHeight()/2);
<a name="l01581"></a>01581           <a class="code" href="classSBSourceEditor.html#a53f949e3404ef9e570fc89e9ee9d2281">isNew</a> = FALSE;
<a name="l01582"></a>01582           <a class="code" href="classSBSourceEditor.html#a2f7f5a6a544237df6f528a34ab3c6406">EName</a>-&gt;setEnabled(FALSE);
<a name="l01583"></a>01583           <a class="code" href="classSBSourceEditor.html#ace39ba0f3b5318de510052b0ec51fb30">NameGBox</a>-&gt;setTitle(<span class="stringliteral">&quot; \&quot;&quot;</span> + <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>() + <span class="stringliteral">&quot;\&quot; Coordinates&quot;</span>);
<a name="l01584"></a>01584         }
<a name="l01585"></a>01585       <span class="keywordflow">else</span> <a class="code" href="classSBSourceEditor.html#a6b7da7c3cbba822fd8525a40e3efadbc">SrcItem</a>-&gt;repaint();
<a name="l01586"></a>01586     };
<a name="l01587"></a>01587   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBSourceEditor.html#a310ce68578f5de548d4521c8fb441b2a">ClassName</a>() + <span class="stringliteral">&quot;: done&quot;</span>);
<a name="l01588"></a>01588 };
<a name="l01589"></a>01589 
<a name="l01590"></a><a class="code" href="classSBSourceEditor.html#a431ab5a173468e31689bb9734b861791">01590</a> <a class="code" href="classQWidget.html">QWidget</a>* <a class="code" href="classSBSourceEditor.html#a431ab5a173468e31689bb9734b861791">SBSourceEditor::wCoordinates</a>()
<a name="l01591"></a>01591 {
<a name="l01592"></a>01592   <a class="code" href="classQWidget.html">QWidget</a>*      W = <span class="keyword">new</span> <a class="code" href="classQWidget.html">QWidget</a>(<span class="keyword">this</span>);
<a name="l01593"></a>01593 
<a name="l01594"></a>01594   <span class="keywordtype">int</span>           hr;
<a name="l01595"></a>01595   <span class="keywordtype">int</span>           min;
<a name="l01596"></a>01596   <span class="keywordtype">double</span>        sec;
<a name="l01597"></a>01597   QString       Str;
<a name="l01598"></a>01598   QBoxLayout*   Layout;
<a name="l01599"></a>01599   QBoxLayout*   aLayout;  
<a name="l01600"></a>01600   QBoxLayout*   bLayout;
<a name="l01601"></a>01601   QGridLayout*  grid;
<a name="l01602"></a>01602   QLabel*       label;
<a name="l01603"></a>01603   QGroupBox*    gbox;
<a name="l01604"></a>01604 
<a name="l01605"></a>01605   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* cStatus[5] = 
<a name="l01606"></a>01606   {
<a name="l01607"></a>01607     <span class="stringliteral">&quot;Defining&quot;</span>,
<a name="l01608"></a>01608     <span class="stringliteral">&quot;Candidate&quot;</span>,
<a name="l01609"></a>01609     <span class="stringliteral">&quot;Other&quot;</span>,
<a name="l01610"></a>01610     <span class="stringliteral">&quot;New&quot;</span>,
<a name="l01611"></a>01611     <span class="stringliteral">&quot;Unknown&quot;</span>
<a name="l01612"></a>01612   };
<a name="l01613"></a>01613 
<a name="l01614"></a>01614   <span class="keywordflow">if</span> (!<a class="code" href="classSBSourceEditor.html#a53f949e3404ef9e570fc89e9ee9d2281">isNew</a>) Str = <span class="stringliteral">&quot; \&quot;&quot;</span> + <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>() + <span class="stringliteral">&quot;\&quot; Coordinates&quot;</span>;
<a name="l01615"></a>01615   <span class="keywordflow">else</span> Str = <span class="stringliteral">&quot;New Source Coordinates&quot;</span>;
<a name="l01616"></a>01616 
<a name="l01617"></a>01617   <a class="code" href="classSBSourceEditor.html#ace39ba0f3b5318de510052b0ec51fb30">NameGBox</a> = gbox = <span class="keyword">new</span> QGroupBox((<span class="keyword">const</span> <span class="keywordtype">char</span>*)Str, W);
<a name="l01618"></a>01618   Layout = <span class="keyword">new</span> QVBoxLayout(gbox, 20, 10);
<a name="l01619"></a>01619 
<a name="l01620"></a>01620   aLayout = <span class="keyword">new</span> QHBoxLayout(20);
<a name="l01621"></a>01621   Layout -&gt; addStretch(1);
<a name="l01622"></a>01622   Layout -&gt; addLayout(aLayout);
<a name="l01623"></a>01623 
<a name="l01624"></a>01624 
<a name="l01625"></a>01625   <span class="comment">// Names &amp; akas:</span>
<a name="l01626"></a>01626   grid    = <span class="keyword">new</span> QGridLayout(5, 2, 5);
<a name="l01627"></a>01627   aLayout-&gt; addLayout(grid, 1);
<a name="l01628"></a>01628 
<a name="l01629"></a>01629   label   = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Name: &quot;</span>, gbox);
<a name="l01630"></a>01630   label  -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01631"></a>01631   grid   -&gt; addWidget(label, 1,0);
<a name="l01632"></a>01632 
<a name="l01633"></a>01633   <a class="code" href="classSBSourceEditor.html#a2f7f5a6a544237df6f528a34ab3c6406">EName</a>    = <span class="keyword">new</span> QLineEdit(gbox);
<a name="l01634"></a>01634   <a class="code" href="classSBSourceEditor.html#a2f7f5a6a544237df6f528a34ab3c6406">EName</a>   -&gt; setText(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>());
<a name="l01635"></a>01635   <a class="code" href="classSBSourceEditor.html#a2f7f5a6a544237df6f528a34ab3c6406">EName</a>   -&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#a2f7f5a6a544237df6f528a34ab3c6406">EName</a>-&gt;fontMetrics().width(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>()) + 2);
<a name="l01636"></a>01636   <a class="code" href="classSBSourceEditor.html#a2f7f5a6a544237df6f528a34ab3c6406">EName</a>   -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#a2f7f5a6a544237df6f528a34ab3c6406">EName</a>-&gt;sizeHint().height());
<a name="l01637"></a>01637   grid    -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a2f7f5a6a544237df6f528a34ab3c6406">EName</a>, 1,1);
<a name="l01638"></a>01638   <a class="code" href="classSBSourceEditor.html#a2f7f5a6a544237df6f528a34ab3c6406">EName</a>   -&gt; setEnabled(<a class="code" href="classSBSourceEditor.html#a53f949e3404ef9e570fc89e9ee9d2281">isNew</a>);
<a name="l01639"></a>01639 
<a name="l01640"></a>01640 
<a name="l01641"></a>01641   label    = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;ICRF: &quot;</span>, gbox);
<a name="l01642"></a>01642   label   -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01643"></a>01643   grid    -&gt; addWidget(label, 2,0);
<a name="l01644"></a>01644 
<a name="l01645"></a>01645   <a class="code" href="classSBSourceEditor.html#a2d9af6c20af584a7d59f3bc10b1e3e32">EICRF</a>    = <span class="keyword">new</span> QLineEdit(gbox);
<a name="l01646"></a>01646   <a class="code" href="classSBSourceEditor.html#a2d9af6c20af584a7d59f3bc10b1e3e32">EICRF</a>   -&gt; setText(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a219deb493fdaf5c3ba92ff57d205b502">ICRFName</a>());
<a name="l01647"></a>01647   <a class="code" href="classSBSourceEditor.html#a2d9af6c20af584a7d59f3bc10b1e3e32">EICRF</a>   -&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#a2d9af6c20af584a7d59f3bc10b1e3e32">EICRF</a>-&gt;fontMetrics().width(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a219deb493fdaf5c3ba92ff57d205b502">ICRFName</a>()) + 2);
<a name="l01648"></a>01648   <a class="code" href="classSBSourceEditor.html#a2d9af6c20af584a7d59f3bc10b1e3e32">EICRF</a>   -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#a2d9af6c20af584a7d59f3bc10b1e3e32">EICRF</a>-&gt;sizeHint().height());
<a name="l01649"></a>01649   grid    -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a2d9af6c20af584a7d59f3bc10b1e3e32">EICRF</a>, 2,1);
<a name="l01650"></a>01650 
<a name="l01651"></a>01651   label    = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Aliases: &quot;</span>, gbox);
<a name="l01652"></a>01652   label   -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01653"></a>01653   grid    -&gt; addWidget(label, 3,0);
<a name="l01654"></a>01654 
<a name="l01655"></a>01655   <a class="code" href="classSBSourceEditor.html#a82a7f828406977409a68e0db16e20acc">CBAlias</a>  = <span class="keyword">new</span> QComboBox(FALSE, gbox);
<a name="l01656"></a>01656   <a class="code" href="classSBSourceEditor.html#a82a7f828406977409a68e0db16e20acc">CBAlias</a> -&gt; setInsertionPolicy(QComboBox::AtBottom);
<a name="l01657"></a>01657   <a class="code" href="classSBSourceEditor.html#a82a7f828406977409a68e0db16e20acc">CBAlias</a> -&gt; setFocusPolicy(QWidget::StrongFocus);
<a name="l01658"></a>01658   <a class="code" href="classQList.html">QList&lt;QString&gt;</a>* aliases=<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#acf610053c021b3963f510b42b26495fb">aliasesList</a>();
<a name="l01659"></a>01659   <span class="keywordflow">if</span> (aliases &amp;&amp; aliases-&gt;count())
<a name="l01660"></a>01660     {
<a name="l01661"></a>01661       <a class="code" href="classQListIterator.html">QListIterator&lt;QString&gt;</a> it(*aliases);
<a name="l01662"></a>01662       <span class="keywordflow">while</span> (it.current())
<a name="l01663"></a>01663         {
<a name="l01664"></a>01664           <a class="code" href="classSBSourceEditor.html#a82a7f828406977409a68e0db16e20acc">CBAlias</a> -&gt; insertItem(*it.current());
<a name="l01665"></a>01665           ++it;
<a name="l01666"></a>01666         };
<a name="l01667"></a>01667     }
<a name="l01668"></a>01668   <span class="keywordflow">else</span>
<a name="l01669"></a>01669     <a class="code" href="classSBSourceEditor.html#a82a7f828406977409a68e0db16e20acc">CBAlias</a> -&gt; insertItem(<span class="stringliteral">&quot;=NO ALIASES=&quot;</span>);
<a name="l01670"></a>01670   
<a name="l01671"></a>01671   <a class="code" href="classSBSourceEditor.html#a82a7f828406977409a68e0db16e20acc">CBAlias</a> -&gt; setMinimumSize(<a class="code" href="classSBSourceEditor.html#a82a7f828406977409a68e0db16e20acc">CBAlias</a>-&gt;sizeHint());
<a name="l01672"></a>01672   grid    -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a82a7f828406977409a68e0db16e20acc">CBAlias</a>, 3,1);
<a name="l01673"></a>01673   grid    -&gt; setRowStretch(0,1);
<a name="l01674"></a>01674   grid    -&gt; setRowStretch(4,1);
<a name="l01675"></a>01675   <span class="comment">//--</span>
<a name="l01676"></a>01676 
<a name="l01677"></a>01677   <span class="comment">// Status:</span>
<a name="l01678"></a>01678   QButtonGroup* BGStatus = <span class="keyword">new</span> QButtonGroup(<span class="stringliteral">&quot; Category &quot;</span>, gbox);
<a name="l01679"></a>01679   bLayout = <span class="keyword">new</span> QVBoxLayout(BGStatus, 20, 5);
<a name="l01680"></a>01680   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;5; i++)
<a name="l01681"></a>01681     {
<a name="l01682"></a>01682       <a class="code" href="classSBSourceEditor.html#acd5d0c2ffde03015153af5a67c69da0c">RBStatus</a>[i] = <span class="keyword">new</span> QRadioButton(cStatus[i], BGStatus);
<a name="l01683"></a>01683       <a class="code" href="classSBSourceEditor.html#acd5d0c2ffde03015153af5a67c69da0c">RBStatus</a>[i]-&gt; setMinimumSize(<a class="code" href="classSBSourceEditor.html#acd5d0c2ffde03015153af5a67c69da0c">RBStatus</a>[i]-&gt;sizeHint());
<a name="l01684"></a>01684       bLayout -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#acd5d0c2ffde03015153af5a67c69da0c">RBStatus</a>[i]);
<a name="l01685"></a>01685     };
<a name="l01686"></a>01686   <a class="code" href="classSBSourceEditor.html#acd5d0c2ffde03015153af5a67c69da0c">RBStatus</a>[<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a96cdfdd1c6dbb4b9635ae09188e0df1f">status</a>()]-&gt;setChecked(TRUE);
<a name="l01687"></a>01687   bLayout -&gt; activate();  
<a name="l01688"></a>01688   <span class="comment">//--</span>
<a name="l01689"></a>01689   
<a name="l01690"></a>01690   aLayout-&gt; addWidget(BGStatus, 2);
<a name="l01691"></a>01691   Layout-&gt; addStretch(1);
<a name="l01692"></a>01692   <span class="comment">//--</span>
<a name="l01693"></a>01693 
<a name="l01694"></a>01694   QGroupBox* coo = <span class="keyword">new</span> QGroupBox(<span class="stringliteral">&quot;Coordinates&quot;</span>, gbox);
<a name="l01695"></a>01695   grid   = <span class="keyword">new</span> QGridLayout(coo, 5,9, 20,5);
<a name="l01696"></a>01696 
<a name="l01697"></a>01697   <span class="comment">//-- RA:</span>
<a name="l01698"></a>01698   <a class="code" href="SbGeo_8C.html#a0314818648ea6df55b4c6f4ee7beef10">rad2hms</a>(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#abccafcb34225803100df7e01a649b8dc">ra</a>(), hr, min, sec);  
<a name="l01699"></a>01699   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Right Ascension: &quot;</span>, coo);
<a name="l01700"></a>01700   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01701"></a>01701   grid  -&gt; addWidget(label, 0,1);
<a name="l01702"></a>01702 
<a name="l01703"></a>01703   Str.sprintf(<span class="stringliteral">&quot;%3d&quot;</span>, hr);
<a name="l01704"></a>01704   <a class="code" href="classSBSourceEditor.html#a32817b8a6f6b7328a8b37b5e95b8dce3">ERAhr</a>  = <span class="keyword">new</span> QLineEdit(coo);
<a name="l01705"></a>01705   <a class="code" href="classSBSourceEditor.html#a32817b8a6f6b7328a8b37b5e95b8dce3">ERAhr</a> -&gt; setText(Str);
<a name="l01706"></a>01706   <a class="code" href="classSBSourceEditor.html#a32817b8a6f6b7328a8b37b5e95b8dce3">ERAhr</a> -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#a32817b8a6f6b7328a8b37b5e95b8dce3">ERAhr</a>-&gt;sizeHint().height());
<a name="l01707"></a>01707   <a class="code" href="classSBSourceEditor.html#a32817b8a6f6b7328a8b37b5e95b8dce3">ERAhr</a> -&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#a32817b8a6f6b7328a8b37b5e95b8dce3">ERAhr</a>-&gt;fontMetrics().width(<span class="stringliteral">&quot;-00&quot;</span>) + 8);
<a name="l01708"></a>01708   grid  -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a32817b8a6f6b7328a8b37b5e95b8dce3">ERAhr</a>, 0,2);
<a name="l01709"></a>01709 
<a name="l01710"></a>01710   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;hr&quot;</span>, coo);
<a name="l01711"></a>01711   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01712"></a>01712   grid  -&gt; addWidget(label, 0,3);
<a name="l01713"></a>01713 
<a name="l01714"></a>01714   Str.sprintf(<span class="stringliteral">&quot;%3d&quot;</span>, min);
<a name="l01715"></a>01715   <a class="code" href="classSBSourceEditor.html#a3ad116721fd50e5076a3cae7d81ff131">ERAmin</a> = <span class="keyword">new</span> QLineEdit(coo);
<a name="l01716"></a>01716   <a class="code" href="classSBSourceEditor.html#a3ad116721fd50e5076a3cae7d81ff131">ERAmin</a>-&gt; setText(Str);
<a name="l01717"></a>01717   <a class="code" href="classSBSourceEditor.html#a3ad116721fd50e5076a3cae7d81ff131">ERAmin</a>-&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#a3ad116721fd50e5076a3cae7d81ff131">ERAmin</a>-&gt;fontMetrics().width(<span class="stringliteral">&quot;-00&quot;</span>) + 8);
<a name="l01718"></a>01718   grid  -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a3ad116721fd50e5076a3cae7d81ff131">ERAmin</a>, 0,4);
<a name="l01719"></a>01719 
<a name="l01720"></a>01720   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;min&quot;</span>, coo);
<a name="l01721"></a>01721   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01722"></a>01722   grid  -&gt; addWidget(label, 0,5);
<a name="l01723"></a>01723 
<a name="l01724"></a>01724   Str.sprintf(<span class="stringliteral">&quot;%9.6f&quot;</span>, sec);
<a name="l01725"></a>01725   <a class="code" href="classSBSourceEditor.html#aab15e5b50ad5d04a26d4924e83aa4634">ERAsec</a> = <span class="keyword">new</span> QLineEdit(coo);
<a name="l01726"></a>01726   <a class="code" href="classSBSourceEditor.html#aab15e5b50ad5d04a26d4924e83aa4634">ERAsec</a>-&gt; setText(Str);
<a name="l01727"></a>01727   <a class="code" href="classSBSourceEditor.html#aab15e5b50ad5d04a26d4924e83aa4634">ERAsec</a>-&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#aab15e5b50ad5d04a26d4924e83aa4634">ERAsec</a>-&gt;fontMetrics().width(<span class="stringliteral">&quot;-00.123456&quot;</span>) + 8);
<a name="l01728"></a>01728   grid  -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#aab15e5b50ad5d04a26d4924e83aa4634">ERAsec</a>, 0,6);
<a name="l01729"></a>01729 
<a name="l01730"></a>01730   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;sec&quot;</span>, coo);
<a name="l01731"></a>01731   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01732"></a>01732   grid  -&gt; addWidget(label, 0,7);
<a name="l01733"></a>01733 
<a name="l01734"></a>01734   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;uncertainties: &quot;</span>, coo);
<a name="l01735"></a>01735   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01736"></a>01736   grid  -&gt; addWidget(label, 1,1);
<a name="l01737"></a>01737 
<a name="l01738"></a>01738   <a class="code" href="SbGeo_8C.html#a0314818648ea6df55b4c6f4ee7beef10">rad2hms</a>(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a8a32024d4dd51d916dfa509274422b96">ra_err</a>(), hr, min, sec);  
<a name="l01739"></a>01739   Str.sprintf(<span class="stringliteral">&quot;%9.6f&quot;</span>, sec + 60.0*min + 3600.0*hr);
<a name="l01740"></a>01740   <a class="code" href="classSBSourceEditor.html#a7d261a04c57b265cbd83dffff01aec48">ERAunc</a> = <span class="keyword">new</span> QLineEdit(coo);
<a name="l01741"></a>01741   <a class="code" href="classSBSourceEditor.html#a7d261a04c57b265cbd83dffff01aec48">ERAunc</a>-&gt; setText(Str);
<a name="l01742"></a>01742   <a class="code" href="classSBSourceEditor.html#a7d261a04c57b265cbd83dffff01aec48">ERAunc</a>-&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#a7d261a04c57b265cbd83dffff01aec48">ERAunc</a>-&gt;sizeHint().height());
<a name="l01743"></a>01743   grid  -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a7d261a04c57b265cbd83dffff01aec48">ERAunc</a>, 1,6);
<a name="l01744"></a>01744 
<a name="l01745"></a>01745   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;sec&quot;</span>, coo);
<a name="l01746"></a>01746   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01747"></a>01747   grid  -&gt; addWidget(label, 1,7);
<a name="l01748"></a>01748 
<a name="l01749"></a>01749 
<a name="l01750"></a>01750   <span class="comment">//-- DN:</span>
<a name="l01751"></a>01751   <a class="code" href="SbGeo_8C.html#a594862f3401d8114da6cc8f23ca5f020">rad2dms</a>(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#aa9ac0e012c970eb8eaf6afd401efe87e">dn</a>(), hr, min, sec);  
<a name="l01752"></a>01752   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Declination: &quot;</span>, coo);
<a name="l01753"></a>01753   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01754"></a>01754   grid  -&gt; addWidget(label, 2,1);
<a name="l01755"></a>01755 
<a name="l01756"></a>01756   Str.sprintf(<span class="stringliteral">&quot;%3d&quot;</span>, hr);
<a name="l01757"></a>01757   <a class="code" href="classSBSourceEditor.html#ab4566a31eff09847e7809164356f9d14">EDNdg</a>  = <span class="keyword">new</span> QLineEdit(coo);
<a name="l01758"></a>01758   <a class="code" href="classSBSourceEditor.html#ab4566a31eff09847e7809164356f9d14">EDNdg</a> -&gt; setText(Str);
<a name="l01759"></a>01759   <a class="code" href="classSBSourceEditor.html#ab4566a31eff09847e7809164356f9d14">EDNdg</a> -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#ab4566a31eff09847e7809164356f9d14">EDNdg</a>-&gt;sizeHint().height());
<a name="l01760"></a>01760   grid  -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#ab4566a31eff09847e7809164356f9d14">EDNdg</a>, 2,2);
<a name="l01761"></a>01761 
<a name="l01762"></a>01762   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;deg&quot;</span>, coo);
<a name="l01763"></a>01763   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01764"></a>01764   grid  -&gt; addWidget(label, 2,3);
<a name="l01765"></a>01765 
<a name="l01766"></a>01766   Str.sprintf(<span class="stringliteral">&quot;%3d&quot;</span>, min);
<a name="l01767"></a>01767   <a class="code" href="classSBSourceEditor.html#ad4a8c8eb56331aa0e816114a856a491d">EDNmin</a> = <span class="keyword">new</span> QLineEdit(coo);
<a name="l01768"></a>01768   <a class="code" href="classSBSourceEditor.html#ad4a8c8eb56331aa0e816114a856a491d">EDNmin</a>-&gt; setText(Str);
<a name="l01769"></a>01769   grid  -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#ad4a8c8eb56331aa0e816114a856a491d">EDNmin</a>, 2,4);
<a name="l01770"></a>01770 
<a name="l01771"></a>01771   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;min&quot;</span>, coo);
<a name="l01772"></a>01772   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01773"></a>01773   grid  -&gt; addWidget(label, 2,5);
<a name="l01774"></a>01774 
<a name="l01775"></a>01775   Str.sprintf(<span class="stringliteral">&quot;%8.5f&quot;</span>, sec);
<a name="l01776"></a>01776   <a class="code" href="classSBSourceEditor.html#aee2e14dc099c5f5143b8f9630b517c4d">EDNsec</a> = <span class="keyword">new</span> QLineEdit(coo);
<a name="l01777"></a>01777   <a class="code" href="classSBSourceEditor.html#aee2e14dc099c5f5143b8f9630b517c4d">EDNsec</a>-&gt; setText(Str);
<a name="l01778"></a>01778   grid  -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#aee2e14dc099c5f5143b8f9630b517c4d">EDNsec</a>, 2,6);
<a name="l01779"></a>01779 
<a name="l01780"></a>01780   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;sec&quot;</span>, coo);
<a name="l01781"></a>01781   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01782"></a>01782   grid  -&gt; addWidget(label, 2,7);
<a name="l01783"></a>01783 
<a name="l01784"></a>01784   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;uncertainties: &quot;</span>, coo);
<a name="l01785"></a>01785   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01786"></a>01786   grid  -&gt; addWidget(label, 3,1);
<a name="l01787"></a>01787 
<a name="l01788"></a>01788   <a class="code" href="SbGeo_8C.html#a594862f3401d8114da6cc8f23ca5f020">rad2dms</a>(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a840a5a78613787de2c9c55d748fc7615">dn_err</a>(), hr, min, sec);  
<a name="l01789"></a>01789   Str.sprintf(<span class="stringliteral">&quot;%8.5f&quot;</span>, sec + 60.0*min + 3600.0*hr);
<a name="l01790"></a>01790   <a class="code" href="classSBSourceEditor.html#aeb50bc29d75ba6c9b236b6ba16f13014">EDNunc</a> = <span class="keyword">new</span> QLineEdit(coo);
<a name="l01791"></a>01791   <a class="code" href="classSBSourceEditor.html#aeb50bc29d75ba6c9b236b6ba16f13014">EDNunc</a>-&gt; setText(Str);
<a name="l01792"></a>01792   <a class="code" href="classSBSourceEditor.html#aeb50bc29d75ba6c9b236b6ba16f13014">EDNunc</a>-&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#aeb50bc29d75ba6c9b236b6ba16f13014">EDNunc</a>-&gt;sizeHint().height());
<a name="l01793"></a>01793   grid  -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#aeb50bc29d75ba6c9b236b6ba16f13014">EDNunc</a>, 3,6);
<a name="l01794"></a>01794 
<a name="l01795"></a>01795   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;sec&quot;</span>, coo);
<a name="l01796"></a>01796   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01797"></a>01797   grid  -&gt; addWidget(label, 3,7);
<a name="l01798"></a>01798 
<a name="l01799"></a>01799 
<a name="l01800"></a>01800   label  = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Correlation (RA,De): &quot;</span>, coo);
<a name="l01801"></a>01801   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01802"></a>01802   grid  -&gt; addWidget(label, 4,1);
<a name="l01803"></a>01803 
<a name="l01804"></a>01804   Str.sprintf(<span class="stringliteral">&quot;%8.3f&quot;</span>, <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a8b35bd819c6a42d3e61b45d60df62f93">corrRA_DN</a>());
<a name="l01805"></a>01805   <a class="code" href="classSBSourceEditor.html#aefb15064a8330e97580c36b5838b4c56">ECorr</a>  = <span class="keyword">new</span> QLineEdit(coo);
<a name="l01806"></a>01806   <a class="code" href="classSBSourceEditor.html#aefb15064a8330e97580c36b5838b4c56">ECorr</a> -&gt; setText(Str);
<a name="l01807"></a>01807   <a class="code" href="classSBSourceEditor.html#aefb15064a8330e97580c36b5838b4c56">ECorr</a> -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#aefb15064a8330e97580c36b5838b4c56">ECorr</a>-&gt;sizeHint().height());
<a name="l01808"></a>01808   grid  -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#aefb15064a8330e97580c36b5838b4c56">ECorr</a>, 4,6);
<a name="l01809"></a>01809 
<a name="l01810"></a>01810   grid  -&gt; setColStretch(8, 3);
<a name="l01811"></a>01811   grid  -&gt; setColStretch(0, 1);
<a name="l01812"></a>01812   grid  -&gt; activate();
<a name="l01813"></a>01813   <span class="comment">//-</span>
<a name="l01814"></a>01814   Layout-&gt; addWidget(coo);
<a name="l01815"></a>01815 
<a name="l01816"></a>01816   Layout-&gt; addStretch(1);
<a name="l01817"></a>01817 
<a name="l01818"></a>01818   <a class="code" href="classSBSourceEditor.html#afbdf0b5d8aae8fe67b58fd3a423652f2">CBHipp</a> = <span class="keyword">new</span> QCheckBox(<span class="stringliteral">&quot;serves to link the Hipparcos stellar reference frame to the ICRS&quot;</span>, 
<a name="l01819"></a>01819                          gbox);
<a name="l01820"></a>01820   <a class="code" href="classSBSourceEditor.html#afbdf0b5d8aae8fe67b58fd3a423652f2">CBHipp</a>-&gt; setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a92b80c1add0ceb7c10faab878a958847">isHLink</a>());
<a name="l01821"></a>01821   <a class="code" href="classSBSourceEditor.html#afbdf0b5d8aae8fe67b58fd3a423652f2">CBHipp</a>-&gt; setMinimumSize(<a class="code" href="classSBSourceEditor.html#afbdf0b5d8aae8fe67b58fd3a423652f2">CBHipp</a>-&gt;sizeHint());
<a name="l01822"></a>01822   Layout-&gt; addWidget(<a class="code" href="classSBSourceEditor.html#afbdf0b5d8aae8fe67b58fd3a423652f2">CBHipp</a>);
<a name="l01823"></a>01823   Layout-&gt; addStretch(1);
<a name="l01824"></a>01824   <span class="comment">//--</span>
<a name="l01825"></a>01825 
<a name="l01826"></a>01826 
<a name="l01827"></a>01827   Layout-&gt; activate();
<a name="l01828"></a>01828 
<a name="l01829"></a>01829 
<a name="l01830"></a>01830   Layout  = <span class="keyword">new</span> QVBoxLayout(W, 10);
<a name="l01831"></a>01831   Layout  -&gt; addWidget(gbox);
<a name="l01832"></a>01832   Layout  -&gt; activate();
<a name="l01833"></a>01833   
<a name="l01834"></a>01834   <span class="keywordflow">return</span> W;
<a name="l01835"></a>01835 };
<a name="l01836"></a>01836 
<a name="l01837"></a><a class="code" href="classSBSourceEditor.html#ad8b1bbe4c3c5822cb90d37a4e308d168">01837</a> <a class="code" href="classQWidget.html">QWidget</a>* <a class="code" href="classSBSourceEditor.html#ad8b1bbe4c3c5822cb90d37a4e308d168">SBSourceEditor::wPhysChars</a>()
<a name="l01838"></a>01838 {
<a name="l01839"></a>01839   <a class="code" href="classQWidget.html">QWidget</a>*      W = <span class="keyword">new</span> <a class="code" href="classQWidget.html">QWidget</a>(<span class="keyword">this</span>);
<a name="l01840"></a>01840   
<a name="l01841"></a>01841   QBoxLayout*   Layout, *aLayout;
<a name="l01842"></a>01842   QGridLayout*  grid;
<a name="l01843"></a>01843   QLabel*       label;
<a name="l01844"></a>01844   QGroupBox*    gbox;
<a name="l01845"></a>01845   QButtonGroup* BGw;
<a name="l01846"></a>01846   QString       Str;
<a name="l01847"></a>01847 
<a name="l01848"></a>01848   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* cType[6] =
<a name="l01849"></a>01849   {
<a name="l01850"></a>01850     <span class="stringliteral">&quot;Quasar&quot;</span>,
<a name="l01851"></a>01851     <span class="stringliteral">&quot;Galaxy&quot;</span>,
<a name="l01852"></a>01852     <span class="stringliteral">&quot;BL Lac&quot;</span>,
<a name="l01853"></a>01853     <span class="stringliteral">&quot;BL Lac cand.&quot;</span>,
<a name="l01854"></a>01854     <span class="stringliteral">&quot;Other&quot;</span>,
<a name="l01855"></a>01855     <span class="stringliteral">&quot;Unknown&quot;</span>
<a name="l01856"></a>01856   };
<a name="l01857"></a>01857 
<a name="l01858"></a>01858   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* cSpClass[8] =
<a name="l01859"></a>01859   {
<a name="l01860"></a>01860     <span class="stringliteral">&quot;Seyfert spectrum&quot;</span>,
<a name="l01861"></a>01861     <span class="stringliteral">&quot;Seyfert 1 spectrum&quot;</span>,
<a name="l01862"></a>01862     <span class="stringliteral">&quot;Seyfert 1-2 spectrum&quot;</span>,
<a name="l01863"></a>01863     <span class="stringliteral">&quot;Seyfert 2 spectrum&quot;</span>,
<a name="l01864"></a>01864     <span class="stringliteral">&quot;Seyfert 3 or liner&quot;</span>,
<a name="l01865"></a>01865     <span class="stringliteral">&quot;High opt. polariz.&quot;</span>,
<a name="l01866"></a>01866     <span class="stringliteral">&quot;Other&quot;</span>,
<a name="l01867"></a>01867     <span class="stringliteral">&quot;Unknown&quot;</span>
<a name="l01868"></a>01868   };
<a name="l01869"></a>01869 
<a name="l01870"></a>01870 
<a name="l01871"></a>01871   gbox    = <span class="keyword">new</span> QGroupBox(<span class="stringliteral">&quot;Physical characteristics&quot;</span>, W);
<a name="l01872"></a>01872 
<a name="l01873"></a>01873   Layout = <span class="keyword">new</span> QHBoxLayout(gbox, 20, 20);
<a name="l01874"></a>01874 
<a name="l01875"></a>01875   BGw     = <span class="keyword">new</span> QButtonGroup(<span class="stringliteral">&quot;Source type&quot;</span>, gbox);
<a name="l01876"></a>01876   aLayout = <span class="keyword">new</span> QVBoxLayout(BGw, 20, 5);
<a name="l01877"></a>01877   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;6; i++)
<a name="l01878"></a>01878     {
<a name="l01879"></a>01879       <a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[i] = <span class="keyword">new</span> QRadioButton(cType[i], BGw);
<a name="l01880"></a>01880       <a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[i]-&gt; setMinimumSize(<a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[i]-&gt;sizeHint());
<a name="l01881"></a>01881       aLayout -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[i]);
<a name="l01882"></a>01882     };
<a name="l01883"></a>01883   <a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a56a4514441973cd771165faa91530e16">type</a>()]-&gt;setChecked(TRUE);
<a name="l01884"></a>01884   aLayout -&gt; activate();
<a name="l01885"></a>01885 
<a name="l01886"></a>01886   aLayout = <span class="keyword">new</span> QVBoxLayout(10);
<a name="l01887"></a>01887   Layout -&gt; addLayout(aLayout);
<a name="l01888"></a>01888   aLayout-&gt; addStretch(1);
<a name="l01889"></a>01889   aLayout-&gt; addWidget(BGw);
<a name="l01890"></a>01890   aLayout-&gt; addStretch(1);
<a name="l01891"></a>01891 
<a name="l01892"></a>01892   grid    = <span class="keyword">new</span> QGridLayout(3, 2, 5);
<a name="l01893"></a>01893   aLayout-&gt; addLayout(grid);
<a name="l01894"></a>01894   
<a name="l01895"></a>01895   label   = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Mv: &quot;</span>, gbox);
<a name="l01896"></a>01896   label  -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01897"></a>01897   grid   -&gt; addWidget(label, 0,0);
<a name="l01898"></a>01898 
<a name="l01899"></a>01899   Str.sprintf(<span class="stringliteral">&quot;%6.2f&quot;</span>, <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#ab2e4d845b8874d272329b698209aed26">mv</a>());
<a name="l01900"></a>01900   <a class="code" href="classSBSourceEditor.html#a591eab155622d14e5a062420aa59da15">EMv</a>     = <span class="keyword">new</span> QLineEdit(gbox);
<a name="l01901"></a>01901   <a class="code" href="classSBSourceEditor.html#a591eab155622d14e5a062420aa59da15">EMv</a>    -&gt; setText(Str);
<a name="l01902"></a>01902   <a class="code" href="classSBSourceEditor.html#a591eab155622d14e5a062420aa59da15">EMv</a>    -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#a591eab155622d14e5a062420aa59da15">EMv</a>-&gt;sizeHint().height());
<a name="l01903"></a>01903   <a class="code" href="classSBSourceEditor.html#a591eab155622d14e5a062420aa59da15">EMv</a>    -&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#a591eab155622d14e5a062420aa59da15">EMv</a>-&gt;fontMetrics().width(Str) + 8);
<a name="l01904"></a>01904   grid   -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a591eab155622d14e5a062420aa59da15">EMv</a>, 0,1);
<a name="l01905"></a>01905 
<a name="l01906"></a>01906   label   = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Flux_1: &quot;</span>, gbox);
<a name="l01907"></a>01907   label  -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01908"></a>01908   grid   -&gt; addWidget(label, 1,0);
<a name="l01909"></a>01909 
<a name="l01910"></a>01910   Str.sprintf(<span class="stringliteral">&quot;%7.3f&quot;</span>, <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a54a98e27c98fcbd60364e7ac5127666c">flux1</a>());
<a name="l01911"></a>01911   <a class="code" href="classSBSourceEditor.html#a9b5e49324ce73fd18f98a05a7a233634">EFlux1</a>  = <span class="keyword">new</span> QLineEdit(gbox);
<a name="l01912"></a>01912   <a class="code" href="classSBSourceEditor.html#a9b5e49324ce73fd18f98a05a7a233634">EFlux1</a> -&gt; setText(Str);
<a name="l01913"></a>01913   <a class="code" href="classSBSourceEditor.html#a9b5e49324ce73fd18f98a05a7a233634">EFlux1</a> -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#a9b5e49324ce73fd18f98a05a7a233634">EFlux1</a>-&gt;sizeHint().height());
<a name="l01914"></a>01914   <a class="code" href="classSBSourceEditor.html#a9b5e49324ce73fd18f98a05a7a233634">EFlux1</a> -&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#a9b5e49324ce73fd18f98a05a7a233634">EFlux1</a>-&gt;fontMetrics().width(Str) + 8);
<a name="l01915"></a>01915   grid   -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a9b5e49324ce73fd18f98a05a7a233634">EFlux1</a>, 1,1);
<a name="l01916"></a>01916 
<a name="l01917"></a>01917   label   = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Flux_2: &quot;</span>, gbox);
<a name="l01918"></a>01918   label  -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01919"></a>01919   grid   -&gt; addWidget(label, 2,0);
<a name="l01920"></a>01920 
<a name="l01921"></a>01921   Str.sprintf(<span class="stringliteral">&quot;%7.3f&quot;</span>, <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a4b2a40e7e593f5d91c20fc1bd07ad7fe">flux2</a>());
<a name="l01922"></a>01922   <a class="code" href="classSBSourceEditor.html#ab46c585cf69f07568cc5a98375dd933f">EFlux2</a>  = <span class="keyword">new</span> QLineEdit(gbox);
<a name="l01923"></a>01923   <a class="code" href="classSBSourceEditor.html#ab46c585cf69f07568cc5a98375dd933f">EFlux2</a> -&gt; setText(Str);
<a name="l01924"></a>01924   <a class="code" href="classSBSourceEditor.html#ab46c585cf69f07568cc5a98375dd933f">EFlux2</a> -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#ab46c585cf69f07568cc5a98375dd933f">EFlux2</a>-&gt;sizeHint().height());
<a name="l01925"></a>01925   <a class="code" href="classSBSourceEditor.html#ab46c585cf69f07568cc5a98375dd933f">EFlux2</a> -&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#ab46c585cf69f07568cc5a98375dd933f">EFlux2</a>-&gt;fontMetrics().width(Str) + 8);
<a name="l01926"></a>01926   grid   -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#ab46c585cf69f07568cc5a98375dd933f">EFlux2</a>, 2,1);
<a name="l01927"></a>01927 
<a name="l01928"></a>01928   aLayout-&gt; addStretch(1);
<a name="l01929"></a>01929 
<a name="l01930"></a>01930   <span class="comment">//-</span>
<a name="l01931"></a>01931   BGw     = <span class="keyword">new</span> QButtonGroup(<span class="stringliteral">&quot;Spectrum Class&quot;</span>, gbox);
<a name="l01932"></a>01932   aLayout = <span class="keyword">new</span> QVBoxLayout(BGw, 20, 5);
<a name="l01933"></a>01933   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++)
<a name="l01934"></a>01934     {
<a name="l01935"></a>01935       <a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[i] = <span class="keyword">new</span> QRadioButton(cSpClass[i], BGw);
<a name="l01936"></a>01936       <a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[i]-&gt; setMinimumSize(<a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[i]-&gt;sizeHint());
<a name="l01937"></a>01937       aLayout -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[i]);
<a name="l01938"></a>01938     };
<a name="l01939"></a>01939   <a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a242ac0b292286eed805d7411dc788216">spectrum</a>()]-&gt;setChecked(TRUE);
<a name="l01940"></a>01940   aLayout -&gt; activate();  
<a name="l01941"></a>01941 
<a name="l01942"></a>01942   aLayout = <span class="keyword">new</span> QVBoxLayout(10);
<a name="l01943"></a>01943   Layout -&gt; addLayout(aLayout);
<a name="l01944"></a>01944   aLayout-&gt; addStretch(1);
<a name="l01945"></a>01945 
<a name="l01946"></a>01946   aLayout-&gt; addWidget(BGw);
<a name="l01947"></a>01947   aLayout-&gt; addStretch(1);
<a name="l01948"></a>01948 
<a name="l01949"></a>01949   grid    = <span class="keyword">new</span> QGridLayout(2, 2, 5);
<a name="l01950"></a>01950   aLayout-&gt; addLayout(grid);
<a name="l01951"></a>01951   
<a name="l01952"></a>01952   label   = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Spectral index: &quot;</span>, gbox);
<a name="l01953"></a>01953   label  -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01954"></a>01954   grid   -&gt; addWidget(label, 0,0);
<a name="l01955"></a>01955 
<a name="l01956"></a>01956   Str.sprintf(<span class="stringliteral">&quot;%6.2f&quot;</span>, <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a6fe9866dbe66042a67b77e657d53b09c">spIdx</a>());
<a name="l01957"></a>01957   <a class="code" href="classSBSourceEditor.html#ab45e61e660f6c83342b0dce9d502a638">ESpIdx</a>  = <span class="keyword">new</span> QLineEdit(gbox);
<a name="l01958"></a>01958   <a class="code" href="classSBSourceEditor.html#ab45e61e660f6c83342b0dce9d502a638">ESpIdx</a> -&gt; setText(Str);
<a name="l01959"></a>01959   <a class="code" href="classSBSourceEditor.html#ab45e61e660f6c83342b0dce9d502a638">ESpIdx</a> -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#ab45e61e660f6c83342b0dce9d502a638">ESpIdx</a>-&gt;sizeHint().height());
<a name="l01960"></a>01960   <a class="code" href="classSBSourceEditor.html#ab45e61e660f6c83342b0dce9d502a638">ESpIdx</a> -&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#ab45e61e660f6c83342b0dce9d502a638">ESpIdx</a>-&gt;fontMetrics().width(Str) + 8);
<a name="l01961"></a>01961   grid   -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#ab45e61e660f6c83342b0dce9d502a638">ESpIdx</a>, 0,1);
<a name="l01962"></a>01962 
<a name="l01963"></a>01963   label   = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Red shift: &quot;</span>, gbox);
<a name="l01964"></a>01964   label  -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l01965"></a>01965   grid   -&gt; addWidget(label, 1,0);
<a name="l01966"></a>01966 
<a name="l01967"></a>01967   Str.sprintf(<span class="stringliteral">&quot;%7.4f&quot;</span>, <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a53aa89e306acece6923a3103431a47df">redShift</a>());
<a name="l01968"></a>01968   <a class="code" href="classSBSourceEditor.html#aec8ceafcfc1520a55837913b7421cd8d">ERedShift</a>= <span class="keyword">new</span> QLineEdit(gbox);
<a name="l01969"></a>01969   <a class="code" href="classSBSourceEditor.html#aec8ceafcfc1520a55837913b7421cd8d">ERedShift</a>-&gt; setText(Str);
<a name="l01970"></a>01970   <a class="code" href="classSBSourceEditor.html#aec8ceafcfc1520a55837913b7421cd8d">ERedShift</a>-&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#aec8ceafcfc1520a55837913b7421cd8d">ERedShift</a>-&gt;sizeHint().height());
<a name="l01971"></a>01971   <a class="code" href="classSBSourceEditor.html#aec8ceafcfc1520a55837913b7421cd8d">ERedShift</a>-&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#aec8ceafcfc1520a55837913b7421cd8d">ERedShift</a>-&gt;fontMetrics().width(Str) + 8);
<a name="l01972"></a>01972   grid   -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#aec8ceafcfc1520a55837913b7421cd8d">ERedShift</a>, 1,1);
<a name="l01973"></a>01973   aLayout-&gt; addStretch(1);
<a name="l01974"></a>01974 
<a name="l01975"></a>01975   Layout-&gt; activate();
<a name="l01976"></a>01976   <span class="comment">//-</span>
<a name="l01977"></a>01977 
<a name="l01978"></a>01978   Layout = <span class="keyword">new</span> QVBoxLayout(W, 10);
<a name="l01979"></a>01979   Layout-&gt; addWidget(gbox);
<a name="l01980"></a>01980   Layout-&gt; activate();
<a name="l01981"></a>01981   <span class="keywordflow">return</span> W;
<a name="l01982"></a>01982 };
<a name="l01983"></a>01983 
<a name="l01984"></a><a class="code" href="classSBSourceEditor.html#accd0efe3cf88bf9607f354476fdf27da">01984</a> <a class="code" href="classQWidget.html">QWidget</a>* <a class="code" href="classSBSourceEditor.html#accd0efe3cf88bf9607f354476fdf27da">SBSourceEditor::wStats</a>()
<a name="l01985"></a>01985 {
<a name="l01986"></a>01986   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* cOrig[4] =
<a name="l01987"></a>01987   {
<a name="l01988"></a>01988     <span class="stringliteral">&quot;has been imported&quot;</span>,
<a name="l01989"></a>01989     <span class="stringliteral">&quot;has been edited&quot;</span>,
<a name="l01990"></a>01990     <span class="stringliteral">&quot;from data files&quot;</span>,
<a name="l01991"></a>01991     <span class="stringliteral">&quot;has been estimated&quot;</span>
<a name="l01992"></a>01992   };
<a name="l01993"></a>01993 
<a name="l01994"></a>01994   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* cAttr[14] =
<a name="l01995"></a>01995   {
<a name="l01996"></a>01996     <span class="stringliteral">&quot;Suspected in instability of RSC&quot;</span>,
<a name="l01997"></a>01997     <span class="stringliteral">&quot;Attribute #02&quot;</span>,
<a name="l01998"></a>01998     <span class="stringliteral">&quot;Attribute #03&quot;</span>,
<a name="l01999"></a>01999     <span class="stringliteral">&quot;Attribute #04&quot;</span>,
<a name="l02000"></a>02000     <span class="stringliteral">&quot;Attribute #05&quot;</span>,
<a name="l02001"></a>02001     <span class="stringliteral">&quot;Attribute #06&quot;</span>,
<a name="l02002"></a>02002     <span class="stringliteral">&quot;Attribute #07&quot;</span>,
<a name="l02003"></a>02003     <span class="stringliteral">&quot;Attribute #08&quot;</span>,
<a name="l02004"></a>02004     <span class="stringliteral">&quot;Attribute #09&quot;</span>,
<a name="l02005"></a>02005     <span class="stringliteral">&quot;Attribute #10&quot;</span>,
<a name="l02006"></a>02006     <span class="stringliteral">&quot;Attribute #11&quot;</span>,
<a name="l02007"></a>02007     <span class="stringliteral">&quot;Attribute #12&quot;</span>,
<a name="l02008"></a>02008     <span class="stringliteral">&quot;Attribute #13&quot;</span>,
<a name="l02009"></a>02009     <span class="stringliteral">&quot;Attribute #14&quot;</span>
<a name="l02010"></a>02010   };
<a name="l02011"></a>02011 
<a name="l02012"></a>02012   <a class="code" href="classQWidget.html">QWidget</a>*      W = <span class="keyword">new</span> <a class="code" href="classQWidget.html">QWidget</a>(<span class="keyword">this</span>);
<a name="l02013"></a>02013   
<a name="l02014"></a>02014   QBoxLayout*   Layout;
<a name="l02015"></a>02015   QBoxLayout*   aLayout;
<a name="l02016"></a>02016   QBoxLayout*   bLayout;
<a name="l02017"></a>02017   QButtonGroup* BGw;
<a name="l02018"></a>02018   QGridLayout*  grid;
<a name="l02019"></a>02019   QLabel*       label;
<a name="l02020"></a>02020   QGroupBox*    gbox;
<a name="l02021"></a>02021   QString       Str;
<a name="l02022"></a>02022 
<a name="l02023"></a>02023   gbox    = <span class="keyword">new</span> QGroupBox(<span class="stringliteral">&quot;Source status&quot;</span>, W);
<a name="l02024"></a>02024 
<a name="l02025"></a>02025   Layout  = <span class="keyword">new</span> QHBoxLayout(gbox, 20, 20);
<a name="l02026"></a>02026   aLayout = <span class="keyword">new</span> QVBoxLayout(20);
<a name="l02027"></a>02027   Layout -&gt; addLayout(aLayout);
<a name="l02028"></a>02028   <span class="comment">//  aLayout -&gt; addStretch(1);</span>
<a name="l02029"></a>02029 
<a name="l02030"></a>02030   <span class="comment">//--</span>
<a name="l02031"></a>02031   QGroupBox* stat = <span class="keyword">new</span> QGroupBox(<span class="stringliteral">&quot;Statistics&quot;</span>, gbox);
<a name="l02032"></a>02032   grid    = <span class="keyword">new</span> QGridLayout(stat, 5,3, 20,5);
<a name="l02033"></a>02033 
<a name="l02034"></a>02034   label   = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Num of Obs: &quot;</span>, stat);
<a name="l02035"></a>02035   label  -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l02036"></a>02036   grid   -&gt; addWidget(label, 0,0);
<a name="l02037"></a>02037 
<a name="l02038"></a>02038   Str.sprintf(<span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a98b04061c2db7f0f45ae3804072e735d">nObsApr</a>());
<a name="l02039"></a>02039   <a class="code" href="classSBSourceEditor.html#ad274800a2bf3ad220c6751bcfd294fee">ENofObs</a> = <span class="keyword">new</span> QLineEdit(stat);
<a name="l02040"></a>02040   <a class="code" href="classSBSourceEditor.html#ad274800a2bf3ad220c6751bcfd294fee">ENofObs</a>-&gt; setText(Str);
<a name="l02041"></a>02041   <a class="code" href="classSBSourceEditor.html#ad274800a2bf3ad220c6751bcfd294fee">ENofObs</a>-&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#ad274800a2bf3ad220c6751bcfd294fee">ENofObs</a>-&gt;sizeHint().height());
<a name="l02042"></a>02042   grid   -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#ad274800a2bf3ad220c6751bcfd294fee">ENofObs</a>, 0,2);
<a name="l02043"></a>02043 
<a name="l02044"></a>02044   label    = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Num of Sessions.: &quot;</span>, stat);
<a name="l02045"></a>02045   label   -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l02046"></a>02046   grid    -&gt; addWidget(label, 1,0);
<a name="l02047"></a>02047 
<a name="l02048"></a>02048   Str.sprintf(<span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a05c2fd4841e57a0a010dca74418c7852">nSessApr</a>());
<a name="l02049"></a>02049   <a class="code" href="classSBSourceEditor.html#a231bcc401a722e4979579c8ef23d7524">ENofSes</a>  = <span class="keyword">new</span> QLineEdit(stat);
<a name="l02050"></a>02050   <a class="code" href="classSBSourceEditor.html#a231bcc401a722e4979579c8ef23d7524">ENofSes</a> -&gt; setText(Str);
<a name="l02051"></a>02051   <a class="code" href="classSBSourceEditor.html#a231bcc401a722e4979579c8ef23d7524">ENofSes</a> -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#a231bcc401a722e4979579c8ef23d7524">ENofSes</a>-&gt;sizeHint().height());
<a name="l02052"></a>02052   grid    -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a231bcc401a722e4979579c8ef23d7524">ENofSes</a>, 1,2);
<a name="l02053"></a>02053 
<a name="l02054"></a>02054   label    = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;First date of Obs: &quot;</span>, stat);
<a name="l02055"></a>02055   label   -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l02056"></a>02056   grid    -&gt; addWidget(label, 2,0);
<a name="l02057"></a>02057 
<a name="l02058"></a>02058   <a class="code" href="classSBSourceEditor.html#a4c375340af791651c6cc56f8ddc8bc44">EFMJD</a>    = <span class="keyword">new</span> QLineEdit(stat);
<a name="l02059"></a>02059   <a class="code" href="classSBSourceEditor.html#a4c375340af791651c6cc56f8ddc8bc44">EFMJD</a>   -&gt; setText(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a7fe6d7ba8b30f654a12a4a954e09226f">firstMJD</a>().<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba21d7fd51333c3bcaf77f3bedfd5d5a0c">SBMJD::F_Short</a>));
<a name="l02060"></a>02060   <a class="code" href="classSBSourceEditor.html#a4c375340af791651c6cc56f8ddc8bc44">EFMJD</a>   -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#a4c375340af791651c6cc56f8ddc8bc44">EFMJD</a>-&gt;sizeHint().height());
<a name="l02061"></a>02061   <a class="code" href="classSBSourceEditor.html#a4c375340af791651c6cc56f8ddc8bc44">EFMJD</a>   -&gt; setMinimumWidth (<a class="code" href="classSBSourceEditor.html#a4c375340af791651c6cc56f8ddc8bc44">EFMJD</a>-&gt;fontMetrics().width(<span class="stringliteral">&quot;10 Feb, 1976; 18:00:00.000&quot;</span>) + 8);
<a name="l02062"></a>02062   grid    -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a4c375340af791651c6cc56f8ddc8bc44">EFMJD</a>, 2,2);
<a name="l02063"></a>02063 
<a name="l02064"></a>02064   label    = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Mean date of Obs: &quot;</span>, stat);
<a name="l02065"></a>02065   label   -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l02066"></a>02066   grid    -&gt; addWidget(label, 3,0);
<a name="l02067"></a>02067 
<a name="l02068"></a>02068   <a class="code" href="classSBSourceEditor.html#a74c3ad431cb1850a7e7d26f1a5387277">EMMJD</a>    = <span class="keyword">new</span> QLineEdit(stat);
<a name="l02069"></a>02069   <a class="code" href="classSBSourceEditor.html#a74c3ad431cb1850a7e7d26f1a5387277">EMMJD</a>   -&gt; setText(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a53512665ec5d35f15e96c3b9681c59da">meanMJD</a>().<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba21d7fd51333c3bcaf77f3bedfd5d5a0c">SBMJD::F_Short</a>));
<a name="l02070"></a>02070   <a class="code" href="classSBSourceEditor.html#a74c3ad431cb1850a7e7d26f1a5387277">EMMJD</a>   -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#a74c3ad431cb1850a7e7d26f1a5387277">EMMJD</a>-&gt;sizeHint().height());
<a name="l02071"></a>02071   grid    -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a74c3ad431cb1850a7e7d26f1a5387277">EMMJD</a>, 3,2);
<a name="l02072"></a>02072 
<a name="l02073"></a>02073   label    = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;Last date of Obs: &quot;</span>, stat);
<a name="l02074"></a>02074   label   -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l02075"></a>02075   grid    -&gt; addWidget(label, 4,0);
<a name="l02076"></a>02076 
<a name="l02077"></a>02077   <a class="code" href="classSBSourceEditor.html#a4562594b4851b5734bea36acb3e71891">ELMJD</a>    = <span class="keyword">new</span> QLineEdit(stat);
<a name="l02078"></a>02078   <a class="code" href="classSBSourceEditor.html#a4562594b4851b5734bea36acb3e71891">ELMJD</a>   -&gt; setText(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a4b133ff240fdd9391533472498e42d83">lastMJD</a>().<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba21d7fd51333c3bcaf77f3bedfd5d5a0c">SBMJD::F_Short</a>));
<a name="l02079"></a>02079   <a class="code" href="classSBSourceEditor.html#a4562594b4851b5734bea36acb3e71891">ELMJD</a>   -&gt; setMinimumHeight(<a class="code" href="classSBSourceEditor.html#a4562594b4851b5734bea36acb3e71891">ELMJD</a>-&gt;sizeHint().height());
<a name="l02080"></a>02080   grid    -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a4562594b4851b5734bea36acb3e71891">ELMJD</a>, 4,2);
<a name="l02081"></a>02081   grid    -&gt; activate();
<a name="l02082"></a>02082 
<a name="l02083"></a>02083   aLayout-&gt; addWidget(stat);
<a name="l02084"></a>02084 
<a name="l02085"></a>02085   BGw = <span class="keyword">new</span> QButtonGroup(<span class="stringliteral">&quot;Origin&quot;</span>, gbox);
<a name="l02086"></a>02086   bLayout = <span class="keyword">new</span> QVBoxLayout(BGw, 20, 5);
<a name="l02087"></a>02087   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;4; i++)
<a name="l02088"></a>02088     {
<a name="l02089"></a>02089       <a class="code" href="classSBSourceEditor.html#af3ca292df09cbf081051b60a3fbdb8b6">CDOrigin</a>[i] = <span class="keyword">new</span> QCheckBox(cOrig[i], BGw);
<a name="l02090"></a>02090       <a class="code" href="classSBSourceEditor.html#af3ca292df09cbf081051b60a3fbdb8b6">CDOrigin</a>[i]-&gt; setMinimumSize(<a class="code" href="classSBSourceEditor.html#af3ca292df09cbf081051b60a3fbdb8b6">CDOrigin</a>[i]-&gt;sizeHint());
<a name="l02091"></a>02091       bLayout -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#af3ca292df09cbf081051b60a3fbdb8b6">CDOrigin</a>[i]);
<a name="l02092"></a>02092     };
<a name="l02093"></a>02093   <a class="code" href="classSBSourceEditor.html#af3ca292df09cbf081051b60a3fbdb8b6">CDOrigin</a>[0]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcabaeea6aae4d6af22cdc83869479155f5f7" title="Info origin: imported;.">SBSource::OrigImported</a>));
<a name="l02094"></a>02094   <a class="code" href="classSBSourceEditor.html#af3ca292df09cbf081051b60a3fbdb8b6">CDOrigin</a>[1]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba4cdc455a6d549b1ee50183b7a67459aa" title="Info origin: has been edited (alterated by hand);.">SBSource::OrigEdited</a>));
<a name="l02095"></a>02095   <a class="code" href="classSBSourceEditor.html#af3ca292df09cbf081051b60a3fbdb8b6">CDOrigin</a>[2]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba8a60915b7d4747deb93c45e60ac860f5" title="Info origin: from obs data files;.">SBSource::OrigObsData</a>));
<a name="l02096"></a>02096   <a class="code" href="classSBSourceEditor.html#af3ca292df09cbf081051b60a3fbdb8b6">CDOrigin</a>[3]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba894f9766ce58d7d61e0178ace23ec481" title="Info origin: has been estimated;.">SBSource::OrigEstimated</a>));
<a name="l02097"></a>02097   bLayout -&gt; activate();  
<a name="l02098"></a>02098 
<a name="l02099"></a>02099   aLayout -&gt; addStretch(1);
<a name="l02100"></a>02100   aLayout -&gt; addWidget(BGw);
<a name="l02101"></a>02101   aLayout -&gt; addStretch(1);
<a name="l02102"></a>02102 
<a name="l02103"></a>02103   aLayout = <span class="keyword">new</span> QVBoxLayout(20);
<a name="l02104"></a>02104   Layout -&gt; addLayout(aLayout);
<a name="l02105"></a>02105   <span class="comment">//  aLayout -&gt; addStretch(1);</span>
<a name="l02106"></a>02106 
<a name="l02107"></a>02107   BGw = <span class="keyword">new</span> QButtonGroup(<span class="stringliteral">&quot;Attributes&quot;</span>, gbox);
<a name="l02108"></a>02108   bLayout = <span class="keyword">new</span> QVBoxLayout(BGw, 20, 5);
<a name="l02109"></a>02109   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;13; i++)
<a name="l02110"></a>02110     {
<a name="l02111"></a>02111       <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[i] = <span class="keyword">new</span> QCheckBox(cAttr[i], BGw);
<a name="l02112"></a>02112       <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[i]-&gt; setMinimumSize(<a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[i]-&gt;sizeHint());
<a name="l02113"></a>02113       bLayout -&gt; addWidget(<a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[i]);
<a name="l02114"></a>02114     };
<a name="l02115"></a>02115   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[ 0]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba0ea5c9746376e84d1329ecc0d0d63c44" title="a la `substatus&#39;: "indicates that the source is suspected to be not suitable to define the axes in th...">SBSource::StatusSuspected</a>));
<a name="l02116"></a>02116   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[ 1]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcabaaa240b8b424043c8ae12fab76fd10b1d" title="temporary attr;">SBSource::Analysed</a>));
<a name="l02117"></a>02117   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[ 2]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba6d3e25bec907ac19e367994ec8f5d4f2" title="the coordinates of a source were used in constraint equations;">SBSource::AnalysConstr</a>));
<a name="l02118"></a>02118   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[ 3]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcabaa6163503cb29b8008b9d098cfb28702d" title="reserved;">SBSource::Reserved_08</a>));
<a name="l02119"></a>02119   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[ 4]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcabada59296b4840fb6119a81a773b731c7b" title="reserved;">SBSource::Reserved_09</a>));
<a name="l02120"></a>02120   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[ 5]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcabad2071d5cdcebab959c87eb8a8a5ba9dd" title="reserved;">SBSource::Reserved_10</a>));
<a name="l02121"></a>02121   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[ 6]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba4d449b85636a09195d2ffa679d7eb62e" title="reserved;">SBSource::Reserved_11</a>));
<a name="l02122"></a>02122   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[ 7]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcabaf2bf3ad216cdbe102286ecb782fecba1" title="reserved;">SBSource::Reserved_12</a>));
<a name="l02123"></a>02123   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[ 8]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba98fc8979d64a3214cef9dfa21237f1d6" title="reserved;">SBSource::Reserved_13</a>));
<a name="l02124"></a>02124   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[ 9]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcabacf589dbf954d526547d5a1100c4c5fc9" title="reserved;">SBSource::Reserved_14</a>));
<a name="l02125"></a>02125   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[10]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcaba894f6c82170540e68f4ddd47b108b734" title="reserved;">SBSource::Reserved_15</a>));
<a name="l02126"></a>02126   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[11]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcabacee143bb69e2d0fcaabf655b24e841fc" title="reserved;">SBSource::Reserved_16</a>));
<a name="l02127"></a>02127   <a class="code" href="classSBSourceEditor.html#a70b9e96ffdd4652b54f857cce085f4a7">CDAttr</a>[12]-&gt;setChecked(<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBAttributed.html#ac4cbf86489b34e66262c647aebb87be3">isAttr</a>(<a class="code" href="classSBSource.html#ab900e16189abeeee49e7136e5a23fcabaecc3a7e834f56616709927f630d5b803" title="reserved;">SBSource::Reserved_17</a>));
<a name="l02128"></a>02128   bLayout -&gt; activate();  
<a name="l02129"></a>02129 
<a name="l02130"></a>02130   aLayout -&gt; addWidget(BGw);
<a name="l02131"></a>02131   aLayout -&gt; addStretch(1);
<a name="l02132"></a>02132 
<a name="l02133"></a>02133   Layout  -&gt; activate();
<a name="l02134"></a>02134 
<a name="l02135"></a>02135   <span class="comment">//-</span>
<a name="l02136"></a>02136   Layout = <span class="keyword">new</span> QVBoxLayout(W, 10);
<a name="l02137"></a>02137   Layout-&gt; addWidget(gbox);
<a name="l02138"></a>02138   Layout-&gt; activate();
<a name="l02139"></a>02139   <span class="keywordflow">return</span> W;
<a name="l02140"></a>02140 };
<a name="l02141"></a>02141 
<a name="l02142"></a><a class="code" href="classSBSourceEditor.html#adddeb982fc0d60eb2b5b35f9ca51ab9b">02142</a> <span class="keywordtype">void</span> <a class="code" href="classSBSourceEditor.html#adddeb982fc0d60eb2b5b35f9ca51ab9b">SBSourceEditor::acquireData</a>()
<a name="l02143"></a>02143 {
<a name="l02144"></a>02144   <span class="keywordtype">int</span>                           hr;
<a name="l02145"></a>02145   <span class="keywordtype">int</span>                           min;
<a name="l02146"></a>02146   <span class="keywordtype">double</span>                        sec;
<a name="l02147"></a>02147   <span class="keywordtype">double</span>                        d;
<a name="l02148"></a>02148   <span class="keywordtype">float</span>                         f;
<a name="l02149"></a>02149   <span class="keywordtype">bool</span>                          isOK;
<a name="l02150"></a>02150   QString                       Str;
<a name="l02151"></a>02151   <a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464">SBSource::SStatus</a>             Status=<a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464a8724f46ebcfc63760c3abbe0397b689e">SBSource::STATUS_UNKN</a>;
<a name="l02152"></a>02152   <a class="code" href="classSBSource.html#a4f8d384fd83aaaf21776415b235543a3">SBSource::SType</a>               Type=<a class="code" href="classSBSource.html#a4f8d384fd83aaaf21776415b235543a3add27dc06f02fb71ac25b6329698ac9b4">SBSource::TYPE_UNKN</a>;
<a name="l02153"></a>02153   <a class="code" href="classSBSource.html#a804850b1a72d5f521b9924454faf064b">SBSource::SSpectrumClass</a>      SpectrumClass=<a class="code" href="classSBSource.html#a804850b1a72d5f521b9924454faf064ba16962edf3f1e7bd56182740299b0ee82">SBSource::SP_UNKN</a>;
<a name="l02154"></a>02154   <a class="code" href="classSBMJD.html">SBMJD</a>                         date;
<a name="l02155"></a>02155   
<a name="l02156"></a>02156 
<a name="l02157"></a>02157   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a53f949e3404ef9e570fc89e9ee9d2281">isNew</a> &amp;&amp; ((Str=<a class="code" href="classSBSourceEditor.html#a2f7f5a6a544237df6f528a34ab3c6406">EName</a>-&gt;text())!=<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBNamed.html#a18c8ec200ec5ade83654d749c8123c1e">name</a>()))
<a name="l02158"></a>02158     {
<a name="l02159"></a>02159       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02160"></a>02160       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBNamed.html#ac0ae44b814576bbbc35fa16ed2e082f1">setName</a>(Str.leftJustify(8, <span class="charliteral">&#39; &#39;</span>, TRUE));
<a name="l02161"></a>02161     };
<a name="l02162"></a>02162 
<a name="l02163"></a>02163   <span class="keywordflow">if</span> (((Str=<a class="code" href="classSBSourceEditor.html#a2d9af6c20af584a7d59f3bc10b1e3e32">EICRF</a>-&gt;text())!=<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a219deb493fdaf5c3ba92ff57d205b502">ICRFName</a>()) &amp;&amp; <a class="code" href="classSBSource.html#ae8f5bbbd1067410d5b201e12be3841a7">SBSource::isValidICRFName</a>(Str))
<a name="l02164"></a>02164     {
<a name="l02165"></a>02165       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02166"></a>02166       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#afdc3ee3fce2a9351075f8b93b98a9fa1">setICRFName</a>(Str);
<a name="l02167"></a>02167     };
<a name="l02168"></a>02168   
<a name="l02169"></a>02169   Str = <a class="code" href="classSBSourceEditor.html#a32817b8a6f6b7328a8b37b5e95b8dce3">ERAhr</a>-&gt;text();
<a name="l02170"></a>02170   hr  = Str.toInt(&amp;isOK);
<a name="l02171"></a>02171   <span class="keywordflow">if</span> (isOK)
<a name="l02172"></a>02172     {
<a name="l02173"></a>02173       Str = <a class="code" href="classSBSourceEditor.html#a3ad116721fd50e5076a3cae7d81ff131">ERAmin</a>-&gt;text();
<a name="l02174"></a>02174       min = Str.toInt(&amp;isOK);
<a name="l02175"></a>02175       <span class="keywordflow">if</span> (isOK)
<a name="l02176"></a>02176         {
<a name="l02177"></a>02177           Str = <a class="code" href="classSBSourceEditor.html#aab15e5b50ad5d04a26d4924e83aa4634">ERAsec</a>-&gt;text();
<a name="l02178"></a>02178           sec = Str.toDouble(&amp;isOK);
<a name="l02179"></a>02179           <span class="keywordflow">if</span> (isOK &amp;&amp; ((d=<a class="code" href="SbGeo_8H.html#a1c5a24b224df407434abcd6a36b8874e">hms2rad</a>(hr, min, sec)) != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#abccafcb34225803100df7e01a649b8dc">ra</a>()))
<a name="l02180"></a>02180             {
<a name="l02181"></a>02181               <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02182"></a>02182               <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a3964557325ff5a445a82dc118d64b317">setRA</a>(d);
<a name="l02183"></a>02183             };    
<a name="l02184"></a>02184         };
<a name="l02185"></a>02185     };
<a name="l02186"></a>02186 
<a name="l02187"></a>02187   Str = <a class="code" href="classSBSourceEditor.html#ab4566a31eff09847e7809164356f9d14">EDNdg</a>-&gt;text();
<a name="l02188"></a>02188   hr  = Str.toInt(&amp;isOK);
<a name="l02189"></a>02189   <span class="keywordflow">if</span> (isOK)
<a name="l02190"></a>02190     {
<a name="l02191"></a>02191       Str = <a class="code" href="classSBSourceEditor.html#ad4a8c8eb56331aa0e816114a856a491d">EDNmin</a>-&gt;text();
<a name="l02192"></a>02192       min = Str.toInt(&amp;isOK);
<a name="l02193"></a>02193       <span class="keywordflow">if</span> (isOK)
<a name="l02194"></a>02194         {
<a name="l02195"></a>02195           Str = <a class="code" href="classSBSourceEditor.html#aee2e14dc099c5f5143b8f9630b517c4d">EDNsec</a>-&gt;text();
<a name="l02196"></a>02196           sec = Str.toDouble(&amp;isOK);
<a name="l02197"></a>02197           <span class="keywordflow">if</span> (isOK &amp;&amp; ((d=<a class="code" href="SbGeo_8H.html#acbbbe1028022700ef2d69826a8e3af7a">dms2rad</a>(hr, min, sec)) != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#aa9ac0e012c970eb8eaf6afd401efe87e">dn</a>()))
<a name="l02198"></a>02198             {
<a name="l02199"></a>02199               <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02200"></a>02200               <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a454c5cfeda0ec93c2a0f280b63d6d165">setDN</a>(d);
<a name="l02201"></a>02201             };
<a name="l02202"></a>02202         };
<a name="l02203"></a>02203     };
<a name="l02204"></a>02204 
<a name="l02205"></a>02205   Str = <a class="code" href="classSBSourceEditor.html#a7d261a04c57b265cbd83dffff01aec48">ERAunc</a>-&gt;text();
<a name="l02206"></a>02206   sec = Str.toDouble(&amp;isOK);
<a name="l02207"></a>02207   <span class="keywordflow">if</span> (isOK &amp;&amp; ((d=<a class="code" href="SbGeo_8H.html#a1c5a24b224df407434abcd6a36b8874e">hms2rad</a>(0, 0, sec)) != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a8a32024d4dd51d916dfa509274422b96">ra_err</a>()))
<a name="l02208"></a>02208     {
<a name="l02209"></a>02209       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02210"></a>02210       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a8243849579f675c4ba539b535fa650f9">setRA_err</a>(d);
<a name="l02211"></a>02211     };
<a name="l02212"></a>02212 
<a name="l02213"></a>02213   Str = <a class="code" href="classSBSourceEditor.html#aeb50bc29d75ba6c9b236b6ba16f13014">EDNunc</a>-&gt;text();
<a name="l02214"></a>02214   sec = Str.toDouble(&amp;isOK);
<a name="l02215"></a>02215   <span class="keywordflow">if</span> (isOK &amp;&amp; ((d=<a class="code" href="SbGeo_8H.html#acbbbe1028022700ef2d69826a8e3af7a">dms2rad</a>(0, 0, sec)) != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a840a5a78613787de2c9c55d748fc7615">dn_err</a>()))
<a name="l02216"></a>02216     {
<a name="l02217"></a>02217       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02218"></a>02218       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#ad6fc9107e2e98809da2dc75394f432ed">setDN_err</a>(d);
<a name="l02219"></a>02219     };
<a name="l02220"></a>02220 
<a name="l02221"></a>02221   Str = <a class="code" href="classSBSourceEditor.html#aefb15064a8330e97580c36b5838b4c56">ECorr</a>-&gt;text();
<a name="l02222"></a>02222   d   = Str.toDouble(&amp;isOK);
<a name="l02223"></a>02223   <span class="keywordflow">if</span> (isOK &amp;&amp; (d != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a8b35bd819c6a42d3e61b45d60df62f93">corrRA_DN</a>()))
<a name="l02224"></a>02224     {
<a name="l02225"></a>02225       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02226"></a>02226       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a20a9200f1457f887525809ed39305d7b">setCorrRA_DN</a>(d);
<a name="l02227"></a>02227     };
<a name="l02228"></a>02228 
<a name="l02229"></a>02229   isOK = <a class="code" href="classSBSourceEditor.html#afbdf0b5d8aae8fe67b58fd3a423652f2">CBHipp</a>-&gt;isChecked();
<a name="l02230"></a>02230   <span class="keywordflow">if</span> (isOK!=<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a92b80c1add0ceb7c10faab878a958847">isHLink</a>())
<a name="l02231"></a>02231     {
<a name="l02232"></a>02232       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02233"></a>02233       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#ac8030d78e08bbd166860196010040c59">setIsHLink</a>(isOK);
<a name="l02234"></a>02234     };
<a name="l02235"></a>02235 
<a name="l02236"></a>02236   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#acd5d0c2ffde03015153af5a67c69da0c">RBStatus</a>[0]-&gt;isChecked()) Status=<a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464aa1d941e47d460587902afcbf6bbff730">SBSource::STATUS_DEF</a>;
<a name="l02237"></a>02237   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#acd5d0c2ffde03015153af5a67c69da0c">RBStatus</a>[1]-&gt;isChecked()) Status=<a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464aea18b379e27b6adca1621c10b8fbb8c4">SBSource::STATUS_CAND</a>;
<a name="l02238"></a>02238   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#acd5d0c2ffde03015153af5a67c69da0c">RBStatus</a>[2]-&gt;isChecked()) Status=<a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464a11a4a558722c106a6c92610b96ac54b7">SBSource::STATUS_OTHER</a>;
<a name="l02239"></a>02239   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#acd5d0c2ffde03015153af5a67c69da0c">RBStatus</a>[3]-&gt;isChecked()) Status=<a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464a592d3300667565d2e8e24fefb9922b0a">SBSource::STATUS_NEW</a>;
<a name="l02240"></a>02240   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#acd5d0c2ffde03015153af5a67c69da0c">RBStatus</a>[4]-&gt;isChecked()) Status=<a class="code" href="classSBSource.html#a2cd945f048decac0aa876ecc8219d464a8724f46ebcfc63760c3abbe0397b689e">SBSource::STATUS_UNKN</a>;
<a name="l02241"></a>02241   <span class="keywordflow">if</span> (Status!=<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a96cdfdd1c6dbb4b9635ae09188e0df1f">status</a>())
<a name="l02242"></a>02242     {
<a name="l02243"></a>02243       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02244"></a>02244       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a7fdd6705029ec23f2ae99d8b941614d9">setStatus</a>(Status);
<a name="l02245"></a>02245     };
<a name="l02246"></a>02246 
<a name="l02247"></a>02247   Str = <a class="code" href="classSBSourceEditor.html#ad274800a2bf3ad220c6751bcfd294fee">ENofObs</a>-&gt;text();
<a name="l02248"></a>02248   min = Str.toInt(&amp;isOK);
<a name="l02249"></a>02249   <span class="keywordflow">if</span> (isOK &amp;&amp; (min != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a98b04061c2db7f0f45ae3804072e735d">nObsApr</a>()))
<a name="l02250"></a>02250     {
<a name="l02251"></a>02251       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02252"></a>02252       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a03e105436ee879046bb9047e8fdfa174">setNObsApr</a>(min);
<a name="l02253"></a>02253     };
<a name="l02254"></a>02254 
<a name="l02255"></a>02255   Str = <a class="code" href="classSBSourceEditor.html#a231bcc401a722e4979579c8ef23d7524">ENofSes</a>-&gt;text();
<a name="l02256"></a>02256   min = Str.toInt(&amp;isOK);
<a name="l02257"></a>02257   <span class="keywordflow">if</span> (isOK &amp;&amp; (min != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a05c2fd4841e57a0a010dca74418c7852">nSessApr</a>()))
<a name="l02258"></a>02258     {
<a name="l02259"></a>02259       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02260"></a>02260       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#ae100a2d0297e2a7e70eca2649ebbbcf6">setNSessApr</a>(min);
<a name="l02261"></a>02261     };
<a name="l02262"></a>02262 
<a name="l02263"></a>02263   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a7fe6d7ba8b30f654a12a4a954e09226f">firstMJD</a>().<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba21d7fd51333c3bcaf77f3bedfd5d5a0c">SBMJD::F_Short</a>) != (Str=<a class="code" href="classSBSourceEditor.html#a4c375340af791651c6cc56f8ddc8bc44">EFMJD</a>-&gt;text()))
<a name="l02264"></a>02264     {
<a name="l02265"></a>02265       date.<a class="code" href="classSBMJD.html#a30c5bdbab363c4e3b857b0ce603687c8">setMJD</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba21d7fd51333c3bcaf77f3bedfd5d5a0c">SBMJD::F_Short</a>, Str);
<a name="l02266"></a>02266       <span class="keywordflow">if</span> (date.<a class="code" href="classSBMJD.html#a10c3a2191c3d440f85355e385683850b">isGood</a>())
<a name="l02267"></a>02267         {
<a name="l02268"></a>02268           <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02269"></a>02269           <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a14a90233edd2c4a677a7cd2a0be018da">setFirstMJD</a>(date);
<a name="l02270"></a>02270         };
<a name="l02271"></a>02271     };
<a name="l02272"></a>02272 
<a name="l02273"></a>02273   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a53512665ec5d35f15e96c3b9681c59da">meanMJD</a>().<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba21d7fd51333c3bcaf77f3bedfd5d5a0c">SBMJD::F_Short</a>) != (Str=<a class="code" href="classSBSourceEditor.html#a74c3ad431cb1850a7e7d26f1a5387277">EMMJD</a>-&gt;text()))
<a name="l02274"></a>02274     {
<a name="l02275"></a>02275       date.<a class="code" href="classSBMJD.html#a30c5bdbab363c4e3b857b0ce603687c8">setMJD</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba21d7fd51333c3bcaf77f3bedfd5d5a0c">SBMJD::F_Short</a>, Str);
<a name="l02276"></a>02276       <span class="keywordflow">if</span> (date.<a class="code" href="classSBMJD.html#a10c3a2191c3d440f85355e385683850b">isGood</a>())
<a name="l02277"></a>02277         {
<a name="l02278"></a>02278           <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02279"></a>02279           <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#ab104c7d0d7d00eaf84869f6414248e89">setMeanMJD</a>(date);
<a name="l02280"></a>02280         };
<a name="l02281"></a>02281     };
<a name="l02282"></a>02282 
<a name="l02283"></a>02283 
<a name="l02284"></a>02284   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a4b133ff240fdd9391533472498e42d83">lastMJD</a>().<a class="code" href="classSBMJD.html#a503ad8eab15136efa52e77311b93d61a">toString</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba21d7fd51333c3bcaf77f3bedfd5d5a0c">SBMJD::F_Short</a>) != (Str=<a class="code" href="classSBSourceEditor.html#a4562594b4851b5734bea36acb3e71891">ELMJD</a>-&gt;text()))
<a name="l02285"></a>02285     {
<a name="l02286"></a>02286       date.<a class="code" href="classSBMJD.html#a30c5bdbab363c4e3b857b0ce603687c8">setMJD</a>(<a class="code" href="classSBMJD.html#ac2ee729edf70bb2c9c9b72c382e49bcba21d7fd51333c3bcaf77f3bedfd5d5a0c">SBMJD::F_Short</a>, Str);
<a name="l02287"></a>02287       <span class="keywordflow">if</span> (date.<a class="code" href="classSBMJD.html#a10c3a2191c3d440f85355e385683850b">isGood</a>())
<a name="l02288"></a>02288         {
<a name="l02289"></a>02289           <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02290"></a>02290           <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#aa0015d2ecabd4ff8d377626354e2625f">setLastMJD</a>(date);
<a name="l02291"></a>02291         };
<a name="l02292"></a>02292     };
<a name="l02293"></a>02293 
<a name="l02294"></a>02294   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[0]-&gt;isChecked()) Type=<a class="code" href="classSBSource.html#a4f8d384fd83aaaf21776415b235543a3a63cd130052c867c1bba6e9da3da17851">SBSource::TYPE_QUASAR</a>;
<a name="l02295"></a>02295   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[1]-&gt;isChecked()) Type=<a class="code" href="classSBSource.html#a4f8d384fd83aaaf21776415b235543a3a08c87fb30285160cdce458e864ac8a9e">SBSource::TYPE_GALAXY</a>;
<a name="l02296"></a>02296   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[2]-&gt;isChecked()) Type=<a class="code" href="classSBSource.html#a4f8d384fd83aaaf21776415b235543a3a08b9949e41777428b510a049af1c06ad">SBSource::TYPE_BL_LAC</a>;
<a name="l02297"></a>02297   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[3]-&gt;isChecked()) Type=<a class="code" href="classSBSource.html#a4f8d384fd83aaaf21776415b235543a3ade4b43f9745cb75d82a9ca2388bb700e">SBSource::TYPE_BL_LAC_C</a>;
<a name="l02298"></a>02298   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[4]-&gt;isChecked()) Type=<a class="code" href="classSBSource.html#a4f8d384fd83aaaf21776415b235543a3ab3f694311620854f0bea64743b3be952">SBSource::TYPE_OTHER</a>;
<a name="l02299"></a>02299   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#a597848955487ef6a02c269bb71f5ddfb">RBType</a>[5]-&gt;isChecked()) Type=<a class="code" href="classSBSource.html#a4f8d384fd83aaaf21776415b235543a3add27dc06f02fb71ac25b6329698ac9b4">SBSource::TYPE_UNKN</a>;
<a name="l02300"></a>02300   <span class="keywordflow">if</span> (Type!=<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a56a4514441973cd771165faa91530e16">type</a>())
<a name="l02301"></a>02301     {
<a name="l02302"></a>02302       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02303"></a>02303       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a343334013a13a6f35645d6f90cbf6488">setType</a>(Type);
<a name="l02304"></a>02304     };
<a name="l02305"></a>02305 
<a name="l02306"></a>02306 
<a name="l02307"></a>02307   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[0]-&gt;isChecked()) SpectrumClass=<a class="code" href="classSBSource.html#a804850b1a72d5f521b9924454faf064ba987bce92907a7bb9a94571d545f4b43a">SBSource::SP_SEYFERT</a>;
<a name="l02308"></a>02308   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[1]-&gt;isChecked()) SpectrumClass=<a class="code" href="classSBSource.html#a804850b1a72d5f521b9924454faf064ba929fcfd6e3ea4b3cf62cd2271061bb82">SBSource::SP_SEYFERT1</a>;
<a name="l02309"></a>02309   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[2]-&gt;isChecked()) SpectrumClass=<a class="code" href="classSBSource.html#a804850b1a72d5f521b9924454faf064baf25a045ec4a41ed94d0cb266d3310e5e">SBSource::SP_SEYFERT1_2</a>;
<a name="l02310"></a>02310   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[3]-&gt;isChecked()) SpectrumClass=<a class="code" href="classSBSource.html#a804850b1a72d5f521b9924454faf064bacf50cd94765762d58415b1d0d6cf4164">SBSource::SP_SEYFERT2</a>;
<a name="l02311"></a>02311   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[4]-&gt;isChecked()) SpectrumClass=<a class="code" href="classSBSource.html#a804850b1a72d5f521b9924454faf064ba11283e8167efd870787e28e00ce8f6e5">SBSource::SP_SEYFERT3</a>;
<a name="l02312"></a>02312   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[5]-&gt;isChecked()) SpectrumClass=<a class="code" href="classSBSource.html#a804850b1a72d5f521b9924454faf064bafa2d5020e1db9d41935963f27a09f7e6">SBSource::SP_HP</a>;
<a name="l02313"></a>02313   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[6]-&gt;isChecked()) SpectrumClass=<a class="code" href="classSBSource.html#a804850b1a72d5f521b9924454faf064ba14264a440d599c53fb66003cf7d01255">SBSource::SP_OTHER</a>;
<a name="l02314"></a>02314   <span class="keywordflow">if</span> (<a class="code" href="classSBSourceEditor.html#ada21aed4e4fbe205e852f97e0721e9d9">RBSpClass</a>[7]-&gt;isChecked()) SpectrumClass=<a class="code" href="classSBSource.html#a804850b1a72d5f521b9924454faf064ba16962edf3f1e7bd56182740299b0ee82">SBSource::SP_UNKN</a>;
<a name="l02315"></a>02315   <span class="keywordflow">if</span> (SpectrumClass!=<a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a242ac0b292286eed805d7411dc788216">spectrum</a>())
<a name="l02316"></a>02316     {
<a name="l02317"></a>02317       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02318"></a>02318       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a81e80fca3a5a1c8adeb10492b2b4606b">setSpectrum</a>(SpectrumClass);
<a name="l02319"></a>02319     };
<a name="l02320"></a>02320 
<a name="l02321"></a>02321 
<a name="l02322"></a>02322   Str = <a class="code" href="classSBSourceEditor.html#a591eab155622d14e5a062420aa59da15">EMv</a>-&gt;text();
<a name="l02323"></a>02323   f   = Str.toFloat(&amp;isOK);
<a name="l02324"></a>02324   <span class="keywordflow">if</span> (isOK &amp;&amp; (f != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#ab2e4d845b8874d272329b698209aed26">mv</a>()))
<a name="l02325"></a>02325     {
<a name="l02326"></a>02326       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02327"></a>02327       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a722885d214cc3f08a20f7f1a2ca05907">setMv</a>(f);
<a name="l02328"></a>02328     };
<a name="l02329"></a>02329 
<a name="l02330"></a>02330   Str = <a class="code" href="classSBSourceEditor.html#a9b5e49324ce73fd18f98a05a7a233634">EFlux1</a>-&gt;text();
<a name="l02331"></a>02331   f   = Str.toFloat(&amp;isOK);
<a name="l02332"></a>02332   <span class="keywordflow">if</span> (isOK &amp;&amp; (f != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a54a98e27c98fcbd60364e7ac5127666c">flux1</a>()))
<a name="l02333"></a>02333     {
<a name="l02334"></a>02334       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02335"></a>02335       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a1c985672ebba69f9f1d4daf892eb469a">setFlux1</a>(f);
<a name="l02336"></a>02336     };
<a name="l02337"></a>02337 
<a name="l02338"></a>02338   Str = <a class="code" href="classSBSourceEditor.html#ab46c585cf69f07568cc5a98375dd933f">EFlux2</a>-&gt;text();
<a name="l02339"></a>02339   f   = Str.toFloat(&amp;isOK);
<a name="l02340"></a>02340   <span class="keywordflow">if</span> (isOK &amp;&amp; (f != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a4b2a40e7e593f5d91c20fc1bd07ad7fe">flux2</a>()))
<a name="l02341"></a>02341     {
<a name="l02342"></a>02342       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02343"></a>02343       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a63a048ad220ac025b35c654f7de70c37">setFlux2</a>(f);
<a name="l02344"></a>02344     };
<a name="l02345"></a>02345 
<a name="l02346"></a>02346   Str = <a class="code" href="classSBSourceEditor.html#ab45e61e660f6c83342b0dce9d502a638">ESpIdx</a>-&gt;text();
<a name="l02347"></a>02347   f   = Str.toFloat(&amp;isOK);
<a name="l02348"></a>02348   <span class="keywordflow">if</span> (isOK &amp;&amp; (f != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a6fe9866dbe66042a67b77e657d53b09c">spIdx</a>()))
<a name="l02349"></a>02349     {
<a name="l02350"></a>02350       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02351"></a>02351       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a57a64163470dd0bf8a2f618f7338a6f8">setSpIdx</a>(f);
<a name="l02352"></a>02352     };
<a name="l02353"></a>02353 
<a name="l02354"></a>02354   Str = <a class="code" href="classSBSourceEditor.html#aec8ceafcfc1520a55837913b7421cd8d">ERedShift</a>-&gt;text();
<a name="l02355"></a>02355   f   = Str.toFloat(&amp;isOK);
<a name="l02356"></a>02356   <span class="keywordflow">if</span> (isOK &amp;&amp; (f != <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#a53aa89e306acece6923a3103431a47df">redShift</a>()))
<a name="l02357"></a>02357     {
<a name="l02358"></a>02358       <a class="code" href="classSBSourceEditor.html#a79216e2ca1f404623db4bac8a3718ecb">isModified</a> = TRUE;
<a name="l02359"></a>02359       <a class="code" href="classSBSourceEditor.html#aa5480e20bc2698403097ab8c05f7de50">Source</a>-&gt;<a class="code" href="classSBSource.html#ab97ecb00c6864b722e0e43260050d8d6">setRedShift</a>(f);
<a name="l02360"></a>02360     };
<a name="l02361"></a>02361 };
<a name="l02362"></a>02362 <span class="comment">/*==============================================================================================*/</span>
<a name="l02363"></a>02363 
<a name="l02364"></a>02364 
<a name="l02365"></a>02365 
<a name="l02366"></a>02366 <span class="comment">/*==============================================================================================*/</span>
<a name="l02367"></a>02367 <span class="comment">/*                                                                                              */</span>
<a name="l02368"></a>02368 <span class="comment">/* SBAliasEditor..                                                                              */</span>
<a name="l02369"></a>02369 <span class="comment">/*                                                                                              */</span>
<a name="l02370"></a>02370 <span class="comment">/*==============================================================================================*/</span>
<a name="l02371"></a><a class="code" href="classSBAliasEditor.html#ab0b2731c82283d21ba75c1c3eeb0eead">02371</a> <a class="code" href="classSBAliasEditor.html#ab0b2731c82283d21ba75c1c3eeb0eead">SBAliasEditor::SBAliasEditor</a>(<a class="code" href="classSBAliasListItem.html">SBAliasListItem</a>* AkaItem_, <a class="code" href="classSBCatalog.html">SBCatalog</a>* Wcrf_,
<a name="l02372"></a>02372                              <a class="code" href="classQWidget.html">QWidget</a>* parent, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> modal, WFlags f)
<a name="l02373"></a>02373   : <a class="code" href="classQDialog.html">QDialog</a>(parent, name, modal, f)
<a name="l02374"></a>02374 {
<a name="l02375"></a>02375   <a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a>       = AkaItem_;
<a name="l02376"></a>02376   <a class="code" href="classSBAliasEditor.html#a9a77567a0ca2afd2a6e6ec76e8ce44e3">AliasesLV</a>     = <a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a>-&gt;listView();
<a name="l02377"></a>02377   <a class="code" href="classSBAliasEditor.html#afb7ebe3f66185e9c70cd7c08eeccd265">Alias</a>         = <a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a>-&gt;<a class="code" href="classSBAliasListItem.html#a7044813e82a7159cc1c6c35b09a56832">Alias</a>.copy();
<a name="l02378"></a>02378   <a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>     = <a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a>-&gt;<a class="code" href="classSBAliasListItem.html#a41c909ea4046625df4bf637c36f95e8a">Reference</a>.copy();
<a name="l02379"></a>02379   <a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>          = Wcrf_;
<a name="l02380"></a>02380 
<a name="l02381"></a>02381   <a class="code" href="classSBAliasEditor.html#ad6fcc5000578607b5f3d25a70e21e9df">isNew</a>         = FALSE;
<a name="l02382"></a>02382   <a class="code" href="classSBAliasEditor.html#a7421e60e22152e7ad84995d5aa36f7b1">OldReference</a>  = <a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>.copy();
<a name="l02383"></a>02383   <a class="code" href="classSBAliasEditor.html#a811647b4d2111538ea7bc5c708663682">init</a>();
<a name="l02384"></a>02384 };
<a name="l02385"></a>02385 
<a name="l02386"></a><a class="code" href="classSBAliasEditor.html#a9ae8489687200bc278e5e03369ed21d9">02386</a> <a class="code" href="classSBAliasEditor.html#ab0b2731c82283d21ba75c1c3eeb0eead">SBAliasEditor::SBAliasEditor</a>(<a class="code" href="classQListView.html">QListView</a>* AliasesLV_, <a class="code" href="classSBCatalog.html">SBCatalog</a>* Wcrf_,
<a name="l02387"></a>02387                              <a class="code" href="classQWidget.html">QWidget</a>* parent, <span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keywordtype">bool</span> modal, WFlags f)
<a name="l02388"></a>02388   : <a class="code" href="classQDialog.html">QDialog</a>(parent, name, modal, f)
<a name="l02389"></a>02389 {
<a name="l02390"></a>02390   <a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a>       = NULL;
<a name="l02391"></a>02391   <a class="code" href="classSBAliasEditor.html#a9a77567a0ca2afd2a6e6ec76e8ce44e3">AliasesLV</a>     = AliasesLV_;
<a name="l02392"></a>02392   <a class="code" href="classSBAliasEditor.html#afb7ebe3f66185e9c70cd7c08eeccd265">Alias</a>         = <span class="stringliteral">&quot;ALIAS-01&quot;</span>;
<a name="l02393"></a>02393   <a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>     = <span class="stringliteral">&quot;_NONAME_&quot;</span>;
<a name="l02394"></a>02394   <a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>          = Wcrf_;
<a name="l02395"></a>02395 
<a name="l02396"></a>02396   <a class="code" href="classSBAliasEditor.html#ad6fcc5000578607b5f3d25a70e21e9df">isNew</a>         = TRUE;
<a name="l02397"></a>02397   <a class="code" href="classSBAliasEditor.html#a7421e60e22152e7ad84995d5aa36f7b1">OldReference</a>  = <span class="stringliteral">&quot;&quot;</span>;
<a name="l02398"></a>02398   <a class="code" href="classSBAliasEditor.html#a811647b4d2111538ea7bc5c708663682">init</a>();
<a name="l02399"></a>02399 };
<a name="l02400"></a>02400 
<a name="l02401"></a><a class="code" href="classSBAliasEditor.html#a811647b4d2111538ea7bc5c708663682">02401</a> <span class="keywordtype">void</span> <a class="code" href="classSBAliasEditor.html#a811647b4d2111538ea7bc5c708663682">SBAliasEditor::init</a>()
<a name="l02402"></a>02402 {
<a name="l02403"></a>02403   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* description =
<a name="l02404"></a>02404     <span class="stringliteral">&quot;\nSelect source name corresponding to the alias.\n&quot;</span>
<a name="l02405"></a>02405     <span class="stringliteral">&quot;This text should be modified some time..\n&quot;</span>
<a name="l02406"></a>02406     <span class="stringliteral">&quot;and so on...\n&quot;</span>;
<a name="l02407"></a>02407   
<a name="l02408"></a>02408   setCaption(<span class="stringliteral">&quot;Alias Editor&quot;</span>);
<a name="l02409"></a>02409   
<a name="l02410"></a>02410   QPushButton   *button;
<a name="l02411"></a>02411   QLabel        *label;
<a name="l02412"></a>02412   QBoxLayout    *Layout;
<a name="l02413"></a>02413   QBoxLayout    *SubLayout;
<a name="l02414"></a>02414   
<a name="l02415"></a>02415   <a class="code" href="classSBAliasEditor.html#a5b3b96cf1e584a9a362d92c6fe3c4fbd">isModified</a>    = FALSE;
<a name="l02416"></a>02416 
<a name="l02417"></a>02417   QGroupBox     *gbox = <span class="keyword">new</span> QGroupBox(<span class="stringliteral">&quot;Aliases&quot;</span>, <span class="keyword">this</span>);
<a name="l02418"></a>02418   Layout = <span class="keyword">new</span> QVBoxLayout(gbox, 20, 20);
<a name="l02419"></a>02419   Layout -&gt; addStretch(1);
<a name="l02420"></a>02420   
<a name="l02421"></a>02421   SubLayout = <span class="keyword">new</span> QHBoxLayout(20);
<a name="l02422"></a>02422   Layout -&gt; addLayout(SubLayout);
<a name="l02423"></a>02423   SubLayout -&gt; addStretch(1);
<a name="l02424"></a>02424 
<a name="l02425"></a>02425   label = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot;alias: &quot;</span>, gbox);
<a name="l02426"></a>02426   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l02427"></a>02427   SubLayout -&gt; addWidget(label);
<a name="l02428"></a>02428 
<a name="l02429"></a>02429   <span class="keywordflow">if</span> (<a class="code" href="classSBAliasEditor.html#ad6fcc5000578607b5f3d25a70e21e9df">isNew</a>)
<a name="l02430"></a>02430     {
<a name="l02431"></a>02431       <a class="code" href="classSBAliasEditor.html#a9226fa63435b7bfb3aec1bf37538449b">EAlias</a>  = <span class="keyword">new</span> QLineEdit(gbox);
<a name="l02432"></a>02432       <a class="code" href="classSBAliasEditor.html#a9226fa63435b7bfb3aec1bf37538449b">EAlias</a> -&gt; setText(<a class="code" href="classSBAliasEditor.html#afb7ebe3f66185e9c70cd7c08eeccd265">Alias</a>);
<a name="l02433"></a>02433       <a class="code" href="classSBAliasEditor.html#a9226fa63435b7bfb3aec1bf37538449b">EAlias</a> -&gt; setMinimumHeight(<a class="code" href="classSBAliasEditor.html#a9226fa63435b7bfb3aec1bf37538449b">EAlias</a>-&gt;sizeHint().height());
<a name="l02434"></a>02434       <a class="code" href="classSBAliasEditor.html#a9226fa63435b7bfb3aec1bf37538449b">EAlias</a> -&gt; setMinimumWidth (<a class="code" href="classSBAliasEditor.html#a9226fa63435b7bfb3aec1bf37538449b">EAlias</a>-&gt;fontMetrics().width(<span class="stringliteral">&quot;WWWWWWWW&quot;</span>) + 8);
<a name="l02435"></a>02435       SubLayout -&gt; addWidget(<a class="code" href="classSBAliasEditor.html#a9226fa63435b7bfb3aec1bf37538449b">EAlias</a>);
<a name="l02436"></a>02436     }
<a name="l02437"></a>02437   <span class="keywordflow">else</span>
<a name="l02438"></a>02438     {
<a name="l02439"></a>02439       <a class="code" href="classSBAliasEditor.html#a9226fa63435b7bfb3aec1bf37538449b">EAlias</a>    = NULL;
<a name="l02440"></a>02440       label     = <span class="keyword">new</span> QLabel(<a class="code" href="classSBAliasEditor.html#afb7ebe3f66185e9c70cd7c08eeccd265">Alias</a>, gbox);
<a name="l02441"></a>02441       label     -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l02442"></a>02442       SubLayout -&gt; addWidget(label);
<a name="l02443"></a>02443     };
<a name="l02444"></a>02444 
<a name="l02445"></a>02445   label = <span class="keyword">new</span> QLabel(<span class="stringliteral">&quot; stands for: &quot;</span>, gbox);
<a name="l02446"></a>02446   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l02447"></a>02447   SubLayout -&gt; addWidget(label);
<a name="l02448"></a>02448 
<a name="l02449"></a>02449 
<a name="l02450"></a>02450   <a class="code" href="classSBAliasEditor.html#a46a8ee3beaba8a426d575ab0605f3049">CBReference</a>  = <span class="keyword">new</span> QComboBox(FALSE, gbox);
<a name="l02451"></a>02451   <a class="code" href="classSBAliasEditor.html#a46a8ee3beaba8a426d575ab0605f3049">CBReference</a> -&gt; setInsertionPolicy(QComboBox::AtBottom);
<a name="l02452"></a>02452 
<a name="l02453"></a>02453   <a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a22f2ee415c348412a14146cb8d98dfc4">prepareReferences</a>();
<a name="l02454"></a>02454   <span class="keywordtype">int</span> i=0;
<a name="l02455"></a>02455   <span class="keywordflow">if</span> (<a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>-&gt;count() &amp;&amp; <a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a4731dfc2c5ca0b5fc3d36b8789602a67">referenceList</a>()-&gt;count())
<a name="l02456"></a>02456     {
<a name="l02457"></a>02457       <a class="code" href="classQListIterator.html">SBNIterator</a> it(*<a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a4731dfc2c5ca0b5fc3d36b8789602a67">referenceList</a>());
<a name="l02458"></a>02458       <span class="keywordflow">while</span> (it.current())
<a name="l02459"></a>02459         {
<a name="l02460"></a>02460           <a class="code" href="classSBAliasEditor.html#a46a8ee3beaba8a426d575ab0605f3049">CBReference</a> -&gt; insertItem(it.current()-&gt;name());
<a name="l02461"></a>02461           <span class="keywordflow">if</span> (<a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>==it.current()-&gt;name()) <a class="code" href="classSBAliasEditor.html#a46a8ee3beaba8a426d575ab0605f3049">CBReference</a> -&gt; setCurrentItem(i);
<a name="l02462"></a>02462           ++it;
<a name="l02463"></a>02463           ++i;
<a name="l02464"></a>02464         };
<a name="l02465"></a>02465     }
<a name="l02466"></a>02466   <span class="keywordflow">else</span>
<a name="l02467"></a>02467     <a class="code" href="classSBAliasEditor.html#a46a8ee3beaba8a426d575ab0605f3049">CBReference</a> -&gt; insertItem(<span class="stringliteral">&quot;=Not available=&quot;</span>);
<a name="l02468"></a>02468 
<a name="l02469"></a>02469   <a class="code" href="classSBAliasEditor.html#a46a8ee3beaba8a426d575ab0605f3049">CBReference</a> -&gt; setMinimumSize(<a class="code" href="classSBAliasEditor.html#a46a8ee3beaba8a426d575ab0605f3049">CBReference</a>-&gt;sizeHint());
<a name="l02470"></a>02470   SubLayout-&gt; addWidget(<a class="code" href="classSBAliasEditor.html#a46a8ee3beaba8a426d575ab0605f3049">CBReference</a>);
<a name="l02471"></a>02471   SubLayout -&gt; addStretch(1);
<a name="l02472"></a>02472 
<a name="l02473"></a>02473   Layout -&gt; addStretch(1);
<a name="l02474"></a>02474 
<a name="l02475"></a>02475   label = <span class="keyword">new</span> QLabel(gbox);
<a name="l02476"></a>02476   label -&gt; setFrameStyle(QFrame::Panel | QFrame::Raised);
<a name="l02477"></a>02477   label -&gt; setAlignment(AlignCenter);
<a name="l02478"></a>02478   label -&gt; setText(description);
<a name="l02479"></a>02479   label -&gt; setMinimumSize(label-&gt;sizeHint());
<a name="l02480"></a>02480   Layout-&gt; addWidget(label);
<a name="l02481"></a>02481 
<a name="l02482"></a>02482   Layout -&gt; addStretch(1);
<a name="l02483"></a>02483 
<a name="l02484"></a>02484   Layout -&gt; activate();
<a name="l02485"></a>02485 
<a name="l02486"></a>02486 
<a name="l02487"></a>02487 
<a name="l02488"></a>02488   <span class="comment">//-</span>
<a name="l02489"></a>02489   Layout = <span class="keyword">new</span> QVBoxLayout(<span class="keyword">this</span>, 10, 10);
<a name="l02490"></a>02490   Layout -&gt; addWidget(gbox, 10);
<a name="l02491"></a>02491 
<a name="l02492"></a>02492 
<a name="l02493"></a>02493   <span class="comment">// buttons:</span>
<a name="l02494"></a>02494   SubLayout = <span class="keyword">new</span> QHBoxLayout(10);
<a name="l02495"></a>02495   Layout -&gt; addLayout(SubLayout);
<a name="l02496"></a>02496 
<a name="l02497"></a>02497   button = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;OK&quot;</span>, <span class="keyword">this</span>);
<a name="l02498"></a>02498   button-&gt;setMinimumSize(button-&gt;sizeHint());
<a name="l02499"></a>02499   SubLayout-&gt; addWidget(button);
<a name="l02500"></a>02500   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBAliasEditor.html#a7ebfd41d1d9a966778102fcaa02ccdd7">accept</a>()));
<a name="l02501"></a>02501 
<a name="l02502"></a>02502   button = <span class="keyword">new</span> QPushButton(<span class="stringliteral">&quot;Cancel&quot;</span>, <span class="keyword">this</span>);
<a name="l02503"></a>02503   button-&gt;setMinimumSize(button-&gt;sizeHint());
<a name="l02504"></a>02504   SubLayout-&gt; addWidget(button);
<a name="l02505"></a>02505   connect (button, SIGNAL(clicked()), SLOT(<a class="code" href="classSBAliasEditor.html#a49743fb1c9fc442973b2e7d78d977082">reject</a>()));
<a name="l02506"></a>02506   <span class="comment">//--</span>
<a name="l02507"></a>02507 
<a name="l02508"></a>02508   Layout -&gt; activate(); 
<a name="l02509"></a>02509 };
<a name="l02510"></a>02510 
<a name="l02511"></a><a class="code" href="classSBAliasEditor.html#a4f7373e6ea9682364874d11b56137740">02511</a> <a class="code" href="classSBAliasEditor.html#a4f7373e6ea9682364874d11b56137740">SBAliasEditor::~SBAliasEditor</a>()
<a name="l02512"></a>02512 {
<a name="l02513"></a>02513   emit <a class="code" href="classSBAliasEditor.html#a7df18f44988d55e1c153a6e9ae7d6c21">AliasModified</a>(<a class="code" href="classSBAliasEditor.html#a5b3b96cf1e584a9a362d92c6fe3c4fbd">isModified</a>);
<a name="l02514"></a>02514 };
<a name="l02515"></a>02515  
<a name="l02516"></a><a class="code" href="classSBAliasEditor.html#a7ebfd41d1d9a966778102fcaa02ccdd7">02516</a> <span class="keywordtype">void</span> <a class="code" href="classSBAliasEditor.html#a7ebfd41d1d9a966778102fcaa02ccdd7">SBAliasEditor::accept</a>()
<a name="l02517"></a>02517 {
<a name="l02518"></a>02518   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBAliasEditor.html#a8cfd12916f5821c09c6319bce19b8044">ClassName</a>() + <span class="stringliteral">&quot;: applying&quot;</span>);
<a name="l02519"></a>02519   <a class="code" href="classSBAliasEditor.html#a202d007340ccaf6c6db1f876bba83753">acquireData</a>();
<a name="l02520"></a>02520   <span class="keywordflow">if</span> (<a class="code" href="classSBAliasEditor.html#a5b3b96cf1e584a9a362d92c6fe3c4fbd">isModified</a>) 
<a name="l02521"></a>02521     {
<a name="l02522"></a>02522       <span class="keywordflow">if</span> (<a class="code" href="classSBAliasEditor.html#ad6fcc5000578607b5f3d25a70e21e9df">isNew</a>) 
<a name="l02523"></a>02523         {
<a name="l02524"></a>02524           <span class="keywordflow">if</span> (<a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;find((<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBAliasEditor.html#afb7ebe3f66185e9c70cd7c08eeccd265">Alias</a>))
<a name="l02525"></a>02525             {
<a name="l02526"></a>02526               QMessageBox::warning(<span class="keyword">this</span>, <span class="stringliteral">&quot;Alias already defined&quot;</span>, 
<a name="l02527"></a>02527                                    <span class="stringliteral">&quot;The alias \&quot;&quot;</span> + Alias + <span class="stringliteral">&quot;\&quot; already defined &quot;</span>
<a name="l02528"></a>02528                                    <span class="stringliteral">&quot;for source \&quot;&quot;</span> + <a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a> + <span class="stringliteral">&quot;\&quot;\n\n&quot;</span>
<a name="l02529"></a>02529                                    <span class="stringliteral">&quot;It&#39;s impossible to add an object with the same ID,\n&quot;</span>
<a name="l02530"></a>02530                                    <span class="stringliteral">&quot;but you can adit that entry (make a double click or\n&quot;</span>
<a name="l02531"></a>02531                                    <span class="stringliteral">&quot;press Enter when a keyboard focus in a list)\n&quot;</span>,
<a name="l02532"></a>02532                                    <span class="stringliteral">&quot;OK&quot;</span>);
<a name="l02533"></a>02533               <span class="keywordflow">return</span>;
<a name="l02534"></a>02534             };
<a name="l02535"></a>02535 
<a name="l02536"></a>02536           <a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;insert((<span class="keyword">const</span> <span class="keywordtype">char</span>*)Alias, <span class="keyword">new</span> QString(<a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>));
<a name="l02537"></a>02537           <a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#abeba381a891bab7d800602cdfd623ea7">collectObjAliases</a>(<a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>);
<a name="l02538"></a>02538 
<a name="l02539"></a>02539           <a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a> = <span class="keyword">new</span> <a class="code" href="classSBAliasListItem.html">SBAliasListItem</a>(<a class="code" href="classSBAliasEditor.html#a9a77567a0ca2afd2a6e6ec76e8ce44e3">AliasesLV</a>, Alias, <a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>);
<a name="l02540"></a>02540           <a class="code" href="classSBAliasEditor.html#a9a77567a0ca2afd2a6e6ec76e8ce44e3">AliasesLV</a>-&gt;setSelected(<a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a>, TRUE);
<a name="l02541"></a>02541           <span class="comment">// not works... ;-(</span>
<a name="l02542"></a>02542           <span class="comment">// AliasesLV-&gt;ensureItemVisible(AkaItem);</span>
<a name="l02543"></a>02543           <a class="code" href="classQListViewItem.html">QListViewItem</a> *item = <a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a>;
<a name="l02544"></a>02544           <a class="code" href="classQListViewItem.html">QListViewItem</a> *firstItem = <a class="code" href="classSBAliasEditor.html#a9a77567a0ca2afd2a6e6ec76e8ce44e3">AliasesLV</a>-&gt;firstChild();
<a name="l02545"></a>02545           <span class="keywordtype">int</span> h=0;
<a name="l02546"></a>02546           <span class="keywordflow">do</span> 
<a name="l02547"></a>02547             {
<a name="l02548"></a>02548               h += item-&gt;totalHeight();
<a name="l02549"></a>02549               item=item-&gt;itemAbove();
<a name="l02550"></a>02550             } 
<a name="l02551"></a>02551           <span class="keywordflow">while</span> (item &amp;&amp; item!=firstItem);
<a name="l02552"></a>02552           <a class="code" href="classSBAliasEditor.html#a9a77567a0ca2afd2a6e6ec76e8ce44e3">AliasesLV</a>-&gt;ensureVisible(0, h + <a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a>-&gt;totalHeight()/2);
<a name="l02553"></a>02553           <a class="code" href="classSBAliasEditor.html#ad6fcc5000578607b5f3d25a70e21e9df">isNew</a> = FALSE;
<a name="l02554"></a>02554         }
<a name="l02555"></a>02555       <span class="keywordflow">else</span>
<a name="l02556"></a>02556         {
<a name="l02557"></a>02557           <a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#a96d5e61da98d389b771a9029f8174189">aliasDict</a>()-&gt;replace((<span class="keyword">const</span> <span class="keywordtype">char</span>*)<a class="code" href="classSBAliasEditor.html#afb7ebe3f66185e9c70cd7c08eeccd265">Alias</a>, <span class="keyword">new</span> QString(<a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>));
<a name="l02558"></a>02558           <a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a>-&gt;<a class="code" href="classSBAliasListItem.html#a41c909ea4046625df4bf637c36f95e8a">Reference</a>= <a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>.copy();
<a name="l02559"></a>02559           <a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#abeba381a891bab7d800602cdfd623ea7">collectObjAliases</a>(<a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>);
<a name="l02560"></a>02560           <span class="keywordflow">if</span> (<a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a>!=<a class="code" href="classSBAliasEditor.html#a7421e60e22152e7ad84995d5aa36f7b1">OldReference</a>)
<a name="l02561"></a>02561             <a class="code" href="classSBAliasEditor.html#a0f546592e65491fd3a7447944ed63e6a">Wcrf</a>-&gt;<a class="code" href="classSBCatalog.html#abeba381a891bab7d800602cdfd623ea7">collectObjAliases</a>(<a class="code" href="classSBAliasEditor.html#a7421e60e22152e7ad84995d5aa36f7b1">OldReference</a>);
<a name="l02562"></a>02562           <a class="code" href="classSBAliasEditor.html#a46896a0d1759caee89df8e00afbfc47d">AkaItem</a>-&gt;repaint();
<a name="l02563"></a>02563         };
<a name="l02564"></a>02564     };
<a name="l02565"></a>02565   <a class="code" href="SbGeneral_8C.html#aef5cc75506f512b864a727ed8436ba80">Log</a>-&gt;<a class="code" href="classSBLog.html#a8c4ad11637bc0405bf28f0f29aa8a86a">write</a>(<a class="code" href="classSBLog.html#af729ae12fb4954f95e238b70db910f08a4d88517f1b07942f0b7f18c61e3585be">SBLog::DBG</a>, <a class="code" href="classSBLog.html#a1c3e29d096b460c80466ccde9380edf4afa49c8974116c9a3fd17e8fa7678bb62">SBLog::INTERFACE</a>, <a class="code" href="classSBAliasEditor.html#a8cfd12916f5821c09c6319bce19b8044">ClassName</a>() + <span class="stringliteral">&quot;: done&quot;</span>);
<a name="l02566"></a>02566 
<a name="l02567"></a>02567   <a class="code" href="classSBAliasEditor.html#a7ebfd41d1d9a966778102fcaa02ccdd7">QDialog::accept</a>();
<a name="l02568"></a>02568   <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l02569"></a>02569 };
<a name="l02570"></a>02570 
<a name="l02571"></a><a class="code" href="classSBAliasEditor.html#a49743fb1c9fc442973b2e7d78d977082">02571</a> <span class="keywordtype">void</span> <a class="code" href="classSBAliasEditor.html#a49743fb1c9fc442973b2e7d78d977082">SBAliasEditor::reject</a>()
<a name="l02572"></a>02572 {
<a name="l02573"></a>02573   <a class="code" href="classSBAliasEditor.html#a49743fb1c9fc442973b2e7d78d977082">QDialog::reject</a>();
<a name="l02574"></a>02574   <span class="keyword">delete</span> <span class="keyword">this</span>;
<a name="l02575"></a>02575 };
<a name="l02576"></a>02576 
<a name="l02577"></a><a class="code" href="classSBAliasEditor.html#a202d007340ccaf6c6db1f876bba83753">02577</a> <span class="keywordtype">void</span> <a class="code" href="classSBAliasEditor.html#a202d007340ccaf6c6db1f876bba83753">SBAliasEditor::acquireData</a>()
<a name="l02578"></a>02578 {
<a name="l02579"></a>02579   QString       Str;
<a name="l02580"></a>02580   <span class="keywordflow">if</span> (<a class="code" href="classSBAliasEditor.html#ad6fcc5000578607b5f3d25a70e21e9df">isNew</a>)
<a name="l02581"></a>02581     {
<a name="l02582"></a>02582       Str = <a class="code" href="classSBAliasEditor.html#a9226fa63435b7bfb3aec1bf37538449b">EAlias</a>-&gt;text();
<a name="l02583"></a>02583       Str=Str.leftJustify(8, <span class="charliteral">&#39; &#39;</span>, TRUE);
<a name="l02584"></a>02584       <span class="keywordflow">if</span> (<a class="code" href="classSBAliasEditor.html#afb7ebe3f66185e9c70cd7c08eeccd265">Alias</a> != Str)
<a name="l02585"></a>02585         {
<a name="l02586"></a>02586           <a class="code" href="classSBAliasEditor.html#a5b3b96cf1e584a9a362d92c6fe3c4fbd">isModified</a> = TRUE;
<a name="l02587"></a>02587           <a class="code" href="classSBAliasEditor.html#afb7ebe3f66185e9c70cd7c08eeccd265">Alias</a> = Str;
<a name="l02588"></a>02588         };
<a name="l02589"></a>02589     };
<a name="l02590"></a>02590 
<a name="l02591"></a>02591   <span class="keywordflow">if</span> (<a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a> != (Str=<a class="code" href="classSBAliasEditor.html#a46a8ee3beaba8a426d575ab0605f3049">CBReference</a>-&gt;currentText()))
<a name="l02592"></a>02592     {
<a name="l02593"></a>02593       <a class="code" href="classSBAliasEditor.html#a5b3b96cf1e584a9a362d92c6fe3c4fbd">isModified</a> = TRUE;
<a name="l02594"></a>02594       <a class="code" href="classSBAliasEditor.html#a1cd9e662f36b65cd78574ac3912befee">Reference</a> = Str;
<a name="l02595"></a>02595     };
<a name="l02596"></a>02596 };
<a name="l02597"></a>02597 <span class="comment">/*==============================================================================================*/</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Mon May 14 2012 13:21:51 for SteelBreeze Reference Manual by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
